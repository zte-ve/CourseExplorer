/*! For license information please see main.10d75583.js.LICENSE.txt */
(()=>{var e={353:e=>{e.exports=n;var t=null;try{t=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(T){}function n(e,t,n){this.low=0|e,this.high=0|t,this.unsigned=!!n}function r(e){return!0===(e&&e.__isLong__)}n.prototype.__isLong__,Object.defineProperty(n.prototype,"__isLong__",{value:!0}),n.isLong=r;var a={},o={};function s(e,t){var n,r,s;return t?(s=0<=(e>>>=0)&&e<256)&&(r=o[e])?r:(n=l(e,(0|e)<0?-1:0,!0),s&&(o[e]=n),n):(s=-128<=(e|=0)&&e<128)&&(r=a[e])?r:(n=l(e,e<0?-1:0,!1),s&&(a[e]=n),n)}function i(e,t){if(isNaN(e))return t?y:g;if(t){if(e<0)return y;if(e>=h)return x}else{if(e<=-f)return S;if(e+1>=f)return k}return e<0?i(-e,t).neg():l(e%p|0,e/p|0,t)}function l(e,t,r){return new n(e,t,r)}n.fromInt=s,n.fromNumber=i,n.fromBits=l;var u=Math.pow;function c(e,t,n){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return g;if("number"===typeof t?(n=t,t=!1):t=!!t,(n=n||10)<2||36<n)throw RangeError("radix");var r;if((r=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===r)return c(e.substring(1),t,n).neg();for(var a=i(u(n,8)),o=g,s=0;s<e.length;s+=8){var l=Math.min(8,e.length-s),d=parseInt(e.substring(s,s+l),n);if(l<8){var p=i(u(n,l));o=o.mul(p).add(i(d))}else o=(o=o.mul(a)).add(i(d))}return o.unsigned=t,o}function d(e,t){return"number"===typeof e?i(e,t):"string"===typeof e?c(e,t):l(e.low,e.high,"boolean"===typeof t?t:e.unsigned)}n.fromString=c,n.fromValue=d;var p=4294967296,h=p*p,f=h/2,m=s(1<<24),g=s(0);n.ZERO=g;var y=s(0,!0);n.UZERO=y;var b=s(1);n.ONE=b;var v=s(1,!0);n.UONE=v;var w=s(-1);n.NEG_ONE=w;var k=l(-1,2147483647,!1);n.MAX_VALUE=k;var x=l(-1,-1,!0);n.MAX_UNSIGNED_VALUE=x;var S=l(0,-2147483648,!1);n.MIN_VALUE=S;var N=n.prototype;N.toInt=function(){return this.unsigned?this.low>>>0:this.low},N.toNumber=function(){return this.unsigned?(this.high>>>0)*p+(this.low>>>0):this.high*p+(this.low>>>0)},N.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(S)){var t=i(e),n=this.div(t),r=n.mul(t).sub(this);return n.toString(e)+r.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var a=i(u(e,6),this.unsigned),o=this,s="";;){var l=o.div(a),c=(o.sub(l.mul(a)).toInt()>>>0).toString(e);if((o=l).isZero())return c+s;for(;c.length<6;)c="0"+c;s=""+c+s}},N.getHighBits=function(){return this.high},N.getHighBitsUnsigned=function(){return this.high>>>0},N.getLowBits=function(){return this.low},N.getLowBitsUnsigned=function(){return this.low>>>0},N.getNumBitsAbs=function(){if(this.isNegative())return this.eq(S)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&0==(e&1<<t);t--);return 0!=this.high?t+33:t+1},N.isZero=function(){return 0===this.high&&0===this.low},N.eqz=N.isZero,N.isNegative=function(){return!this.unsigned&&this.high<0},N.isPositive=function(){return this.unsigned||this.high>=0},N.isOdd=function(){return 1===(1&this.low)},N.isEven=function(){return 0===(1&this.low)},N.equals=function(e){return r(e)||(e=d(e)),(this.unsigned===e.unsigned||this.high>>>31!==1||e.high>>>31!==1)&&(this.high===e.high&&this.low===e.low)},N.eq=N.equals,N.notEquals=function(e){return!this.eq(e)},N.neq=N.notEquals,N.ne=N.notEquals,N.lessThan=function(e){return this.comp(e)<0},N.lt=N.lessThan,N.lessThanOrEqual=function(e){return this.comp(e)<=0},N.lte=N.lessThanOrEqual,N.le=N.lessThanOrEqual,N.greaterThan=function(e){return this.comp(e)>0},N.gt=N.greaterThan,N.greaterThanOrEqual=function(e){return this.comp(e)>=0},N.gte=N.greaterThanOrEqual,N.ge=N.greaterThanOrEqual,N.compare=function(e){if(r(e)||(e=d(e)),this.eq(e))return 0;var t=this.isNegative(),n=e.isNegative();return t&&!n?-1:!t&&n?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},N.comp=N.compare,N.negate=function(){return!this.unsigned&&this.eq(S)?S:this.not().add(b)},N.neg=N.negate,N.add=function(e){r(e)||(e=d(e));var t=this.high>>>16,n=65535&this.high,a=this.low>>>16,o=65535&this.low,s=e.high>>>16,i=65535&e.high,u=e.low>>>16,c=0,p=0,h=0,f=0;return h+=(f+=o+(65535&e.low))>>>16,p+=(h+=a+u)>>>16,c+=(p+=n+i)>>>16,c+=t+s,l((h&=65535)<<16|(f&=65535),(c&=65535)<<16|(p&=65535),this.unsigned)},N.subtract=function(e){return r(e)||(e=d(e)),this.add(e.neg())},N.sub=N.subtract,N.multiply=function(e){if(this.isZero())return g;if(r(e)||(e=d(e)),t)return l(t.mul(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned);if(e.isZero())return g;if(this.eq(S))return e.isOdd()?S:g;if(e.eq(S))return this.isOdd()?S:g;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(m)&&e.lt(m))return i(this.toNumber()*e.toNumber(),this.unsigned);var n=this.high>>>16,a=65535&this.high,o=this.low>>>16,s=65535&this.low,u=e.high>>>16,c=65535&e.high,p=e.low>>>16,h=65535&e.low,f=0,y=0,b=0,v=0;return b+=(v+=s*h)>>>16,y+=(b+=o*h)>>>16,b&=65535,y+=(b+=s*p)>>>16,f+=(y+=a*h)>>>16,y&=65535,f+=(y+=o*p)>>>16,y&=65535,f+=(y+=s*c)>>>16,f+=n*h+a*p+o*c+s*u,l((b&=65535)<<16|(v&=65535),(f&=65535)<<16|(y&=65535),this.unsigned)},N.mul=N.multiply,N.divide=function(e){if(r(e)||(e=d(e)),e.isZero())throw Error("division by zero");var n,a,o;if(t)return this.unsigned||-2147483648!==this.high||-1!==e.low||-1!==e.high?l((this.unsigned?t.div_u:t.div_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?y:g;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return y;if(e.gt(this.shru(1)))return v;o=y}else{if(this.eq(S))return e.eq(b)||e.eq(w)?S:e.eq(S)?b:(n=this.shr(1).div(e).shl(1)).eq(g)?e.isNegative()?b:w:(a=this.sub(e.mul(n)),o=n.add(a.div(e)));if(e.eq(S))return this.unsigned?y:g;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();o=g}for(a=this;a.gte(e);){n=Math.max(1,Math.floor(a.toNumber()/e.toNumber()));for(var s=Math.ceil(Math.log(n)/Math.LN2),c=s<=48?1:u(2,s-48),p=i(n),h=p.mul(e);h.isNegative()||h.gt(a);)h=(p=i(n-=c,this.unsigned)).mul(e);p.isZero()&&(p=b),o=o.add(p),a=a.sub(h)}return o},N.div=N.divide,N.modulo=function(e){return r(e)||(e=d(e)),t?l((this.unsigned?t.rem_u:t.rem_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},N.mod=N.modulo,N.rem=N.modulo,N.not=function(){return l(~this.low,~this.high,this.unsigned)},N.and=function(e){return r(e)||(e=d(e)),l(this.low&e.low,this.high&e.high,this.unsigned)},N.or=function(e){return r(e)||(e=d(e)),l(this.low|e.low,this.high|e.high,this.unsigned)},N.xor=function(e){return r(e)||(e=d(e)),l(this.low^e.low,this.high^e.high,this.unsigned)},N.shiftLeft=function(e){return r(e)&&(e=e.toInt()),0===(e&=63)?this:e<32?l(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):l(0,this.low<<e-32,this.unsigned)},N.shl=N.shiftLeft,N.shiftRight=function(e){return r(e)&&(e=e.toInt()),0===(e&=63)?this:e<32?l(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):l(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},N.shr=N.shiftRight,N.shiftRightUnsigned=function(e){if(r(e)&&(e=e.toInt()),0===(e&=63))return this;var t=this.high;return e<32?l(this.low>>>e|t<<32-e,t>>>e,this.unsigned):l(32===e?t:t>>>e-32,0,this.unsigned)},N.shru=N.shiftRightUnsigned,N.shr_u=N.shiftRightUnsigned,N.toSigned=function(){return this.unsigned?l(this.low,this.high,!1):this},N.toUnsigned=function(){return this.unsigned?this:l(this.low,this.high,!0)},N.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},N.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},N.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},n.fromBytes=function(e,t,r){return r?n.fromBytesLE(e,t):n.fromBytesBE(e,t)},n.fromBytesLE=function(e,t){return new n(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},n.fromBytesBE=function(e,t){return new n(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)}},771:(e,t,n)=>{(()=>{"use strict";var t={n:e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return t.d(n,{a:n}),n},d:(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},r={};t.r(r),t.d(r,{Chatbot:()=>P,createChatBotMessage:()=>c,createClientMessage:()=>p,createCustomMessage:()=>d,default:()=>F,useChatbot:()=>D});const a=n(43);var o=t.n(a);const s=n(321);var i=t.n(s),l=function(){return l=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},l.apply(this,arguments)},u=function(e,t){return{message:e,type:t,id:Math.round(Date.now()*Math.random())}},c=function(e,t){return l(l(l({},u(e,"bot")),t),{loading:!0})},d=function(e,t,n){return l(l({},u(e,t)),n)},p=function(e,t){return l(l({},u(e,"user")),t)},h=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(e)return e.apply(void 0,t)};function f(){return f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f.apply(this,arguments)}const m=e=>{let{styles:t={},...n}=e;return o().createElement("svg",f({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},n),o().createElement("path",{d:"M256 288c79.5 0 144-64.5 144-144S335.5 0 256 0 112 64.5 112 144s64.5 144 144 144zm128 32h-55.1c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16H128C57.3 320 0 377.3 0 448v16c0 26.5 21.5 48 48 48h416c26.5 0 48-21.5 48-48v-16c0-70.7-57.3-128-128-128z"}))},g=function(e){var t=e.message,n=e.customComponents;return o().createElement("div",{className:"react-chatbot-kit-user-chat-message-container"},o().createElement(i(),{condition:!!n.userChatMessage,show:h(n.userChatMessage,{message:t}),elseShow:o().createElement("div",{className:"react-chatbot-kit-user-chat-message"},t,o().createElement("div",{className:"react-chatbot-kit-user-chat-message-arrow"}))}),o().createElement(i(),{condition:!!n.userAvatar,show:h(n.userAvatar),elseShow:o().createElement("div",{className:"react-chatbot-kit-user-avatar"},o().createElement("div",{className:"react-chatbot-kit-user-avatar-container"},o().createElement(m,{className:"react-chatbot-kit-user-avatar-icon"})))}))},y=function(){return o().createElement("div",{className:"react-chatbot-kit-chat-bot-avatar"},o().createElement("div",{className:"react-chatbot-kit-chat-bot-avatar-container"},o().createElement("p",{className:"react-chatbot-kit-chat-bot-avatar-letter"},"B")))},b=function(){return o().createElement("div",{className:"chatbot-loader-container"},o().createElement("svg",{id:"dots",width:"50px",height:"21px",viewBox:"0 0 132 58",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},o().createElement("g",{stroke:"none",fill:"none"},o().createElement("g",{id:"chatbot-loader",fill:"#fff"},o().createElement("circle",{id:"chatbot-loader-dot1",cx:"25",cy:"30",r:"13"}),o().createElement("circle",{id:"chatbot-loader-dot2",cx:"65",cy:"30",r:"13"}),o().createElement("circle",{id:"chatbot-loader-dot3",cx:"105",cy:"30",r:"13"})))))};var v=function(){return v=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},v.apply(this,arguments)};const w=function(e){var t=e.message,n=e.withAvatar,r=void 0===n||n,s=e.loading,l=e.messages,u=e.customComponents,c=e.setState,d=e.customStyles,p=e.delay,f=e.id,m=(0,a.useState)(!1),g=m[0],w=m[1];(0,a.useEffect)((function(){var e;return function(t,n){var r=750;p&&(r+=p),e=setTimeout((function(){var e=function(e,t,n){if(n||2===arguments.length)for(var r,a=0,o=t.length;a<o;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))}([],t,!0).find((function(e){return e.id===f}));e&&(e.loading=!1,e.delay=void 0,n((function(t){var n=t.messages,r=n.findIndex((function(e){return e.id===f}));return n[r]=e,v(v({},t),{messages:n})})))}),r)}(l,c),function(){clearTimeout(e)}}),[p,f]),(0,a.useEffect)((function(){p?setTimeout((function(){return w(!0)}),p):w(!0)}),[p]);var k={backgroundColor:""},x={borderRightColor:""};return d&&(k.backgroundColor=d.backgroundColor,x.borderRightColor=d.backgroundColor),o().createElement(i(),{condition:g,show:o().createElement("div",{className:"react-chatbot-kit-chat-bot-message-container"},o().createElement(i(),{condition:r,show:o().createElement(i(),{condition:!!(null==u?void 0:u.botAvatar),show:h(null==u?void 0:u.botAvatar),elseShow:o().createElement(y,null)})}),o().createElement(i(),{condition:!!(null==u?void 0:u.botChatMessage),show:h(null==u?void 0:u.botChatMessage,{message:t,loader:o().createElement(b,null)}),elseShow:o().createElement("div",{className:"react-chatbot-kit-chat-bot-message",style:k},o().createElement(i(),{condition:s,show:o().createElement(b,null),elseShow:o().createElement("span",null,t)}),o().createElement(i(),{condition:r,show:o().createElement("div",{className:"react-chatbot-kit-chat-bot-message-arrow",style:x})}))}))})};function k(){return k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},k.apply(this,arguments)}const x=e=>{let{styles:t={},...n}=e;return o().createElement("svg",k({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},n),o().createElement("path",{d:"M476 3.2L12.5 270.6c-18.1 10.4-15.8 35.6 2.2 43.2L121 358.4l287.3-253.2c5.5-4.9 13.3 2.6 8.6 8.3L176 407v80.5c0 23.6 28.5 32.9 42.5 15.8L282 426l124.6 52.2c14.2 6 30.4-2.9 33-18.2l72-432C515 7.8 493.3-6.8 476 3.2z"}))};var S=function(){return S=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},S.apply(this,arguments)},N=function(e,t,n){if(n||2===arguments.length)for(var r,a=0,o=t.length;a<o;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))};const T=function(e){var t=e.state,n=e.setState,r=e.widgetRegistry,s=e.messageParser,l=e.parse,c=e.customComponents,d=e.actionProvider,p=e.botName,h=e.customStyles,f=e.headerText,m=e.customMessages,y=e.placeholderText,b=e.validator,v=e.disableScrollToBottom,k=e.messageHistory,T=e.actions,E=e.messageContainerRef,_=t.messages,I=(0,a.useState)(""),C=I[0],A=I[1],M=function(){setTimeout((function(){var e;E.current&&(E.current.scrollTop=null===(e=null==E?void 0:E.current)||void 0===e?void 0:e.scrollHeight)}),50)};(0,a.useEffect)((function(){v||M()}));var O=function(){n((function(e){return S(S({},e),{messages:N(N([],e.messages,!0),[u(C,"user")],!1)})})),M(),A("")},D={backgroundColor:""};h&&h.chatButton&&(D.backgroundColor=h.chatButton.backgroundColor);var R="Conversation with "+p;f&&(R=f);var P="Write your message here";return y&&(P=y),o().createElement("div",{className:"react-chatbot-kit-chat-container"},o().createElement("div",{className:"react-chatbot-kit-chat-inner-container"},o().createElement(i(),{condition:!!c.header,show:c.header&&c.header(d),elseShow:o().createElement("div",{className:"react-chatbot-kit-chat-header"},R)}),o().createElement("div",{className:"react-chatbot-kit-chat-message-container",ref:E},o().createElement(i(),{condition:"string"==typeof k&&Boolean(k),show:o().createElement("div",{dangerouslySetInnerHTML:{__html:k}})}),_.map((function(e,a){return"bot"===e.type?o().createElement(o().Fragment,{key:e.id},function(e,a){var s;s=e.withAvatar?e.withAvatar:function(e,t){if(0===t)return!0;var n=e[t-1];return!("bot"===n.type&&!n.widget)}(_,a);var l=S(S({},e),{setState:n,state:t,customComponents:c,widgetRegistry:r,messages:_,actions:T});if(e.widget){var u=r.getWidget(l.widget,S(S({},t),{scrollIntoView:M,payload:e.payload,actions:T}));return o().createElement(o().Fragment,null,o().createElement(w,S({customStyles:h.botMessageBox,withAvatar:s},l,{key:e.id})),o().createElement(i(),{condition:!l.loading,show:u||null}))}return o().createElement(w,S({customStyles:h.botMessageBox,key:e.id,withAvatar:s},l,{customComponents:c,messages:_,setState:n}))}(e,a)):"user"===e.type?o().createElement(o().Fragment,{key:e.id},function(e){var n=r.getWidget(e.widget,S(S({},t),{scrollIntoView:M,payload:e.payload,actions:T}));return o().createElement(o().Fragment,null,o().createElement(g,{message:e.message,key:e.id,customComponents:c}),n||null)}(e)):function(e,t){return!!t[e.type]}(e,m)?o().createElement(o().Fragment,{key:e.id},function(e){var a=m[e.type],s={setState:n,state:t,scrollIntoView:M,actionProvider:d,payload:e.payload,actions:T};if(e.widget){var i=r.getWidget(e.widget,S(S({},t),{scrollIntoView:M,payload:e.payload,actions:T}));return o().createElement(o().Fragment,null,a(s),i||null)}return a(s)}(e)):void 0})),o().createElement("div",{style:{paddingBottom:"15px"}})),o().createElement("div",{className:"react-chatbot-kit-chat-input-container"},o().createElement("form",{className:"react-chatbot-kit-chat-input-form",onSubmit:function(e){if(e.preventDefault(),b&&"function"==typeof b){if(b(C)){if(O(),l)return l(C);s.parse(C)}}else{if(O(),l)return l(C);s.parse(C)}}},o().createElement("input",{className:"react-chatbot-kit-chat-input",placeholder:P,value:C,onChange:function(e){return A(e.target.value)}}),o().createElement("button",{className:"react-chatbot-kit-chat-btn-send",style:D},o().createElement(x,{className:"react-chatbot-kit-chat-btn-send-icon"}))))))},E=function(e){var t=e.message;return o().createElement("div",{className:"react-chatbot-kit-error"},o().createElement("h1",{className:"react-chatbot-kit-error-header"},"Ooops. Something is missing."),o().createElement("div",{className:"react-chatbot-kit-error-container"},o().createElement(w,{message:t,withAvatar:!0,loading:!1,id:1,customStyles:{backgroundColor:""},messages:[]})),o().createElement("a",{href:"https://fredrikoseberg.github.io/react-chatbot-kit-docs/",rel:"noopener norefferer",target:"_blank",className:"react-chatbot-kit-error-docs"},"View the docs"))};var _=function(e){return e.widgets?e.widgets:[]},I=function(e){try{new e}catch(e){return!1}return!0},C=function(){return C=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},C.apply(this,arguments)};const A=function(e,t){var n=this;this.addWidget=function(e,t){var r=e.widgetName,a=e.widgetFunc,o=e.mapStateToProps,s=e.props;n[r]={widget:a,props:s,mapStateToProps:o,parentProps:C({},t)}},this.getWidget=function(e,t){var r=n[e];if(r){var a,o=C(C(C(C({scrollIntoView:t.scrollIntoView},r.parentProps),"object"==typeof(a=r.props)?a:{}),n.mapStateToProps(r.mapStateToProps,t)),{setState:n.setState,actionProvider:n.actionProvider||t.actions,actions:t.actions,state:t,payload:t.payload});return r.widget(o)||null}},this.mapStateToProps=function(e,t){if(e)return e.reduce((function(e,n){return e[n]=t[n],e}),{})},this.setState=e,this.actionProvider=t};var M=function(){return M=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},M.apply(this,arguments)},O=function(e,t,n){if(n||2===arguments.length)for(var r,a=0,o=t.length;a<o;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))};const D=function(e){var t=e.config,n=e.actionProvider,r=e.messageParser,s=e.messageHistory,i=e.runInitialMessagesWithHistory,l=e.saveMessages,u=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}(e,["config","actionProvider","messageParser","messageHistory","runInitialMessagesWithHistory","saveMessages"]),h="",f="";if(!t||!n||!r)return{configurationError:h="I think you forgot to feed me some props. Did you remember to pass a config, a messageparser and an actionprovider?"};var m=function(e,t){var n=[];return e.initialMessages||n.push("Config must contain property 'initialMessages', and it expects it to be an array of chatbotmessages."),n}(t);if(m.length)return{invalidPropsError:f=m.reduce((function(e,t){return e+t}),"")};var g=function(e){return e.state?e.state:{}}(t);s&&Array.isArray(s)?t.initialMessages=O([],s,!0):"string"==typeof s&&Boolean(s)&&(i||(t.initialMessages=[]));var y,b,v,w=o().useState(M({messages:O([],t.initialMessages,!0)},g)),k=w[0],x=w[1],S=o().useRef(k.messages),N=o().useRef(),T=o().useRef();(0,a.useEffect)((function(){S.current=k.messages})),(0,a.useEffect)((function(){s&&Array.isArray(s)&&x((function(e){return M(M({},e),{messages:s})}))}),[]),(0,a.useEffect)((function(){var e=T.current;return function(){if(l&&"function"==typeof l){var t=e.innerHTML.toString();l(S.current,t)}}}),[]),(0,a.useEffect)((function(){N.current=k}),[k]);var E=n,C=r;return I(E)&&I(C)?(y=new n(c,x,p,N.current,d,u),b=new A(x,y),v=new r(y,N.current),_(t).forEach((function(e){return null==b?void 0:b.addWidget(e,u)}))):(y=n,v=r,b=new A(x,null),_(t).forEach((function(e){return null==b?void 0:b.addWidget(e,u)}))),{widgetRegistry:b,actionProv:y,messagePars:v,configurationError:h,invalidPropsError:f,state:k,setState:x,messageContainerRef:T,ActionProvider:E,MessageParser:C}};var R=function(){return R=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},R.apply(this,arguments)};const P=function(e){var t=e.actionProvider,n=e.messageParser,r=e.config,a=e.headerText,s=e.placeholderText,i=e.saveMessages,l=e.messageHistory,u=e.runInitialMessagesWithHistory,d=e.disableScrollToBottom,p=e.validator,h=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}(e,["actionProvider","messageParser","config","headerText","placeholderText","saveMessages","messageHistory","runInitialMessagesWithHistory","disableScrollToBottom","validator"]),f=D(R({config:r,actionProvider:t,messageParser:n,messageHistory:l,saveMessages:i,runInitialMessagesWithHistory:u},h)),m=f.configurationError,g=f.invalidPropsError,y=f.ActionProvider,b=f.MessageParser,v=f.widgetRegistry,w=f.messageContainerRef,k=f.actionProv,x=f.messagePars,S=f.state,N=f.setState;if(m)return o().createElement(E,{message:m});if(g.length)return o().createElement(E,{message:g});var _=function(e){return e.customStyles?e.customStyles:{}}(r),C=function(e){return e.customComponents?e.customComponents:{}}(r),A=function(e){return e.botName?e.botName:"Bot"}(r),M=function(e){return e.customMessages?e.customMessages:{}}(r);return I(y)&&I(b)?o().createElement(T,{state:S,setState:N,widgetRegistry:v,actionProvider:k,messageParser:x,customMessages:M,customComponents:R({},C),botName:A,customStyles:R({},_),headerText:a,placeholderText:s,validator:p,messageHistory:l,disableScrollToBottom:d,messageContainerRef:w}):o().createElement(y,{state:S,setState:N,createChatBotMessage:c},o().createElement(b,null,o().createElement(T,{state:S,setState:N,widgetRegistry:v,actionProvider:y,messageParser:b,customMessages:M,customComponents:R({},C),botName:A,customStyles:R({},_),headerText:a,placeholderText:s,validator:p,messageHistory:l,disableScrollToBottom:d,messageContainerRef:w})))},F=P;e.exports=r})()},321:e=>{(()=>{"use strict";var t={d:(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},n={};t.r(n),t.d(n,{default:()=>r});const r=function(e){var t=e.condition,n=e.show,r=e.elseShow,a=function(e){return"function"==typeof e},o=function(e){return e()||(console.warn("Nothing was returned from your render function. Please make sure you are returning a valid React element."),null)};return t?a(n)?o(n):n:!t&&r?a(r)?o(r):r:null};e.exports=n})()},730:(e,t,n)=>{"use strict";var r=n(43),a=n(853);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,i={};function l(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(i[e]=t,e=0;e<t.length;e++)s.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},f={};function m(e,t,n,r,a,o,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function v(e,t,n,r){var a=g.hasOwnProperty(t)?g[t]:null;(null!==a?0!==a.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,a,r)&&(n=null),r||null===a?function(e){return!!d.call(f,e)||!d.call(h,e)&&(p.test(e)?f[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=null===n?3!==a.type&&"":n:(t=a.attributeName,r=a.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(a=a.type)||4===a&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,b);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,b);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,b);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,k=Symbol.for("react.element"),x=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),_=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),O=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var R=Symbol.iterator;function P(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=R&&e[R]||e["@@iterator"])?e:null}var F,L=Object.assign;function z(e){if(void 0===F)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);F=t&&t[1]||""}return"\n"+F+e}var B=!1;function V(e,t){if(!e||B)return"";B=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var a=u.stack.split("\n"),o=r.stack.split("\n"),s=a.length-1,i=o.length-1;1<=s&&0<=i&&a[s]!==o[i];)i--;for(;1<=s&&0<=i;s--,i--)if(a[s]!==o[i]){if(1!==s||1!==i)do{if(s--,0>--i||a[s]!==o[i]){var l="\n"+a[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=s&&0<=i);break}}}finally{B=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?z(e):""}function j(e){switch(e.tag){case 5:return z(e.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function U(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case x:return"Portal";case T:return"Profiler";case N:return"StrictMode";case C:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case _:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case I:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case M:return null!==(t=e.displayName||null)?t:U(e.type)||"Memo";case O:t=e._payload,e=e._init;try{return U(e(t))}catch(n){}}return null}function W(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return U(t);case 8:return t===N?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function q(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var a=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&v(e,"checked",t,!1)}function X(e,t){J(e,t);var n=q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+q(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ae(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:q(n)}}function oe(e,t){var n=q(t.value),r=q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ie(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ie(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,ce,de=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function pe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),a=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}Object.keys(he).forEach((function(e){fe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]}))}));var ye=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function be(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function ve(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function ke(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,Se=null,Ne=null;function Te(e){if(e=va(e)){if("function"!==typeof xe)throw Error(o(280));var t=e.stateNode;t&&(t=ka(t),xe(e.stateNode,e.type,t))}}function Ee(e){Se?Ne?Ne.push(e):Ne=[e]:Se=e}function _e(){if(Se){var e=Se,t=Ne;if(Ne=Se=null,Te(e),t)for(e=0;e<t.length;e++)Te(t[e])}}function Ie(e,t){return e(t)}function Ce(){}var Ae=!1;function Me(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Ie(e,t,n)}finally{Ae=!1,(null!==Se||null!==Ne)&&(Ce(),_e())}}function Oe(e,t){var n=e.stateNode;if(null===n)return null;var r=ka(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var De=!1;if(c)try{var Re={};Object.defineProperty(Re,"passive",{get:function(){De=!0}}),window.addEventListener("test",Re,Re),window.removeEventListener("test",Re,Re)}catch(ce){De=!1}function Pe(e,t,n,r,a,o,s,i,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Fe=!1,Le=null,ze=!1,Be=null,Ve={onError:function(e){Fe=!0,Le=e}};function je(e,t,n,r,a,o,s,i,l){Fe=!1,Le=null,Pe.apply(Ve,arguments)}function Ue(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function We(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function qe(e){if(Ue(e)!==e)throw Error(o(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ue(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var s=a.alternate;if(null===s){if(null!==(r=a.return)){n=r;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===n)return qe(a),e;if(s===r)return qe(a),t;s=s.sibling}throw Error(o(188))}if(n.return!==r.return)n=a,r=s;else{for(var i=!1,l=a.child;l;){if(l===n){i=!0,n=a,r=s;break}if(l===r){i=!0,r=a,n=s;break}l=l.sibling}if(!i){for(l=s.child;l;){if(l===n){i=!0,n=s,r=a;break}if(l===r){i=!0,r=s,n=a;break}l=l.sibling}if(!i)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ge=a.unstable_scheduleCallback,Qe=a.unstable_cancelCallback,$e=a.unstable_shouldYield,Ye=a.unstable_requestPaint,Je=a.unstable_now,Xe=a.unstable_getCurrentPriorityLevel,Ze=a.unstable_ImmediatePriority,et=a.unstable_UserBlockingPriority,tt=a.unstable_NormalPriority,nt=a.unstable_LowPriority,rt=a.unstable_IdlePriority,at=null,ot=null;var st=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(it(e)/lt|0)|0},it=Math.log,lt=Math.LN2;var ut=64,ct=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function pt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,a=e.suspendedLanes,o=e.pingedLanes,s=268435455&n;if(0!==s){var i=s&~a;0!==i?r=dt(i):0!==(o&=s)&&(r=dt(o))}else 0!==(s=n&~a)?r=dt(s):0!==o&&(r=dt(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&a)&&((a=r&-r)>=(o=t&-t)||16===a&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)a=1<<(n=31-st(t)),r|=e[n],t&=~a;return r}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ut;return 0===(4194240&(ut<<=1))&&(ut=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function bt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-st(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var vt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var kt,xt,St,Nt,Tt,Et=!1,_t=[],It=null,Ct=null,At=null,Mt=new Map,Ot=new Map,Dt=[],Rt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Pt(e,t){switch(e){case"focusin":case"focusout":It=null;break;case"dragenter":case"dragleave":Ct=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Mt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ot.delete(t.pointerId)}}function Ft(e,t,n,r,a,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[a]},null!==t&&(null!==(t=va(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function Lt(e){var t=ba(e.target);if(null!==t){var n=Ue(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=We(n)))return e.blockedOn=t,void Tt(e.priority,(function(){St(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function zt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=va(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Bt(e,t,n){zt(e)&&n.delete(t)}function Vt(){Et=!1,null!==It&&zt(It)&&(It=null),null!==Ct&&zt(Ct)&&(Ct=null),null!==At&&zt(At)&&(At=null),Mt.forEach(Bt),Ot.forEach(Bt)}function jt(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Vt)))}function Ut(e){function t(t){return jt(t,e)}if(0<_t.length){jt(_t[0],e);for(var n=1;n<_t.length;n++){var r=_t[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==It&&jt(It,e),null!==Ct&&jt(Ct,e),null!==At&&jt(At,e),Mt.forEach(t),Ot.forEach(t),n=0;n<Dt.length;n++)(r=Dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Dt.length&&null===(n=Dt[0]).blockedOn;)Lt(n),null===n.blockedOn&&Dt.shift()}var Wt=w.ReactCurrentBatchConfig,qt=!0;function Ht(e,t,n,r){var a=vt,o=Wt.transition;Wt.transition=null;try{vt=1,Gt(e,t,n,r)}finally{vt=a,Wt.transition=o}}function Kt(e,t,n,r){var a=vt,o=Wt.transition;Wt.transition=null;try{vt=4,Gt(e,t,n,r)}finally{vt=a,Wt.transition=o}}function Gt(e,t,n,r){if(qt){var a=$t(e,t,n,r);if(null===a)qr(e,t,r,Qt,n),Pt(e,r);else if(function(e,t,n,r,a){switch(t){case"focusin":return It=Ft(It,e,t,n,r,a),!0;case"dragenter":return Ct=Ft(Ct,e,t,n,r,a),!0;case"mouseover":return At=Ft(At,e,t,n,r,a),!0;case"pointerover":var o=a.pointerId;return Mt.set(o,Ft(Mt.get(o)||null,e,t,n,r,a)),!0;case"gotpointercapture":return o=a.pointerId,Ot.set(o,Ft(Ot.get(o)||null,e,t,n,r,a)),!0}return!1}(a,e,t,n,r))r.stopPropagation();else if(Pt(e,r),4&t&&-1<Rt.indexOf(e)){for(;null!==a;){var o=va(a);if(null!==o&&kt(o),null===(o=$t(e,t,n,r))&&qr(e,t,r,Qt,n),o===a)break;a=o}null!==a&&r.stopPropagation()}else qr(e,t,r,null,n)}}var Qt=null;function $t(e,t,n,r){if(Qt=null,null!==(e=ba(e=ke(r))))if(null===(t=Ue(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=We(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,Xt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Xt,r=n.length,a="value"in Jt?Jt.value:Jt.textContent,o=a.length;for(e=0;e<r&&n[e]===a[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===a[o-t];t++);return Zt=a.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,a,o){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(a):a[s]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,ln,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=an(un),dn=L({},un,{view:0,detail:0}),pn=an(dn),hn=L({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(on=e.screenX-ln.screenX,sn=e.screenY-ln.screenY):sn=on=0,ln=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),fn=an(hn),mn=an(L({},hn,{dataTransfer:0})),gn=an(L({},dn,{relatedTarget:0})),yn=an(L({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),bn=L({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vn=an(bn),wn=an(L({},un,{data:0})),kn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function Tn(){return Nn}var En=L({},dn,{key:function(e){if(e.key){var t=kn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),_n=an(En),In=an(L({},hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Cn=an(L({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tn})),An=an(L({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),Mn=L({},hn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),On=an(Mn),Dn=[9,13,27,32],Rn=c&&"CompositionEvent"in window,Pn=null;c&&"documentMode"in document&&(Pn=document.documentMode);var Fn=c&&"TextEvent"in window&&!Pn,Ln=c&&(!Rn||Pn&&8<Pn&&11>=Pn),zn=String.fromCharCode(32),Bn=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Un=!1;var Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wn[e.type]:"textarea"===t}function Hn(e,t,n,r){Ee(r),0<(t=Kr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Gn=null;function Qn(e){zr(e,0)}function $n(e){if(G(wa(e)))return e}function Yn(e,t){if("change"===e)return t}var Jn=!1;if(c){var Xn;if(c){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Xn=Zn}else Xn=!1;Jn=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Gn=Kn=null)}function nr(e){if("value"===e.propertyName&&$n(Gn)){var t=[];Hn(t,Gn,e,ke(e)),Me(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ar(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Gn)}function or(e,t){if("click"===e)return $n(t)}function sr(e,t){if("input"===e||"change"===e)return $n(t)}var ir="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(ir(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!d.call(t,a)||!ir(e[a],t[a]))return!1}return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function pr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function hr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function fr(e){var t=pr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&hr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var a=n.textContent.length,o=Math.min(r.start,a);r=void 0===r.end?o:Math.min(r.end,a),!e.extend&&o>r&&(a=r,r=o,o=a),a=cr(n,o);var s=cr(n,r);a&&s&&(1!==e.rangeCount||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=c&&"documentMode"in document&&11>=document.documentMode,gr=null,yr=null,br=null,vr=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;vr||null==gr||gr!==Q(r)||("selectionStart"in(r=gr)&&hr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},br&&lr(br,r)||(br=r,0<(r=Kr(yr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function kr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:kr("Animation","AnimationEnd"),animationiteration:kr("Animation","AnimationIteration"),animationstart:kr("Animation","AnimationStart"),transitionend:kr("Transition","TransitionEnd")},Sr={},Nr={};function Tr(e){if(Sr[e])return Sr[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Nr)return Sr[e]=n[t];return e}c&&(Nr=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Er=Tr("animationend"),_r=Tr("animationiteration"),Ir=Tr("animationstart"),Cr=Tr("transitionend"),Ar=new Map,Mr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Or(e,t){Ar.set(e,t),l(t,[e])}for(var Dr=0;Dr<Mr.length;Dr++){var Rr=Mr[Dr];Or(Rr.toLowerCase(),"on"+(Rr[0].toUpperCase()+Rr.slice(1)))}Or(Er,"onAnimationEnd"),Or(_r,"onAnimationIteration"),Or(Ir,"onAnimationStart"),Or("dblclick","onDoubleClick"),Or("focusin","onFocus"),Or("focusout","onBlur"),Or(Cr,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pr));function Lr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,a,s,i,l,u){if(je.apply(this,arguments),Fe){if(!Fe)throw Error(o(198));var c=Le;Fe=!1,Le=null,ze||(ze=!0,Be=c)}}(r,t,void 0,e),e.currentTarget=null}function zr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var i=r[s],l=i.instance,u=i.currentTarget;if(i=i.listener,l!==o&&a.isPropagationStopped())break e;Lr(a,i,u),o=l}else for(s=0;s<r.length;s++){if(l=(i=r[s]).instance,u=i.currentTarget,i=i.listener,l!==o&&a.isPropagationStopped())break e;Lr(a,i,u),o=l}}}if(ze)throw e=Be,ze=!1,Be=null,e}function Br(e,t){var n=t[ma];void 0===n&&(n=t[ma]=new Set);var r=e+"__bubble";n.has(r)||(Wr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),Wr(n,e,r,t)}var jr="_reactListening"+Math.random().toString(36).slice(2);function Ur(e){if(!e[jr]){e[jr]=!0,s.forEach((function(t){"selectionchange"!==t&&(Fr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[jr]||(t[jr]=!0,Vr("selectionchange",!1,t))}}function Wr(e,t,n,r){switch(Yt(t)){case 1:var a=Ht;break;case 4:a=Kt;break;default:a=Gt}n=a.bind(null,t,n,e),a=void 0,!De||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function qr(e,t,n,r,a){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var i=r.stateNode.containerInfo;if(i===a||8===i.nodeType&&i.parentNode===a)break;if(4===s)for(s=r.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===a||8===l.nodeType&&l.parentNode===a))return;s=s.return}for(;null!==i;){if(null===(s=ba(i)))return;if(5===(l=s.tag)||6===l){r=o=s;continue e}i=i.parentNode}}r=r.return}Me((function(){var r=o,a=ke(n),s=[];e:{var i=Ar.get(e);if(void 0!==i){var l=cn,u=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=_n;break;case"focusin":u="focus",l=gn;break;case"focusout":u="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Cn;break;case Er:case _r:case Ir:l=yn;break;case Cr:l=An;break;case"scroll":l=pn;break;case"wheel":l=On;break;case"copy":case"cut":case"paste":l=vn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=In}var c=0!==(4&t),d=!c&&"scroll"===e,p=c?null!==i?i+"Capture":null:i;c=[];for(var h,f=r;null!==f;){var m=(h=f).stateNode;if(5===h.tag&&null!==m&&(h=m,null!==p&&(null!=(m=Oe(f,p))&&c.push(Hr(f,m,h)))),d)break;f=f.return}0<c.length&&(i=new l(i,u,null,n,a),s.push({event:i,listeners:c}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(i="mouseover"===e||"pointerover"===e)||n===we||!(u=n.relatedTarget||n.fromElement)||!ba(u)&&!u[fa])&&(l||i)&&(i=a.window===a?a:(i=a.ownerDocument)?i.defaultView||i.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?ba(u):null)&&(u!==(d=Ue(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=fn,m="onMouseLeave",p="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(c=In,m="onPointerLeave",p="onPointerEnter",f="pointer"),d=null==l?i:wa(l),h=null==u?i:wa(u),(i=new c(m,f+"leave",l,n,a)).target=d,i.relatedTarget=h,m=null,ba(a)===r&&((c=new c(p,f+"enter",u,n,a)).target=h,c.relatedTarget=d,m=c),d=m,l&&u)e:{for(p=u,f=0,h=c=l;h;h=Gr(h))f++;for(h=0,m=p;m;m=Gr(m))h++;for(;0<f-h;)c=Gr(c),f--;for(;0<h-f;)p=Gr(p),h--;for(;f--;){if(c===p||null!==p&&c===p.alternate)break e;c=Gr(c),p=Gr(p)}c=null}else c=null;null!==l&&Qr(s,i,l,c,!1),null!==u&&null!==d&&Qr(s,d,u,c,!0)}if("select"===(l=(i=r?wa(r):window).nodeName&&i.nodeName.toLowerCase())||"input"===l&&"file"===i.type)var g=Yn;else if(qn(i))if(Jn)g=sr;else{g=ar;var y=rr}else(l=i.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(g=or);switch(g&&(g=g(e,r))?Hn(s,g,n,a):(y&&y(e,i,r),"focusout"===e&&(y=i._wrapperState)&&y.controlled&&"number"===i.type&&ee(i,"number",i.value)),y=r?wa(r):window,e){case"focusin":(qn(y)||"true"===y.contentEditable)&&(gr=y,yr=r,br=null);break;case"focusout":br=yr=gr=null;break;case"mousedown":vr=!0;break;case"contextmenu":case"mouseup":case"dragend":vr=!1,wr(s,n,a);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":wr(s,n,a)}var b;if(Rn)e:{switch(e){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else Un?Vn(e,n)&&(v="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(v="onCompositionStart");v&&(Ln&&"ko"!==n.locale&&(Un||"onCompositionStart"!==v?"onCompositionEnd"===v&&Un&&(b=en()):(Xt="value"in(Jt=a)?Jt.value:Jt.textContent,Un=!0)),0<(y=Kr(r,v)).length&&(v=new wn(v,e,null,n,a),s.push({event:v,listeners:y}),b?v.data=b:null!==(b=jn(n))&&(v.data=b))),(b=Fn?function(e,t){switch(e){case"compositionend":return jn(t);case"keypress":return 32!==t.which?null:(Bn=!0,zn);case"textInput":return(e=t.data)===zn&&Bn?null:e;default:return null}}(e,n):function(e,t){if(Un)return"compositionend"===e||!Rn&&Vn(e,t)?(e=en(),Zt=Xt=Jt=null,Un=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(a=new wn("onBeforeInput","beforeinput",null,n,a),s.push({event:a,listeners:r}),a.data=b))}zr(s,t)}))}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,o=a.stateNode;5===a.tag&&null!==o&&(a=o,null!=(o=Oe(e,n))&&r.unshift(Hr(e,o,a)),null!=(o=Oe(e,t))&&r.push(Hr(e,o,a))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,a){for(var o=t._reactName,s=[];null!==n&&n!==r;){var i=n,l=i.alternate,u=i.stateNode;if(null!==l&&l===r)break;5===i.tag&&null!==u&&(i=u,a?null!=(l=Oe(n,o))&&s.unshift(Hr(n,l,i)):a||null!=(l=Oe(n,o))&&s.push(Hr(n,l,i))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var $r=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Jr(e){return("string"===typeof e?e:""+e).replace($r,"\n").replace(Yr,"")}function Xr(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(o(425))}function Zr(){}var ea=null,ta=null;function na(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ra="function"===typeof setTimeout?setTimeout:void 0,aa="function"===typeof clearTimeout?clearTimeout:void 0,oa="function"===typeof Promise?Promise:void 0,sa="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oa?function(e){return oa.resolve(null).then(e).catch(ia)}:ra;function ia(e){setTimeout((function(){throw e}))}function la(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0===r)return e.removeChild(a),void Ut(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=a}while(n);Ut(t)}function ua(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ca(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var da=Math.random().toString(36).slice(2),pa="__reactFiber$"+da,ha="__reactProps$"+da,fa="__reactContainer$"+da,ma="__reactEvents$"+da,ga="__reactListeners$"+da,ya="__reactHandles$"+da;function ba(e){var t=e[pa];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fa]||n[pa]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ca(e);null!==e;){if(n=e[pa])return n;e=ca(e)}return t}n=(e=n).parentNode}return null}function va(e){return!(e=e[pa]||e[fa])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wa(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function ka(e){return e[ha]||null}var xa=[],Sa=-1;function Na(e){return{current:e}}function Ta(e){0>Sa||(e.current=xa[Sa],xa[Sa]=null,Sa--)}function Ea(e,t){Sa++,xa[Sa]=e.current,e.current=t}var _a={},Ia=Na(_a),Ca=Na(!1),Aa=_a;function Ma(e,t){var n=e.type.contextTypes;if(!n)return _a;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a,o={};for(a in n)o[a]=t[a];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Oa(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Da(){Ta(Ca),Ta(Ia)}function Ra(e,t,n){if(Ia.current!==_a)throw Error(o(168));Ea(Ia,t),Ea(Ca,n)}function Pa(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in t))throw Error(o(108,W(e)||"Unknown",a));return L({},n,r)}function Fa(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||_a,Aa=Ia.current,Ea(Ia,e),Ea(Ca,Ca.current),!0}function La(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Pa(e,t,Aa),r.__reactInternalMemoizedMergedChildContext=e,Ta(Ca),Ta(Ia),Ea(Ia,e)):Ta(Ca),Ea(Ca,n)}var za=null,Ba=!1,Va=!1;function ja(e){null===za?za=[e]:za.push(e)}function Ua(){if(!Va&&null!==za){Va=!0;var e=0,t=vt;try{var n=za;for(vt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}za=null,Ba=!1}catch(a){throw null!==za&&(za=za.slice(e+1)),Ge(Ze,Ua),a}finally{vt=t,Va=!1}}return null}var Wa=[],qa=0,Ha=null,Ka=0,Ga=[],Qa=0,$a=null,Ya=1,Ja="";function Xa(e,t){Wa[qa++]=Ka,Wa[qa++]=Ha,Ha=e,Ka=t}function Za(e,t,n){Ga[Qa++]=Ya,Ga[Qa++]=Ja,Ga[Qa++]=$a,$a=e;var r=Ya;e=Ja;var a=32-st(r)-1;r&=~(1<<a),n+=1;var o=32-st(t)+a;if(30<o){var s=a-a%5;o=(r&(1<<s)-1).toString(32),r>>=s,a-=s,Ya=1<<32-st(t)+a|n<<a|r,Ja=o+e}else Ya=1<<o|n<<a|r,Ja=e}function eo(e){null!==e.return&&(Xa(e,1),Za(e,1,0))}function to(e){for(;e===Ha;)Ha=Wa[--qa],Wa[qa]=null,Ka=Wa[--qa],Wa[qa]=null;for(;e===$a;)$a=Ga[--Qa],Ga[Qa]=null,Ja=Ga[--Qa],Ga[Qa]=null,Ya=Ga[--Qa],Ga[Qa]=null}var no=null,ro=null,ao=!1,oo=null;function so(e,t){var n=Ou(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function io(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=ua(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==$a?{id:Ya,overflow:Ja}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ou(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function lo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function uo(e){if(ao){var t=ro;if(t){var n=t;if(!io(e,t)){if(lo(e))throw Error(o(418));t=ua(n.nextSibling);var r=no;t&&io(e,t)?so(r,n):(e.flags=-4097&e.flags|2,ao=!1,no=e)}}else{if(lo(e))throw Error(o(418));e.flags=-4097&e.flags|2,ao=!1,no=e}}}function co(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function po(e){if(e!==no)return!1;if(!ao)return co(e),ao=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!na(e.type,e.memoizedProps)),t&&(t=ro)){if(lo(e))throw ho(),Error(o(418));for(;t;)so(e,t),t=ua(t.nextSibling)}if(co(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=ua(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?ua(e.stateNode.nextSibling):null;return!0}function ho(){for(var e=ro;e;)e=ua(e.nextSibling)}function fo(){ro=no=null,ao=!1}function mo(e){null===oo?oo=[e]:oo.push(e)}var go=w.ReactCurrentBatchConfig;function yo(e,t){if(e&&e.defaultProps){for(var n in t=L({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var bo=Na(null),vo=null,wo=null,ko=null;function xo(){ko=wo=vo=null}function So(e){var t=bo.current;Ta(bo),e._currentValue=t}function No(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function To(e,t){vo=e,ko=wo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(wi=!0),e.firstContext=null)}function Eo(e){var t=e._currentValue;if(ko!==e)if(e={context:e,memoizedValue:t,next:null},null===wo){if(null===vo)throw Error(o(308));wo=e,vo.dependencies={lanes:0,firstContext:e}}else wo=wo.next=e;return t}var _o=null;function Io(e){null===_o?_o=[e]:_o.push(e)}function Co(e,t,n,r){var a=t.interleaved;return null===a?(n.next=n,Io(t)):(n.next=a.next,a.next=n),t.interleaved=n,Ao(e,r)}function Ao(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Mo=!1;function Oo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Do(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ro(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Po(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Cl)){var a=r.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),r.pending=t,Ao(e,n)}return null===(a=r.interleaved)?(t.next=t,Io(r)):(t.next=a.next,a.next=t),r.interleaved=t,Ao(e,n)}function Fo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,bt(e,n)}}function Lo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?a=o=s:o=o.next=s,n=n.next}while(null!==n);null===o?a=o=t:o=o.next=t}else a=o=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function zo(e,t,n,r){var a=e.updateQueue;Mo=!1;var o=a.firstBaseUpdate,s=a.lastBaseUpdate,i=a.shared.pending;if(null!==i){a.shared.pending=null;var l=i,u=l.next;l.next=null,null===s?o=u:s.next=u,s=l;var c=e.alternate;null!==c&&((i=(c=c.updateQueue).lastBaseUpdate)!==s&&(null===i?c.firstBaseUpdate=u:i.next=u,c.lastBaseUpdate=l))}if(null!==o){var d=a.baseState;for(s=0,c=u=l=null,i=o;;){var p=i.lane,h=i.eventTime;if((r&p)===p){null!==c&&(c=c.next={eventTime:h,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var f=e,m=i;switch(p=t,h=n,m.tag){case 1:if("function"===typeof(f=m.payload)){d=f.call(h,d,p);break e}d=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(p="function"===typeof(f=m.payload)?f.call(h,d,p):f)||void 0===p)break e;d=L({},d,p);break e;case 2:Mo=!0}}null!==i.callback&&0!==i.lane&&(e.flags|=64,null===(p=a.effects)?a.effects=[i]:p.push(i))}else h={eventTime:h,lane:p,tag:i.tag,payload:i.payload,callback:i.callback,next:null},null===c?(u=c=h,l=d):c=c.next=h,s|=p;if(null===(i=i.next)){if(null===(i=a.shared.pending))break;i=(p=i).next,p.next=null,a.lastBaseUpdate=p,a.shared.pending=null}}if(null===c&&(l=d),a.baseState=l,a.firstBaseUpdate=u,a.lastBaseUpdate=c,null!==(t=a.shared.interleaved)){a=t;do{s|=a.lane,a=a.next}while(a!==t)}else null===o&&(a.shared.lanes=0);Ll|=s,e.lanes=s,e.memoizedState=d}}function Bo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(null!==a){if(r.callback=null,r=n,"function"!==typeof a)throw Error(o(191,a));a.call(r)}}}var Vo=(new r.Component).refs;function jo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:L({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Uo={isMounted:function(e){return!!(e=e._reactInternals)&&Ue(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tu(),a=nu(e),o=Ro(r,a);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Po(e,o,a))&&(ru(t,e,a,r),Fo(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tu(),a=nu(e),o=Ro(r,a);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Po(e,o,a))&&(ru(t,e,a,r),Fo(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tu(),r=nu(e),a=Ro(n,r);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),null!==(t=Po(e,a,r))&&(ru(t,e,r,n),Fo(t,e,r))}};function Wo(e,t,n,r,a,o,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,s):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(a,o))}function qo(e,t,n){var r=!1,a=_a,o=t.contextType;return"object"===typeof o&&null!==o?o=Eo(o):(a=Oa(t)?Aa:Ia.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ma(e,a):_a),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Uo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=o),t}function Ho(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Uo.enqueueReplaceState(t,t.state,null)}function Ko(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs=Vo,Oo(e);var o=t.contextType;"object"===typeof o&&null!==o?a.context=Eo(o):(o=Oa(t)?Aa:Ia.current,a.context=Ma(e,o)),a.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(jo(e,t,o,n),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&Uo.enqueueReplaceState(a,a.state,null),zo(e,n,a,r),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4194308)}function Go(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var a=r,s=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=a.refs;t===Vo&&(t=a.refs={}),null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Qo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function $o(e){return(0,e._init)(e._payload)}function Yo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Ru(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function i(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=zu(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function u(e,t,n,r){var o=n.type;return o===S?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===O&&$o(o)===t.type)?((r=a(t,n.props)).ref=Go(e,t,n),r.return=e,r):((r=Pu(n.type,n.key,n.props,null,e.mode,r)).ref=Go(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Bu(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Fu(n,e.mode,r,o)).return=e,t):((t=a(t,n)).return=e,t)}function p(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=zu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case k:return(n=Pu(t.type,t.key,t.props,null,e.mode,n)).ref=Go(e,null,t),n.return=e,n;case x:return(t=Bu(t,e.mode,n)).return=e,t;case O:return p(e,(0,t._init)(t._payload),n)}if(te(t)||P(t))return(t=Fu(t,e.mode,n,null)).return=e,t;Qo(e,t)}return null}function h(e,t,n,r){var a=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==a?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case k:return n.key===a?u(e,t,n,r):null;case x:return n.key===a?c(e,t,n,r):null;case O:return h(e,t,(a=n._init)(n._payload),r)}if(te(n)||P(n))return null!==a?null:d(e,t,n,r,null);Qo(e,n)}return null}function f(e,t,n,r,a){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case k:return u(t,e=e.get(null===r.key?n:r.key)||null,r,a);case x:return c(t,e=e.get(null===r.key?n:r.key)||null,r,a);case O:return f(e,t,n,(0,r._init)(r._payload),a)}if(te(r)||P(r))return d(t,e=e.get(n)||null,r,a,null);Qo(t,r)}return null}function m(a,o,i,l){for(var u=null,c=null,d=o,m=o=0,g=null;null!==d&&m<i.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var y=h(a,d,i[m],l);if(null===y){null===d&&(d=g);break}e&&d&&null===y.alternate&&t(a,d),o=s(y,o,m),null===c?u=y:c.sibling=y,c=y,d=g}if(m===i.length)return n(a,d),ao&&Xa(a,m),u;if(null===d){for(;m<i.length;m++)null!==(d=p(a,i[m],l))&&(o=s(d,o,m),null===c?u=d:c.sibling=d,c=d);return ao&&Xa(a,m),u}for(d=r(a,d);m<i.length;m++)null!==(g=f(d,a,m,i[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),o=s(g,o,m),null===c?u=g:c.sibling=g,c=g);return e&&d.forEach((function(e){return t(a,e)})),ao&&Xa(a,m),u}function g(a,i,l,u){var c=P(l);if("function"!==typeof c)throw Error(o(150));if(null==(l=c.call(l)))throw Error(o(151));for(var d=c=null,m=i,g=i=0,y=null,b=l.next();null!==m&&!b.done;g++,b=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var v=h(a,m,b.value,u);if(null===v){null===m&&(m=y);break}e&&m&&null===v.alternate&&t(a,m),i=s(v,i,g),null===d?c=v:d.sibling=v,d=v,m=y}if(b.done)return n(a,m),ao&&Xa(a,g),c;if(null===m){for(;!b.done;g++,b=l.next())null!==(b=p(a,b.value,u))&&(i=s(b,i,g),null===d?c=b:d.sibling=b,d=b);return ao&&Xa(a,g),c}for(m=r(a,m);!b.done;g++,b=l.next())null!==(b=f(m,a,g,b.value,u))&&(e&&null!==b.alternate&&m.delete(null===b.key?g:b.key),i=s(b,i,g),null===d?c=b:d.sibling=b,d=b);return e&&m.forEach((function(e){return t(a,e)})),ao&&Xa(a,g),c}return function e(r,o,s,l){if("object"===typeof s&&null!==s&&s.type===S&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case k:e:{for(var u=s.key,c=o;null!==c;){if(c.key===u){if((u=s.type)===S){if(7===c.tag){n(r,c.sibling),(o=a(c,s.props.children)).return=r,r=o;break e}}else if(c.elementType===u||"object"===typeof u&&null!==u&&u.$$typeof===O&&$o(u)===c.type){n(r,c.sibling),(o=a(c,s.props)).ref=Go(r,c,s),o.return=r,r=o;break e}n(r,c);break}t(r,c),c=c.sibling}s.type===S?((o=Fu(s.props.children,r.mode,l,s.key)).return=r,r=o):((l=Pu(s.type,s.key,s.props,null,r.mode,l)).ref=Go(r,o,s),l.return=r,r=l)}return i(r);case x:e:{for(c=s.key;null!==o;){if(o.key===c){if(4===o.tag&&o.stateNode.containerInfo===s.containerInfo&&o.stateNode.implementation===s.implementation){n(r,o.sibling),(o=a(o,s.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Bu(s,r.mode,l)).return=r,r=o}return i(r);case O:return e(r,o,(c=s._init)(s._payload),l)}if(te(s))return m(r,o,s,l);if(P(s))return g(r,o,s,l);Qo(r,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==o&&6===o.tag?(n(r,o.sibling),(o=a(o,s)).return=r,r=o):(n(r,o),(o=zu(s,r.mode,l)).return=r,r=o),i(r)):n(r,o)}}var Jo=Yo(!0),Xo=Yo(!1),Zo={},es=Na(Zo),ts=Na(Zo),ns=Na(Zo);function rs(e){if(e===Zo)throw Error(o(174));return e}function as(e,t){switch(Ea(ns,t),Ea(ts,e),Ea(es,Zo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ta(es),Ea(es,t)}function os(){Ta(es),Ta(ts),Ta(ns)}function ss(e){rs(ns.current);var t=rs(es.current),n=le(t,e.type);t!==n&&(Ea(ts,e),Ea(es,n))}function is(e){ts.current===e&&(Ta(es),Ta(ts))}var ls=Na(0);function us(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var cs=[];function ds(){for(var e=0;e<cs.length;e++)cs[e]._workInProgressVersionPrimary=null;cs.length=0}var ps=w.ReactCurrentDispatcher,hs=w.ReactCurrentBatchConfig,fs=0,ms=null,gs=null,ys=null,bs=!1,vs=!1,ws=0,ks=0;function xs(){throw Error(o(321))}function Ss(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ir(e[n],t[n]))return!1;return!0}function Ns(e,t,n,r,a,s){if(fs=s,ms=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ps.current=null===e||null===e.memoizedState?ii:li,e=n(r,a),vs){s=0;do{if(vs=!1,ws=0,25<=s)throw Error(o(301));s+=1,ys=gs=null,t.updateQueue=null,ps.current=ui,e=n(r,a)}while(vs)}if(ps.current=si,t=null!==gs&&null!==gs.next,fs=0,ys=gs=ms=null,bs=!1,t)throw Error(o(300));return e}function Ts(){var e=0!==ws;return ws=0,e}function Es(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ys?ms.memoizedState=ys=e:ys=ys.next=e,ys}function _s(){if(null===gs){var e=ms.alternate;e=null!==e?e.memoizedState:null}else e=gs.next;var t=null===ys?ms.memoizedState:ys.next;if(null!==t)ys=t,gs=e;else{if(null===e)throw Error(o(310));e={memoizedState:(gs=e).memoizedState,baseState:gs.baseState,baseQueue:gs.baseQueue,queue:gs.queue,next:null},null===ys?ms.memoizedState=ys=e:ys=ys.next=e}return ys}function Is(e,t){return"function"===typeof t?t(e):t}function Cs(e){var t=_s(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=gs,a=r.baseQueue,s=n.pending;if(null!==s){if(null!==a){var i=a.next;a.next=s.next,s.next=i}r.baseQueue=a=s,n.pending=null}if(null!==a){s=a.next,r=r.baseState;var l=i=null,u=null,c=s;do{var d=c.lane;if((fs&d)===d)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var p={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(l=u=p,i=r):u=u.next=p,ms.lanes|=d,Ll|=d}c=c.next}while(null!==c&&c!==s);null===u?i=r:u.next=l,ir(r,t.memoizedState)||(wi=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=u,n.lastRenderedState=r}if(null!==(e=n.interleaved)){a=e;do{s=a.lane,ms.lanes|=s,Ll|=s,a=a.next}while(a!==e)}else null===a&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function As(e){var t=_s(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,s=t.memoizedState;if(null!==a){n.pending=null;var i=a=a.next;do{s=e(s,i.action),i=i.next}while(i!==a);ir(s,t.memoizedState)||(wi=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Ms(){}function Os(e,t){var n=ms,r=_s(),a=t(),s=!ir(r.memoizedState,a);if(s&&(r.memoizedState=a,wi=!0),r=r.queue,qs(Ps.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||null!==ys&&1&ys.memoizedState.tag){if(n.flags|=2048,Bs(9,Rs.bind(null,n,r,a,t),void 0,null),null===Al)throw Error(o(349));0!==(30&fs)||Ds(n,t,a)}return a}function Ds(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ms.updateQueue)?(t={lastEffect:null,stores:null},ms.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Rs(e,t,n,r){t.value=n,t.getSnapshot=r,Fs(t)&&Ls(e)}function Ps(e,t,n){return n((function(){Fs(t)&&Ls(e)}))}function Fs(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ir(e,n)}catch(r){return!0}}function Ls(e){var t=Ao(e,1);null!==t&&ru(t,e,1,-1)}function zs(e){var t=Es();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Is,lastRenderedState:e},t.queue=e,e=e.dispatch=ni.bind(null,ms,e),[t.memoizedState,e]}function Bs(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ms.updateQueue)?(t={lastEffect:null,stores:null},ms.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Vs(){return _s().memoizedState}function js(e,t,n,r){var a=Es();ms.flags|=e,a.memoizedState=Bs(1|t,n,void 0,void 0===r?null:r)}function Us(e,t,n,r){var a=_s();r=void 0===r?null:r;var o=void 0;if(null!==gs){var s=gs.memoizedState;if(o=s.destroy,null!==r&&Ss(r,s.deps))return void(a.memoizedState=Bs(t,n,o,r))}ms.flags|=e,a.memoizedState=Bs(1|t,n,o,r)}function Ws(e,t){return js(8390656,8,e,t)}function qs(e,t){return Us(2048,8,e,t)}function Hs(e,t){return Us(4,2,e,t)}function Ks(e,t){return Us(4,4,e,t)}function Gs(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qs(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Us(4,4,Gs.bind(null,t,e),n)}function $s(){}function Ys(e,t){var n=_s();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ss(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Js(e,t){var n=_s();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ss(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Xs(e,t,n){return 0===(21&fs)?(e.baseState&&(e.baseState=!1,wi=!0),e.memoizedState=n):(ir(n,t)||(n=mt(),ms.lanes|=n,Ll|=n,e.baseState=!0),t)}function Zs(e,t){var n=vt;vt=0!==n&&4>n?n:4,e(!0);var r=hs.transition;hs.transition={};try{e(!1),t()}finally{vt=n,hs.transition=r}}function ei(){return _s().memoizedState}function ti(e,t,n){var r=nu(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ri(e))ai(t,n);else if(null!==(n=Co(e,t,n,r))){ru(n,e,r,tu()),oi(n,t,r)}}function ni(e,t,n){var r=nu(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ri(e))ai(t,a);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,i=o(s,n);if(a.hasEagerState=!0,a.eagerState=i,ir(i,s)){var l=t.interleaved;return null===l?(a.next=a,Io(t)):(a.next=l.next,l.next=a),void(t.interleaved=a)}}catch(u){}null!==(n=Co(e,t,a,r))&&(ru(n,e,r,a=tu()),oi(n,t,r))}}function ri(e){var t=e.alternate;return e===ms||null!==t&&t===ms}function ai(e,t){vs=bs=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function oi(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,bt(e,n)}}var si={readContext:Eo,useCallback:xs,useContext:xs,useEffect:xs,useImperativeHandle:xs,useInsertionEffect:xs,useLayoutEffect:xs,useMemo:xs,useReducer:xs,useRef:xs,useState:xs,useDebugValue:xs,useDeferredValue:xs,useTransition:xs,useMutableSource:xs,useSyncExternalStore:xs,useId:xs,unstable_isNewReconciler:!1},ii={readContext:Eo,useCallback:function(e,t){return Es().memoizedState=[e,void 0===t?null:t],e},useContext:Eo,useEffect:Ws,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,js(4194308,4,Gs.bind(null,t,e),n)},useLayoutEffect:function(e,t){return js(4194308,4,e,t)},useInsertionEffect:function(e,t){return js(4,2,e,t)},useMemo:function(e,t){var n=Es();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Es();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ti.bind(null,ms,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Es().memoizedState=e},useState:zs,useDebugValue:$s,useDeferredValue:function(e){return Es().memoizedState=e},useTransition:function(){var e=zs(!1),t=e[0];return e=Zs.bind(null,e[1]),Es().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ms,a=Es();if(ao){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Al)throw Error(o(349));0!==(30&fs)||Ds(r,t,n)}a.memoizedState=n;var s={value:n,getSnapshot:t};return a.queue=s,Ws(Ps.bind(null,r,s,e),[e]),r.flags|=2048,Bs(9,Rs.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Es(),t=Al.identifierPrefix;if(ao){var n=Ja;t=":"+t+"R"+(n=(Ya&~(1<<32-st(Ya)-1)).toString(32)+n),0<(n=ws++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ks++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},li={readContext:Eo,useCallback:Ys,useContext:Eo,useEffect:qs,useImperativeHandle:Qs,useInsertionEffect:Hs,useLayoutEffect:Ks,useMemo:Js,useReducer:Cs,useRef:Vs,useState:function(){return Cs(Is)},useDebugValue:$s,useDeferredValue:function(e){return Xs(_s(),gs.memoizedState,e)},useTransition:function(){return[Cs(Is)[0],_s().memoizedState]},useMutableSource:Ms,useSyncExternalStore:Os,useId:ei,unstable_isNewReconciler:!1},ui={readContext:Eo,useCallback:Ys,useContext:Eo,useEffect:qs,useImperativeHandle:Qs,useInsertionEffect:Hs,useLayoutEffect:Ks,useMemo:Js,useReducer:As,useRef:Vs,useState:function(){return As(Is)},useDebugValue:$s,useDeferredValue:function(e){var t=_s();return null===gs?t.memoizedState=e:Xs(t,gs.memoizedState,e)},useTransition:function(){return[As(Is)[0],_s().memoizedState]},useMutableSource:Ms,useSyncExternalStore:Os,useId:ei,unstable_isNewReconciler:!1};function ci(e,t){try{var n="",r=t;do{n+=j(r),r=r.return}while(r);var a=n}catch(o){a="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:a,digest:null}}function di(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function pi(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var hi="function"===typeof WeakMap?WeakMap:Map;function fi(e,t,n){(n=Ro(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hl||(Hl=!0,Kl=r),pi(0,t)},n}function mi(e,t,n){(n=Ro(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){pi(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){pi(0,t),"function"!==typeof r&&(null===Gl?Gl=new Set([this]):Gl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function gi(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new hi;var a=new Set;r.set(t,a)}else void 0===(a=r.get(t))&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=Eu.bind(null,e,t,n),t.then(e,e))}function yi(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function bi(e,t,n,r,a){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ro(-1,1)).tag=2,Po(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}var vi=w.ReactCurrentOwner,wi=!1;function ki(e,t,n,r){t.child=null===e?Xo(t,null,n,r):Jo(t,e.child,n,r)}function xi(e,t,n,r,a){n=n.render;var o=t.ref;return To(t,a),r=Ns(e,t,n,r,o,a),n=Ts(),null===e||wi?(ao&&n&&eo(t),t.flags|=1,ki(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Hi(e,t,a))}function Si(e,t,n,r,a){if(null===e){var o=n.type;return"function"!==typeof o||Du(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Pu(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Ni(e,t,o,r,a))}if(o=e.child,0===(e.lanes&a)){var s=o.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(s,r)&&e.ref===t.ref)return Hi(e,t,a)}return t.flags|=1,(e=Ru(o,r)).ref=t.ref,e.return=t,t.child=e}function Ni(e,t,n,r,a){if(null!==e){var o=e.memoizedProps;if(lr(o,r)&&e.ref===t.ref){if(wi=!1,t.pendingProps=r=o,0===(e.lanes&a))return t.lanes=e.lanes,Hi(e,t,a);0!==(131072&e.flags)&&(wi=!0)}}return _i(e,t,n,r,a)}function Ti(e,t,n){var r=t.pendingProps,a=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ea(Rl,Dl),Dl|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ea(Rl,Dl),Dl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Ea(Rl,Dl),Dl|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ea(Rl,Dl),Dl|=r;return ki(e,t,a,n),t.child}function Ei(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function _i(e,t,n,r,a){var o=Oa(n)?Aa:Ia.current;return o=Ma(t,o),To(t,a),n=Ns(e,t,n,r,o,a),r=Ts(),null===e||wi?(ao&&r&&eo(t),t.flags|=1,ki(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Hi(e,t,a))}function Ii(e,t,n,r,a){if(Oa(n)){var o=!0;Fa(t)}else o=!1;if(To(t,a),null===t.stateNode)qi(e,t),qo(t,n,r),Ko(t,n,r,a),r=!0;else if(null===e){var s=t.stateNode,i=t.memoizedProps;s.props=i;var l=s.context,u=n.contextType;"object"===typeof u&&null!==u?u=Eo(u):u=Ma(t,u=Oa(n)?Aa:Ia.current);var c=n.getDerivedStateFromProps,d="function"===typeof c||"function"===typeof s.getSnapshotBeforeUpdate;d||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(i!==r||l!==u)&&Ho(t,s,r,u),Mo=!1;var p=t.memoizedState;s.state=p,zo(t,r,s,a),l=t.memoizedState,i!==r||p!==l||Ca.current||Mo?("function"===typeof c&&(jo(t,n,c,r),l=t.memoizedState),(i=Mo||Wo(t,n,i,r,p,l,u))?(d||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=u,r=i):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Do(e,t),i=t.memoizedProps,u=t.type===t.elementType?i:yo(t.type,i),s.props=u,d=t.pendingProps,p=s.context,"object"===typeof(l=n.contextType)&&null!==l?l=Eo(l):l=Ma(t,l=Oa(n)?Aa:Ia.current);var h=n.getDerivedStateFromProps;(c="function"===typeof h||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(i!==d||p!==l)&&Ho(t,s,r,l),Mo=!1,p=t.memoizedState,s.state=p,zo(t,r,s,a);var f=t.memoizedState;i!==d||p!==f||Ca.current||Mo?("function"===typeof h&&(jo(t,n,h,r),f=t.memoizedState),(u=Mo||Wo(t,n,u,r,p,f,l)||!1)?(c||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,f,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||i===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||i===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),s.props=r,s.state=f,s.context=l,r=u):("function"!==typeof s.componentDidUpdate||i===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||i===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return Ci(e,t,n,r,o,a)}function Ci(e,t,n,r,a,o){Ei(e,t);var s=0!==(128&t.flags);if(!r&&!s)return a&&La(t,n,!1),Hi(e,t,o);r=t.stateNode,vi.current=t;var i=s&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=Jo(t,e.child,null,o),t.child=Jo(t,null,i,o)):ki(e,t,i,o),t.memoizedState=r.state,a&&La(t,n,!0),t.child}function Ai(e){var t=e.stateNode;t.pendingContext?Ra(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ra(0,t.context,!1),as(e,t.containerInfo)}function Mi(e,t,n,r,a){return fo(),mo(a),t.flags|=256,ki(e,t,n,r),t.child}var Oi,Di,Ri,Pi,Fi={dehydrated:null,treeContext:null,retryLane:0};function Li(e){return{baseLanes:e,cachePool:null,transitions:null}}function zi(e,t,n){var r,a=t.pendingProps,s=ls.current,i=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&s)),r?(i=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),Ea(ls,1&s),null===e)return uo(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=a.children,e=a.fallback,i?(a=t.mode,i=t.child,l={mode:"hidden",children:l},0===(1&a)&&null!==i?(i.childLanes=0,i.pendingProps=l):i=Lu(l,a,0,null),e=Fu(e,a,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Li(n),t.memoizedState=Fi,e):Bi(t,l));if(null!==(s=e.memoizedState)&&null!==(r=s.dehydrated))return function(e,t,n,r,a,s,i){if(n)return 256&t.flags?(t.flags&=-257,Vi(e,t,i,r=di(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=r.fallback,a=t.mode,r=Lu({mode:"visible",children:r.children},a,0,null),(s=Fu(s,a,i,null)).flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,0!==(1&t.mode)&&Jo(t,e.child,null,i),t.child.memoizedState=Li(i),t.memoizedState=Fi,s);if(0===(1&t.mode))return Vi(e,t,i,null);if("$!"===a.data){if(r=a.nextSibling&&a.nextSibling.dataset)var l=r.dgst;return r=l,Vi(e,t,i,r=di(s=Error(o(419)),r,void 0))}if(l=0!==(i&e.childLanes),wi||l){if(null!==(r=Al)){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!==(a&(r.suspendedLanes|i))?0:a)&&a!==s.retryLane&&(s.retryLane=a,Ao(e,a),ru(r,e,a,-1))}return gu(),Vi(e,t,i,r=di(Error(o(421))))}return"$?"===a.data?(t.flags|=128,t.child=e.child,t=Iu.bind(null,e),a._reactRetry=t,null):(e=s.treeContext,ro=ua(a.nextSibling),no=t,ao=!0,oo=null,null!==e&&(Ga[Qa++]=Ya,Ga[Qa++]=Ja,Ga[Qa++]=$a,Ya=e.id,Ja=e.overflow,$a=t),t=Bi(t,r.children),t.flags|=4096,t)}(e,t,l,a,r,s,n);if(i){i=a.fallback,l=t.mode,r=(s=e.child).sibling;var u={mode:"hidden",children:a.children};return 0===(1&l)&&t.child!==s?((a=t.child).childLanes=0,a.pendingProps=u,t.deletions=null):(a=Ru(s,u)).subtreeFlags=14680064&s.subtreeFlags,null!==r?i=Ru(r,i):(i=Fu(i,l,n,null)).flags|=2,i.return=t,a.return=t,a.sibling=i,t.child=a,a=i,i=t.child,l=null===(l=e.child.memoizedState)?Li(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=e.childLanes&~n,t.memoizedState=Fi,a}return e=(i=e.child).sibling,a=Ru(i,{mode:"visible",children:a.children}),0===(1&t.mode)&&(a.lanes=n),a.return=t,a.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=a,t.memoizedState=null,a}function Bi(e,t){return(t=Lu({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Vi(e,t,n,r){return null!==r&&mo(r),Jo(t,e.child,null,n),(e=Bi(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function ji(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),No(e.return,t,n)}function Ui(e,t,n,r,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=a)}function Wi(e,t,n){var r=t.pendingProps,a=r.revealOrder,o=r.tail;if(ki(e,t,r.children,n),0!==(2&(r=ls.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ji(e,n,t);else if(19===e.tag)ji(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ea(ls,r),0===(1&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===us(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Ui(t,!1,a,n,o);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===us(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Ui(t,!0,n,null,o);break;case"together":Ui(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qi(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hi(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ll|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Ru(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ru(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ki(e,t){if(!ao)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Gi(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=14680064&a.subtreeFlags,r|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qi(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gi(t),null;case 1:case 17:return Oa(t.type)&&Da(),Gi(t),null;case 3:return r=t.stateNode,os(),Ta(Ca),Ta(Ia),ds(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(po(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(iu(oo),oo=null))),Di(e,t),Gi(t),null;case 5:is(t);var a=rs(ns.current);if(n=t.type,null!==e&&null!=t.stateNode)Ri(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Gi(t),null}if(e=rs(es.current),po(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[pa]=t,r[ha]=s,e=0!==(1&t.mode),n){case"dialog":Br("cancel",r),Br("close",r);break;case"iframe":case"object":case"embed":Br("load",r);break;case"video":case"audio":for(a=0;a<Pr.length;a++)Br(Pr[a],r);break;case"source":Br("error",r);break;case"img":case"image":case"link":Br("error",r),Br("load",r);break;case"details":Br("toggle",r);break;case"input":Y(r,s),Br("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Br("invalid",r);break;case"textarea":ae(r,s),Br("invalid",r)}for(var l in be(n,s),a=null,s)if(s.hasOwnProperty(l)){var u=s[l];"children"===l?"string"===typeof u?r.textContent!==u&&(!0!==s.suppressHydrationWarning&&Xr(r.textContent,u,e),a=["children",u]):"number"===typeof u&&r.textContent!==""+u&&(!0!==s.suppressHydrationWarning&&Xr(r.textContent,u,e),a=["children",""+u]):i.hasOwnProperty(l)&&null!=u&&"onScroll"===l&&Br("scroll",r)}switch(n){case"input":K(r),Z(r,s,!0);break;case"textarea":K(r),se(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Zr)}r=a,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ie(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[pa]=t,e[ha]=r,Oi(e,t,!1,!1),t.stateNode=e;e:{switch(l=ve(n,r),n){case"dialog":Br("cancel",e),Br("close",e),a=r;break;case"iframe":case"object":case"embed":Br("load",e),a=r;break;case"video":case"audio":for(a=0;a<Pr.length;a++)Br(Pr[a],e);a=r;break;case"source":Br("error",e),a=r;break;case"img":case"image":case"link":Br("error",e),Br("load",e),a=r;break;case"details":Br("toggle",e),a=r;break;case"input":Y(e,r),a=$(e,r),Br("invalid",e);break;case"option":default:a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=L({},r,{value:void 0}),Br("invalid",e);break;case"textarea":ae(e,r),a=re(e,r),Br("invalid",e)}for(s in be(n,a),u=a)if(u.hasOwnProperty(s)){var c=u[s];"style"===s?ge(e,c):"dangerouslySetInnerHTML"===s?null!=(c=c?c.__html:void 0)&&de(e,c):"children"===s?"string"===typeof c?("textarea"!==n||""!==c)&&pe(e,c):"number"===typeof c&&pe(e,""+c):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(i.hasOwnProperty(s)?null!=c&&"onScroll"===s&&Br("scroll",e):null!=c&&v(e,s,c,l))}switch(n){case"input":K(e),Z(e,r,!1);break;case"textarea":K(e),se(e);break;case"option":null!=r.value&&e.setAttribute("value",""+q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ne(e,!!r.multiple,s,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Gi(t),null;case 6:if(e&&null!=t.stateNode)Pi(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=rs(ns.current),rs(es.current),po(t)){if(r=t.stateNode,n=t.memoizedProps,r[pa]=t,(s=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Xr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&e.mode))}s&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[pa]=t,t.stateNode=r}return Gi(t),null;case 13:if(Ta(ls),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ao&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))ho(),fo(),t.flags|=98560,s=!1;else if(s=po(t),null!==r&&null!==r.dehydrated){if(null===e){if(!s)throw Error(o(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(o(317));s[pa]=t}else fo(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Gi(t),s=!1}else null!==oo&&(iu(oo),oo=null),s=!0;if(!s)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ls.current)?0===Pl&&(Pl=3):gu())),null!==t.updateQueue&&(t.flags|=4),Gi(t),null);case 4:return os(),Di(e,t),null===e&&Ur(t.stateNode.containerInfo),Gi(t),null;case 10:return So(t.type._context),Gi(t),null;case 19:if(Ta(ls),null===(s=t.memoizedState))return Gi(t),null;if(r=0!==(128&t.flags),null===(l=s.rendering))if(r)Ki(s,!1);else{if(0!==Pl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=us(e))){for(t.flags|=128,Ki(s,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=14680066,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ea(ls,1&ls.current|2),t.child}e=e.sibling}null!==s.tail&&Je()>Wl&&(t.flags|=128,r=!0,Ki(s,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=us(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ki(s,!0),null===s.tail&&"hidden"===s.tailMode&&!l.alternate&&!ao)return Gi(t),null}else 2*Je()-s.renderingStartTime>Wl&&1073741824!==n&&(t.flags|=128,r=!0,Ki(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=s.last)?n.sibling=l:t.child=l,s.last=l)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Je(),t.sibling=null,n=ls.current,Ea(ls,r?1&n|2:1&n),t):(Gi(t),null);case 22:case 23:return pu(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Dl)&&(Gi(t),6&t.subtreeFlags&&(t.flags|=8192)):Gi(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function $i(e,t){switch(to(t),t.tag){case 1:return Oa(t.type)&&Da(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return os(),Ta(Ca),Ta(Ia),ds(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return is(t),null;case 13:if(Ta(ls),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));fo()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ta(ls),null;case 4:return os(),null;case 10:return So(t.type._context),null;case 22:case 23:return pu(),null;default:return null}}Oi=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Di=function(){},Ri=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,rs(es.current);var o,s=null;switch(n){case"input":a=$(e,a),r=$(e,r),s=[];break;case"select":a=L({},a,{value:void 0}),r=L({},r,{value:void 0}),s=[];break;case"textarea":a=re(e,a),r=re(e,r),s=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(c in be(n,r),n=null,a)if(!r.hasOwnProperty(c)&&a.hasOwnProperty(c)&&null!=a[c])if("style"===c){var l=a[c];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(i.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var u=r[c];if(l=null!=a?a[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(null!=u||null!=l))if("style"===c)if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(c,n)),n=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(s=s||[]).push(c,u)):"children"===c?"string"!==typeof u&&"number"!==typeof u||(s=s||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(i.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&Br("scroll",e),s||l===u||(s=[])):(s=s||[]).push(c,u))}n&&(s=s||[]).push("style",n);var c=s;(t.updateQueue=c)&&(t.flags|=4)}},Pi=function(e,t,n,r){n!==r&&(t.flags|=4)};var Yi=!1,Ji=!1,Xi="function"===typeof WeakSet?WeakSet:Set,Zi=null;function el(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Tu(e,t,r)}else n.current=null}function tl(e,t,n){try{n()}catch(r){Tu(e,t,r)}}var nl=!1;function rl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var a=r=r.next;do{if((a.tag&e)===e){var o=a.destroy;a.destroy=void 0,void 0!==o&&tl(t,n,o)}a=a.next}while(a!==r)}}function al(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ol(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function sl(e){var t=e.alternate;null!==t&&(e.alternate=null,sl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[pa],delete t[ha],delete t[ma],delete t[ga],delete t[ya])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function il(e){return 5===e.tag||3===e.tag||4===e.tag}function ll(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||il(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var dl=null,pl=!1;function hl(e,t,n){for(n=n.child;null!==n;)fl(e,t,n),n=n.sibling}function fl(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(at,n)}catch(i){}switch(n.tag){case 5:Ji||el(n,t);case 6:var r=dl,a=pl;dl=null,hl(e,t,n),pl=a,null!==(dl=r)&&(pl?(e=dl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):dl.removeChild(n.stateNode));break;case 18:null!==dl&&(pl?(e=dl,n=n.stateNode,8===e.nodeType?la(e.parentNode,n):1===e.nodeType&&la(e,n),Ut(e)):la(dl,n.stateNode));break;case 4:r=dl,a=pl,dl=n.stateNode.containerInfo,pl=!0,hl(e,t,n),dl=r,pl=a;break;case 0:case 11:case 14:case 15:if(!Ji&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){a=r=r.next;do{var o=a,s=o.destroy;o=o.tag,void 0!==s&&(0!==(2&o)||0!==(4&o))&&tl(n,t,s),a=a.next}while(a!==r)}hl(e,t,n);break;case 1:if(!Ji&&(el(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(i){Tu(n,t,i)}hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:1&n.mode?(Ji=(r=Ji)||null!==n.memoizedState,hl(e,t,n),Ji=r):hl(e,t,n);break;default:hl(e,t,n)}}function ml(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xi),t.forEach((function(t){var r=Cu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function gl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var a=n[r];try{var s=e,i=t,l=i;e:for(;null!==l;){switch(l.tag){case 5:dl=l.stateNode,pl=!1;break e;case 3:case 4:dl=l.stateNode.containerInfo,pl=!0;break e}l=l.return}if(null===dl)throw Error(o(160));fl(s,i,a),dl=null,pl=!1;var u=a.alternate;null!==u&&(u.return=null),a.return=null}catch(c){Tu(a,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)yl(t,e),t=t.sibling}function yl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gl(t,e),bl(e),4&r){try{rl(3,e,e.return),al(3,e)}catch(g){Tu(e,e.return,g)}try{rl(5,e,e.return)}catch(g){Tu(e,e.return,g)}}break;case 1:gl(t,e),bl(e),512&r&&null!==n&&el(n,n.return);break;case 5:if(gl(t,e),bl(e),512&r&&null!==n&&el(n,n.return),32&e.flags){var a=e.stateNode;try{pe(a,"")}catch(g){Tu(e,e.return,g)}}if(4&r&&null!=(a=e.stateNode)){var s=e.memoizedProps,i=null!==n?n.memoizedProps:s,l=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===l&&"radio"===s.type&&null!=s.name&&J(a,s),ve(l,i);var c=ve(l,s);for(i=0;i<u.length;i+=2){var d=u[i],p=u[i+1];"style"===d?ge(a,p):"dangerouslySetInnerHTML"===d?de(a,p):"children"===d?pe(a,p):v(a,d,p,c)}switch(l){case"input":X(a,s);break;case"textarea":oe(a,s);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!s.multiple;var f=s.value;null!=f?ne(a,!!s.multiple,f,!1):h!==!!s.multiple&&(null!=s.defaultValue?ne(a,!!s.multiple,s.defaultValue,!0):ne(a,!!s.multiple,s.multiple?[]:"",!1))}a[ha]=s}catch(g){Tu(e,e.return,g)}}break;case 6:if(gl(t,e),bl(e),4&r){if(null===e.stateNode)throw Error(o(162));a=e.stateNode,s=e.memoizedProps;try{a.nodeValue=s}catch(g){Tu(e,e.return,g)}}break;case 3:if(gl(t,e),bl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ut(t.containerInfo)}catch(g){Tu(e,e.return,g)}break;case 4:default:gl(t,e),bl(e);break;case 13:gl(t,e),bl(e),8192&(a=e.child).flags&&(s=null!==a.memoizedState,a.stateNode.isHidden=s,!s||null!==a.alternate&&null!==a.alternate.memoizedState||(Ul=Je())),4&r&&ml(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Ji=(c=Ji)||d,gl(t,e),Ji=c):gl(t,e),bl(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!d&&0!==(1&e.mode))for(Zi=e,d=e.child;null!==d;){for(p=Zi=d;null!==Zi;){switch(f=(h=Zi).child,h.tag){case 0:case 11:case 14:case 15:rl(4,h,h.return);break;case 1:el(h,h.return);var m=h.stateNode;if("function"===typeof m.componentWillUnmount){r=h,n=h.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Tu(r,n,g)}}break;case 5:el(h,h.return);break;case 22:if(null!==h.memoizedState){xl(p);continue}}null!==f?(f.return=h,Zi=f):xl(p)}d=d.sibling}e:for(d=null,p=e;;){if(5===p.tag){if(null===d){d=p;try{a=p.stateNode,c?"function"===typeof(s=a.style).setProperty?s.setProperty("display","none","important"):s.display="none":(l=p.stateNode,i=void 0!==(u=p.memoizedProps.style)&&null!==u&&u.hasOwnProperty("display")?u.display:null,l.style.display=me("display",i))}catch(g){Tu(e,e.return,g)}}}else if(6===p.tag){if(null===d)try{p.stateNode.nodeValue=c?"":p.memoizedProps}catch(g){Tu(e,e.return,g)}}else if((22!==p.tag&&23!==p.tag||null===p.memoizedState||p===e)&&null!==p.child){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;null===p.sibling;){if(null===p.return||p.return===e)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:gl(t,e),bl(e),4&r&&ml(e);case 21:}}function bl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(il(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var a=r.stateNode;32&r.flags&&(pe(a,""),r.flags&=-33),cl(e,ll(e),a);break;case 3:case 4:var s=r.stateNode.containerInfo;ul(e,ll(e),s);break;default:throw Error(o(161))}}catch(i){Tu(e,e.return,i)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vl(e,t,n){Zi=e,wl(e,t,n)}function wl(e,t,n){for(var r=0!==(1&e.mode);null!==Zi;){var a=Zi,o=a.child;if(22===a.tag&&r){var s=null!==a.memoizedState||Yi;if(!s){var i=a.alternate,l=null!==i&&null!==i.memoizedState||Ji;i=Yi;var u=Ji;if(Yi=s,(Ji=l)&&!u)for(Zi=a;null!==Zi;)l=(s=Zi).child,22===s.tag&&null!==s.memoizedState?Sl(a):null!==l?(l.return=s,Zi=l):Sl(a);for(;null!==o;)Zi=o,wl(o,t,n),o=o.sibling;Zi=a,Yi=i,Ji=u}kl(e)}else 0!==(8772&a.subtreeFlags)&&null!==o?(o.return=a,Zi=o):kl(e)}}function kl(e){for(;null!==Zi;){var t=Zi;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ji||al(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ji)if(null===n)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:yo(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&Bo(t,s,r);break;case 3:var i=t.updateQueue;if(null!==i){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Bo(t,i,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var d=c.memoizedState;if(null!==d){var p=d.dehydrated;null!==p&&Ut(p)}}}break;default:throw Error(o(163))}Ji||512&t.flags&&ol(t)}catch(h){Tu(t,t.return,h)}}if(t===e){Zi=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zi=n;break}Zi=t.return}}function xl(e){for(;null!==Zi;){var t=Zi;if(t===e){Zi=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zi=n;break}Zi=t.return}}function Sl(e){for(;null!==Zi;){var t=Zi;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{al(4,t)}catch(l){Tu(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var a=t.return;try{r.componentDidMount()}catch(l){Tu(t,a,l)}}var o=t.return;try{ol(t)}catch(l){Tu(t,o,l)}break;case 5:var s=t.return;try{ol(t)}catch(l){Tu(t,s,l)}}}catch(l){Tu(t,t.return,l)}if(t===e){Zi=null;break}var i=t.sibling;if(null!==i){i.return=t.return,Zi=i;break}Zi=t.return}}var Nl,Tl=Math.ceil,El=w.ReactCurrentDispatcher,_l=w.ReactCurrentOwner,Il=w.ReactCurrentBatchConfig,Cl=0,Al=null,Ml=null,Ol=0,Dl=0,Rl=Na(0),Pl=0,Fl=null,Ll=0,zl=0,Bl=0,Vl=null,jl=null,Ul=0,Wl=1/0,ql=null,Hl=!1,Kl=null,Gl=null,Ql=!1,$l=null,Yl=0,Jl=0,Xl=null,Zl=-1,eu=0;function tu(){return 0!==(6&Cl)?Je():-1!==Zl?Zl:Zl=Je()}function nu(e){return 0===(1&e.mode)?1:0!==(2&Cl)&&0!==Ol?Ol&-Ol:null!==go.transition?(0===eu&&(eu=mt()),eu):0!==(e=vt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function ru(e,t,n,r){if(50<Jl)throw Jl=0,Xl=null,Error(o(185));yt(e,n,r),0!==(2&Cl)&&e===Al||(e===Al&&(0===(2&Cl)&&(zl|=n),4===Pl&&lu(e,Ol)),au(e,r),1===n&&0===Cl&&0===(1&t.mode)&&(Wl=Je()+500,Ba&&Ua()))}function au(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-st(o),i=1<<s,l=a[s];-1===l?0!==(i&n)&&0===(i&r)||(a[s]=ht(i,t)):l<=t&&(e.expiredLanes|=i),o&=~i}}(e,t);var r=pt(e,e===Al?Ol:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Ba=!0,ja(e)}(uu.bind(null,e)):ja(uu.bind(null,e)),sa((function(){0===(6&Cl)&&Ua()})),n=null;else{switch(wt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Au(n,ou.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ou(e,t){if(Zl=-1,eu=0,0!==(6&Cl))throw Error(o(327));var n=e.callbackNode;if(Su()&&e.callbackNode!==n)return null;var r=pt(e,e===Al?Ol:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=yu(e,r);else{t=r;var a=Cl;Cl|=2;var s=mu();for(Al===e&&Ol===t||(ql=null,Wl=Je()+500,hu(e,t));;)try{vu();break}catch(l){fu(e,l)}xo(),El.current=s,Cl=a,null!==Ml?t=0:(Al=null,Ol=0,t=Pl)}if(0!==t){if(2===t&&(0!==(a=ft(e))&&(r=a,t=su(e,a))),1===t)throw n=Fl,hu(e,0),lu(e,r),au(e,Je()),n;if(6===t)lu(e,r);else{if(a=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var a=n[r],o=a.getSnapshot;a=a.value;try{if(!ir(o(),a))return!1}catch(i){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)&&(2===(t=yu(e,r))&&(0!==(s=ft(e))&&(r=s,t=su(e,s))),1===t))throw n=Fl,hu(e,0),lu(e,r),au(e,Je()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:xu(e,jl,ql);break;case 3:if(lu(e,r),(130023424&r)===r&&10<(t=Ul+500-Je())){if(0!==pt(e,0))break;if(((a=e.suspendedLanes)&r)!==r){tu(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=ra(xu.bind(null,e,jl,ql),t);break}xu(e,jl,ql);break;case 4:if(lu(e,r),(4194240&r)===r)break;for(t=e.eventTimes,a=-1;0<r;){var i=31-st(r);s=1<<i,(i=t[i])>a&&(a=i),r&=~s}if(r=a,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Tl(r/1960))-r)){e.timeoutHandle=ra(xu.bind(null,e,jl,ql),r);break}xu(e,jl,ql);break;default:throw Error(o(329))}}}return au(e,Je()),e.callbackNode===n?ou.bind(null,e):null}function su(e,t){var n=Vl;return e.current.memoizedState.isDehydrated&&(hu(e,t).flags|=256),2!==(e=yu(e,t))&&(t=jl,jl=n,null!==t&&iu(t)),e}function iu(e){null===jl?jl=e:jl.push.apply(jl,e)}function lu(e,t){for(t&=~Bl,t&=~zl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),r=1<<n;e[n]=-1,t&=~r}}function uu(e){if(0!==(6&Cl))throw Error(o(327));Su();var t=pt(e,0);if(0===(1&t))return au(e,Je()),null;var n=yu(e,t);if(0!==e.tag&&2===n){var r=ft(e);0!==r&&(t=r,n=su(e,r))}if(1===n)throw n=Fl,hu(e,0),lu(e,t),au(e,Je()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xu(e,jl,ql),au(e,Je()),null}function cu(e,t){var n=Cl;Cl|=1;try{return e(t)}finally{0===(Cl=n)&&(Wl=Je()+500,Ba&&Ua())}}function du(e){null!==$l&&0===$l.tag&&0===(6&Cl)&&Su();var t=Cl;Cl|=1;var n=Il.transition,r=vt;try{if(Il.transition=null,vt=1,e)return e()}finally{vt=r,Il.transition=n,0===(6&(Cl=t))&&Ua()}}function pu(){Dl=Rl.current,Ta(Rl)}function hu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,aa(n)),null!==Ml)for(n=Ml.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Da();break;case 3:os(),Ta(Ca),Ta(Ia),ds();break;case 5:is(r);break;case 4:os();break;case 13:case 19:Ta(ls);break;case 10:So(r.type._context);break;case 22:case 23:pu()}n=n.return}if(Al=e,Ml=e=Ru(e.current,null),Ol=Dl=t,Pl=0,Fl=null,Bl=zl=Ll=0,jl=Vl=null,null!==_o){for(t=0;t<_o.length;t++)if(null!==(r=(n=_o[t]).interleaved)){n.interleaved=null;var a=r.next,o=n.pending;if(null!==o){var s=o.next;o.next=a,r.next=s}n.pending=r}_o=null}return e}function fu(e,t){for(;;){var n=Ml;try{if(xo(),ps.current=si,bs){for(var r=ms.memoizedState;null!==r;){var a=r.queue;null!==a&&(a.pending=null),r=r.next}bs=!1}if(fs=0,ys=gs=ms=null,vs=!1,ws=0,_l.current=null,null===n||null===n.return){Pl=1,Fl=t,Ml=null;break}e:{var s=e,i=n.return,l=n,u=t;if(t=Ol,l.flags|=32768,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u,d=l,p=d.tag;if(0===(1&d.mode)&&(0===p||11===p||15===p)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var f=yi(i);if(null!==f){f.flags&=-257,bi(f,i,l,0,t),1&f.mode&&gi(s,c,t),u=c;var m=(t=f).updateQueue;if(null===m){var g=new Set;g.add(u),t.updateQueue=g}else m.add(u);break e}if(0===(1&t)){gi(s,c,t),gu();break e}u=Error(o(426))}else if(ao&&1&l.mode){var y=yi(i);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),bi(y,i,l,0,t),mo(ci(u,l));break e}}s=u=ci(u,l),4!==Pl&&(Pl=2),null===Vl?Vl=[s]:Vl.push(s),s=i;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,Lo(s,fi(0,u,t));break e;case 1:l=u;var b=s.type,v=s.stateNode;if(0===(128&s.flags)&&("function"===typeof b.getDerivedStateFromError||null!==v&&"function"===typeof v.componentDidCatch&&(null===Gl||!Gl.has(v)))){s.flags|=65536,t&=-t,s.lanes|=t,Lo(s,mi(s,l,t));break e}}s=s.return}while(null!==s)}ku(n)}catch(w){t=w,Ml===n&&null!==n&&(Ml=n=n.return);continue}break}}function mu(){var e=El.current;return El.current=si,null===e?si:e}function gu(){0!==Pl&&3!==Pl&&2!==Pl||(Pl=4),null===Al||0===(268435455&Ll)&&0===(268435455&zl)||lu(Al,Ol)}function yu(e,t){var n=Cl;Cl|=2;var r=mu();for(Al===e&&Ol===t||(ql=null,hu(e,t));;)try{bu();break}catch(a){fu(e,a)}if(xo(),Cl=n,El.current=r,null!==Ml)throw Error(o(261));return Al=null,Ol=0,Pl}function bu(){for(;null!==Ml;)wu(Ml)}function vu(){for(;null!==Ml&&!$e();)wu(Ml)}function wu(e){var t=Nl(e.alternate,e,Dl);e.memoizedProps=e.pendingProps,null===t?ku(e):Ml=t,_l.current=null}function ku(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Qi(n,t,Dl)))return void(Ml=n)}else{if(null!==(n=$i(n,t)))return n.flags&=32767,void(Ml=n);if(null===e)return Pl=6,void(Ml=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ml=t);Ml=t=e}while(null!==t);0===Pl&&(Pl=5)}function xu(e,t,n){var r=vt,a=Il.transition;try{Il.transition=null,vt=1,function(e,t,n,r){do{Su()}while(null!==$l);if(0!==(6&Cl))throw Error(o(327));n=e.finishedWork;var a=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-st(n),o=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~o}}(e,s),e===Al&&(Ml=Al=null,Ol=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ql||(Ql=!0,Au(tt,(function(){return Su(),null}))),s=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||s){s=Il.transition,Il.transition=null;var i=vt;vt=1;var l=Cl;Cl|=4,_l.current=null,function(e,t){if(ea=qt,hr(e=pr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var a=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(k){n=null;break e}var i=0,l=-1,u=-1,c=0,d=0,p=e,h=null;t:for(;;){for(var f;p!==n||0!==a&&3!==p.nodeType||(l=i+a),p!==s||0!==r&&3!==p.nodeType||(u=i+r),3===p.nodeType&&(i+=p.nodeValue.length),null!==(f=p.firstChild);)h=p,p=f;for(;;){if(p===e)break t;if(h===n&&++c===a&&(l=i),h===s&&++d===r&&(u=i),null!==(f=p.nextSibling))break;h=(p=h).parentNode}p=f}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ta={focusedElem:e,selectionRange:n},qt=!1,Zi=t;null!==Zi;)if(e=(t=Zi).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zi=e;else for(;null!==Zi;){t=Zi;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,y=m.memoizedState,b=t.stateNode,v=b.getSnapshotBeforeUpdate(t.elementType===t.type?g:yo(t.type,g),y);b.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(o(163))}}catch(k){Tu(t,t.return,k)}if(null!==(e=t.sibling)){e.return=t.return,Zi=e;break}Zi=t.return}m=nl,nl=!1}(e,n),yl(n,e),fr(ta),qt=!!ea,ta=ea=null,e.current=n,vl(n,e,a),Ye(),Cl=l,vt=i,Il.transition=s}else e.current=n;if(Ql&&(Ql=!1,$l=e,Yl=a),s=e.pendingLanes,0===s&&(Gl=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(at,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),au(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(Hl)throw Hl=!1,e=Kl,Kl=null,e;0!==(1&Yl)&&0!==e.tag&&Su(),s=e.pendingLanes,0!==(1&s)?e===Xl?Jl++:(Jl=0,Xl=e):Jl=0,Ua()}(e,t,n,r)}finally{Il.transition=a,vt=r}return null}function Su(){if(null!==$l){var e=wt(Yl),t=Il.transition,n=vt;try{if(Il.transition=null,vt=16>e?16:e,null===$l)var r=!1;else{if(e=$l,$l=null,Yl=0,0!==(6&Cl))throw Error(o(331));var a=Cl;for(Cl|=4,Zi=e.current;null!==Zi;){var s=Zi,i=s.child;if(0!==(16&Zi.flags)){var l=s.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for(Zi=c;null!==Zi;){var d=Zi;switch(d.tag){case 0:case 11:case 15:rl(8,d,s)}var p=d.child;if(null!==p)p.return=d,Zi=p;else for(;null!==Zi;){var h=(d=Zi).sibling,f=d.return;if(sl(d),d===c){Zi=null;break}if(null!==h){h.return=f,Zi=h;break}Zi=f}}}var m=s.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}Zi=s}}if(0!==(2064&s.subtreeFlags)&&null!==i)i.return=s,Zi=i;else e:for(;null!==Zi;){if(0!==(2048&(s=Zi).flags))switch(s.tag){case 0:case 11:case 15:rl(9,s,s.return)}var b=s.sibling;if(null!==b){b.return=s.return,Zi=b;break e}Zi=s.return}}var v=e.current;for(Zi=v;null!==Zi;){var w=(i=Zi).child;if(0!==(2064&i.subtreeFlags)&&null!==w)w.return=i,Zi=w;else e:for(i=v;null!==Zi;){if(0!==(2048&(l=Zi).flags))try{switch(l.tag){case 0:case 11:case 15:al(9,l)}}catch(x){Tu(l,l.return,x)}if(l===i){Zi=null;break e}var k=l.sibling;if(null!==k){k.return=l.return,Zi=k;break e}Zi=l.return}}if(Cl=a,Ua(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(at,e)}catch(x){}r=!0}return r}finally{vt=n,Il.transition=t}}return!1}function Nu(e,t,n){e=Po(e,t=fi(0,t=ci(n,t),1),1),t=tu(),null!==e&&(yt(e,1,t),au(e,t))}function Tu(e,t,n){if(3===e.tag)Nu(e,e,n);else for(;null!==t;){if(3===t.tag){Nu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gl||!Gl.has(r))){t=Po(t,e=mi(t,e=ci(n,e),1),1),e=tu(),null!==t&&(yt(t,1,e),au(t,e));break}}t=t.return}}function Eu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tu(),e.pingedLanes|=e.suspendedLanes&n,Al===e&&(Ol&n)===n&&(4===Pl||3===Pl&&(130023424&Ol)===Ol&&500>Je()-Ul?hu(e,0):Bl|=n),au(e,t)}function _u(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=tu();null!==(e=Ao(e,t))&&(yt(e,t,n),au(e,n))}function Iu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),_u(e,n)}function Cu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),_u(e,n)}function Au(e,t){return Ge(e,t)}function Mu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ou(e,t,n,r){return new Mu(e,t,n,r)}function Du(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ru(e,t){var n=e.alternate;return null===n?((n=Ou(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Pu(e,t,n,r,a,s){var i=2;if(r=e,"function"===typeof e)Du(e)&&(i=1);else if("string"===typeof e)i=5;else e:switch(e){case S:return Fu(n.children,a,s,t);case N:i=8,a|=8;break;case T:return(e=Ou(12,n,t,2|a)).elementType=T,e.lanes=s,e;case C:return(e=Ou(13,n,t,a)).elementType=C,e.lanes=s,e;case A:return(e=Ou(19,n,t,a)).elementType=A,e.lanes=s,e;case D:return Lu(n,a,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:i=10;break e;case _:i=9;break e;case I:i=11;break e;case M:i=14;break e;case O:i=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Ou(i,n,t,a)).elementType=e,t.type=r,t.lanes=s,t}function Fu(e,t,n,r){return(e=Ou(7,e,r,t)).lanes=n,e}function Lu(e,t,n,r){return(e=Ou(22,e,r,t)).elementType=D,e.lanes=n,e.stateNode={isHidden:!1},e}function zu(e,t,n){return(e=Ou(6,e,null,t)).lanes=n,e}function Bu(e,t,n){return(t=Ou(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vu(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function ju(e,t,n,r,a,o,s,i,l){return e=new Vu(e,t,n,i,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Ou(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Oo(o),e}function Uu(e){if(!e)return _a;e:{if(Ue(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Oa(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Oa(n))return Pa(e,n,t)}return t}function Wu(e,t,n,r,a,o,s,i,l){return(e=ju(n,r,!0,e,0,o,0,i,l)).context=Uu(null),n=e.current,(o=Ro(r=tu(),a=nu(n))).callback=void 0!==t&&null!==t?t:null,Po(n,o,a),e.current.lanes=a,yt(e,a,r),au(e,r),e}function qu(e,t,n,r){var a=t.current,o=tu(),s=nu(a);return n=Uu(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ro(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Po(a,t,s))&&(ru(e,a,s,o),Fo(e,a,s)),s}function Hu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Ku(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gu(e,t){Ku(e,t),(e=e.alternate)&&Ku(e,t)}Nl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ca.current)wi=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return wi=!1,function(e,t,n){switch(t.tag){case 3:Ai(t),fo();break;case 5:ss(t);break;case 1:Oa(t.type)&&Fa(t);break;case 4:as(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;Ea(bo,r._currentValue),r._currentValue=a;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ea(ls,1&ls.current),t.flags|=128,null):0!==(n&t.child.childLanes)?zi(e,t,n):(Ea(ls,1&ls.current),null!==(e=Hi(e,t,n))?e.sibling:null);Ea(ls,1&ls.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Wi(e,t,n);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),Ea(ls,ls.current),r)break;return null;case 22:case 23:return t.lanes=0,Ti(e,t,n)}return Hi(e,t,n)}(e,t,n);wi=0!==(131072&e.flags)}else wi=!1,ao&&0!==(1048576&t.flags)&&Za(t,Ka,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qi(e,t),e=t.pendingProps;var a=Ma(t,Ia.current);To(t,n),a=Ns(null,t,r,e,a,n);var s=Ts();return t.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Oa(r)?(s=!0,Fa(t)):s=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,Oo(t),a.updater=Uo,t.stateNode=a,a._reactInternals=t,Ko(t,r,e,n),t=Ci(null,t,r,!0,s,n)):(t.tag=0,ao&&s&&eo(t),ki(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qi(e,t),e=t.pendingProps,r=(a=r._init)(r._payload),t.type=r,a=t.tag=function(e){if("function"===typeof e)return Du(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===I)return 11;if(e===M)return 14}return 2}(r),e=yo(r,e),a){case 0:t=_i(null,t,r,e,n);break e;case 1:t=Ii(null,t,r,e,n);break e;case 11:t=xi(null,t,r,e,n);break e;case 14:t=Si(null,t,r,yo(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,_i(e,t,r,a=t.elementType===r?a:yo(r,a),n);case 1:return r=t.type,a=t.pendingProps,Ii(e,t,r,a=t.elementType===r?a:yo(r,a),n);case 3:e:{if(Ai(t),null===e)throw Error(o(387));r=t.pendingProps,a=(s=t.memoizedState).element,Do(e,t),zo(t,r,null,n);var i=t.memoizedState;if(r=i.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Mi(e,t,r,n,a=ci(Error(o(423)),t));break e}if(r!==a){t=Mi(e,t,r,n,a=ci(Error(o(424)),t));break e}for(ro=ua(t.stateNode.containerInfo.firstChild),no=t,ao=!0,oo=null,n=Xo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fo(),r===a){t=Hi(e,t,n);break e}ki(e,t,r,n)}t=t.child}return t;case 5:return ss(t),null===e&&uo(t),r=t.type,a=t.pendingProps,s=null!==e?e.memoizedProps:null,i=a.children,na(r,a)?i=null:null!==s&&na(r,s)&&(t.flags|=32),Ei(e,t),ki(e,t,i,n),t.child;case 6:return null===e&&uo(t),null;case 13:return zi(e,t,n);case 4:return as(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Jo(t,null,r,n):ki(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,xi(e,t,r,a=t.elementType===r?a:yo(r,a),n);case 7:return ki(e,t,t.pendingProps,n),t.child;case 8:case 12:return ki(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,s=t.memoizedProps,i=a.value,Ea(bo,r._currentValue),r._currentValue=i,null!==s)if(ir(s.value,i)){if(s.children===a.children&&!Ca.current){t=Hi(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var l=s.dependencies;if(null!==l){i=s.child;for(var u=l.firstContext;null!==u;){if(u.context===r){if(1===s.tag){(u=Ro(-1,n&-n)).tag=2;var c=s.updateQueue;if(null!==c){var d=(c=c.shared).pending;null===d?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),No(s.return,n,t),l.lanes|=n;break}u=u.next}}else if(10===s.tag)i=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(i=s.return))throw Error(o(341));i.lanes|=n,null!==(l=i.alternate)&&(l.lanes|=n),No(i,n,t),i=s.sibling}else i=s.child;if(null!==i)i.return=s;else for(i=s;null!==i;){if(i===t){i=null;break}if(null!==(s=i.sibling)){s.return=i.return,i=s;break}i=i.return}s=i}ki(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,To(t,n),r=r(a=Eo(a)),t.flags|=1,ki(e,t,r,n),t.child;case 14:return a=yo(r=t.type,t.pendingProps),Si(e,t,r,a=yo(r.type,a),n);case 15:return Ni(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:yo(r,a),qi(e,t),t.tag=1,Oa(r)?(e=!0,Fa(t)):e=!1,To(t,n),qo(t,r,a),Ko(t,r,a,n),Ci(null,t,r,!0,e,n);case 19:return Wi(e,t,n);case 22:return Ti(e,t,n)}throw Error(o(156,t.tag))};var Qu="function"===typeof reportError?reportError:function(e){console.error(e)};function $u(e){this._internalRoot=e}function Yu(e){this._internalRoot=e}function Ju(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zu(){}function ec(e,t,n,r,a){var o=n._reactRootContainer;if(o){var s=o;if("function"===typeof a){var i=a;a=function(){var e=Hu(s);i.call(e)}}qu(t,s,e,a)}else s=function(e,t,n,r,a){if(a){if("function"===typeof r){var o=r;r=function(){var e=Hu(s);o.call(e)}}var s=Wu(t,r,e,0,null,!1,0,"",Zu);return e._reactRootContainer=s,e[fa]=s.current,Ur(8===e.nodeType?e.parentNode:e),du(),s}for(;a=e.lastChild;)e.removeChild(a);if("function"===typeof r){var i=r;r=function(){var e=Hu(l);i.call(e)}}var l=ju(e,0,!1,null,0,!1,0,"",Zu);return e._reactRootContainer=l,e[fa]=l.current,Ur(8===e.nodeType?e.parentNode:e),du((function(){qu(t,l,n,r)})),l}(n,t,e,a,r);return Hu(s)}Yu.prototype.render=$u.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));qu(e,t,null,null)},Yu.prototype.unmount=$u.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;du((function(){qu(null,e,null,null)})),t[fa]=null}},Yu.prototype.unstable_scheduleHydration=function(e){if(e){var t=Nt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dt.length&&0!==t&&t<Dt[n].priority;n++);Dt.splice(n,0,e),0===n&&Lt(e)}},kt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(bt(t,1|n),au(t,Je()),0===(6&Cl)&&(Wl=Je()+500,Ua()))}break;case 13:du((function(){var t=Ao(e,1);if(null!==t){var n=tu();ru(t,e,1,n)}})),Gu(e,1)}},xt=function(e){if(13===e.tag){var t=Ao(e,134217728);if(null!==t)ru(t,e,134217728,tu());Gu(e,134217728)}},St=function(e){if(13===e.tag){var t=nu(e),n=Ao(e,t);if(null!==n)ru(n,e,t,tu());Gu(e,t)}},Nt=function(){return vt},Tt=function(e,t){var n=vt;try{return vt=e,t()}finally{vt=n}},xe=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=ka(r);if(!a)throw Error(o(90));G(r),X(r,a)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ie=cu,Ce=du;var tc={usingClientEntryPoint:!1,Events:[va,wa,ka,Ee,_e,cu]},nc={findFiberByHostInstance:ba,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rc={bundleType:nc.bundleType,version:nc.version,rendererPackageName:nc.rendererPackageName,rendererConfig:nc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:nc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ac=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ac.isDisabled&&ac.supportsFiber)try{at=ac.inject(rc),ot=ac}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Ju(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Ju(e))throw Error(o(299));var n=!1,r="",a=Qu;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(a=t.onRecoverableError)),t=ju(e,1,!1,null,0,n,0,r,a),e[fa]=t.current,Ur(8===e.nodeType?e.parentNode:e),new $u(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return du(e)},t.hydrate=function(e,t,n){if(!Xu(t))throw Error(o(200));return ec(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Ju(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,a=!1,s="",i=Qu;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(a=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(i=n.onRecoverableError)),t=Wu(t,null,e,1,null!=n?n:null,a,0,s,i),e[fa]=t.current,Ur(e),r)for(e=0;e<r.length;e++)a=(a=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new Yu(t)},t.render=function(e,t,n){if(!Xu(t))throw Error(o(200));return ec(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xu(e))throw Error(o(40));return!!e._reactRootContainer&&(du((function(){ec(null,null,e,!1,(function(){e._reactRootContainer=null,e[fa]=null}))})),!0)},t.unstable_batchedUpdates=cu,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xu(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return ec(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},391:(e,t,n)=>{"use strict";var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)},153:(e,t,n)=>{"use strict";var r=n(43),a=Symbol.for("react.element"),o=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,i=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var r,o={},u=null,c=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)s.call(t,r)&&!l.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:a,type:e,key:u,ref:c,props:o,_owner:i.current}}t.jsx=u,t.jsxs=u},202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),h=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}function b(){}function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=y.prototype;var w=v.prototype=new b;w.constructor=v,m(w,y.prototype),w.isPureReactComponent=!0;var k=Array.isArray,x=Object.prototype.hasOwnProperty,S={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function T(e,t,r){var a,o={},s=null,i=null;if(null!=t)for(a in void 0!==t.ref&&(i=t.ref),void 0!==t.key&&(s=""+t.key),t)x.call(t,a)&&!N.hasOwnProperty(a)&&(o[a]=t[a]);var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];o.children=u}if(e&&e.defaultProps)for(a in l=e.defaultProps)void 0===o[a]&&(o[a]=l[a]);return{$$typeof:n,type:e,key:s,ref:i,props:o,_owner:S.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var _=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function C(e,t,a,o,s){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var l=!1;if(null===e)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return s=s(l=e),e=""===o?"."+I(l,0):o,k(s)?(a="",null!=e&&(a=e.replace(_,"$&/")+"/"),C(s,t,a,"",(function(e){return e}))):null!=s&&(E(s)&&(s=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,a+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(_,"$&/")+"/")+e)),t.push(s)),1;if(l=0,o=""===o?".":o+":",k(e))for(var u=0;u<e.length;u++){var c=o+I(i=e[u],u);l+=C(i,t,a,c,s)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),u=0;!(i=e.next()).done;)l+=C(i=i.value,t,a,c=o+I(i,u++),s);else if("object"===i)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function A(e,t,n){if(null==e)return e;var r=[],a=0;return C(e,r,"","",(function(e){return t.call(n,e,a++)})),r}function M(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O={current:null},D={transition:null},R={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:D,ReactCurrentOwner:S};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=a,t.Profiler=s,t.PureComponent=v,t.StrictMode=o,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=m({},e.props),o=e.key,s=e.ref,i=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,i=S.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)x.call(t,u)&&!N.hasOwnProperty(u)&&(a[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)a.children=r;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];a.children=l}return{$$typeof:n,type:e.type,key:o,ref:s,props:a,_owner:i}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:i,_context:e},e.Consumer=e},t.createElement=T,t.createFactory=function(e){var t=T.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:p,_payload:{_status:-1,_result:e},_init:M}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=D.transition;D.transition={};try{e()}finally{D.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return O.current.useCallback(e,t)},t.useContext=function(e){return O.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return O.current.useDeferredValue(e)},t.useEffect=function(e,t){return O.current.useEffect(e,t)},t.useId=function(){return O.current.useId()},t.useImperativeHandle=function(e,t,n){return O.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return O.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return O.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return O.current.useMemo(e,t)},t.useReducer=function(e,t,n){return O.current.useReducer(e,t,n)},t.useRef=function(e){return O.current.useRef(e)},t.useState=function(e){return O.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return O.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return O.current.useTransition()},t.version="18.2.0"},43:(e,t,n)=>{"use strict";e.exports=n(202)},579:(e,t,n)=>{"use strict";e.exports=n(153)},234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<o(a,t)))break e;e[r]=t,e[n]=a,n=r}}function r(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,s=a>>>1;r<s;){var i=2*(r+1)-1,l=e[i],u=i+1,c=e[u];if(0>o(l,n))u<a&&0>o(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[i]=n,r=i);else{if(!(u<a&&0>o(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var i=Date,l=i.now();t.unstable_now=function(){return i.now()-l}}var u=[],c=[],d=1,p=null,h=3,f=!1,m=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,v="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(c);null!==t;){if(null===t.callback)a(c);else{if(!(t.startTime<=e))break;a(c),t.sortIndex=t.expirationTime,n(u,t)}t=r(c)}}function k(e){if(g=!1,w(e),!m)if(null!==r(u))m=!0,D(x);else{var t=r(c);null!==t&&R(k,t.startTime-e)}}function x(e,n){m=!1,g&&(g=!1,b(E),E=-1),f=!0;var o=h;try{for(w(n),p=r(u);null!==p&&(!(p.expirationTime>n)||e&&!C());){var s=p.callback;if("function"===typeof s){p.callback=null,h=p.priorityLevel;var i=s(p.expirationTime<=n);n=t.unstable_now(),"function"===typeof i?p.callback=i:p===r(u)&&a(u),w(n)}else a(u);p=r(u)}if(null!==p)var l=!0;else{var d=r(c);null!==d&&R(k,d.startTime-n),l=!1}return l}finally{p=null,h=o,f=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,N=!1,T=null,E=-1,_=5,I=-1;function C(){return!(t.unstable_now()-I<_)}function A(){if(null!==T){var e=t.unstable_now();I=e;var n=!0;try{n=T(!0,e)}finally{n?S():(N=!1,T=null)}}else N=!1}if("function"===typeof v)S=function(){v(A)};else if("undefined"!==typeof MessageChannel){var M=new MessageChannel,O=M.port2;M.port1.onmessage=A,S=function(){O.postMessage(null)}}else S=function(){y(A,0)};function D(e){T=e,N||(N=!0,S())}function R(e,n){E=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||f||(m=!0,D(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,a,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3}return e={id:d++,callback:a,priorityLevel:e,startTime:o,expirationTime:i=o+i,sortIndex:-1},o>s?(e.sortIndex=o,n(c,e),null===r(u)&&e===r(c)&&(g?(b(E),E=-1):g=!0,R(k,o-s))):(e.sortIndex=i,n(u,e),m||f||(m=!0,D(x))),e},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},853:(e,t,n)=>{"use strict";e.exports=n(234)},334:(e,t,n)=>{var r=n(359),a=n(66),o=n(16),s=n(538),i=n(288),l=n(262),u=n(430);u.alea=r,u.xor128=a,u.xorwow=o,u.xorshift7=s,u.xor4096=i,u.tychei=l,e.exports=u},359:function(e,t,n){var r;!function(e,a,o){function s(e){var t=this,n=function(){var e=4022871197,t=function(t){t=String(t);for(var n=0;n<t.length;n++){var r=.02519603282416938*(e+=t.charCodeAt(n));r-=e=r>>>0,e=(r*=e)>>>0,e+=4294967296*(r-=e)}return 2.3283064365386963e-10*(e>>>0)};return t}();t.next=function(){var e=2091639*t.s0+2.3283064365386963e-10*t.c;return t.s0=t.s1,t.s1=t.s2,t.s2=e-(t.c=0|e)},t.c=1,t.s0=n(" "),t.s1=n(" "),t.s2=n(" "),t.s0-=n(e),t.s0<0&&(t.s0+=1),t.s1-=n(e),t.s1<0&&(t.s1+=1),t.s2-=n(e),t.s2<0&&(t.s2+=1),n=null}function i(e,t){return t.c=e.c,t.s0=e.s0,t.s1=e.s1,t.s2=e.s2,t}function l(e,t){var n=new s(e),r=t&&t.state,a=n.next;return a.int32=function(){return 4294967296*n.next()|0},a.double=function(){return a()+11102230246251565e-32*(2097152*a()|0)},a.quick=a,r&&("object"==typeof r&&i(r,n),a.state=function(){return i(n,{})}),a}a&&a.exports?a.exports=l:n.amdD&&n.amdO?void 0===(r=function(){return l}.call(t,n,t,a))||(a.exports=r):this.alea=l}(0,e=n.nmd(e),n.amdD)},262:function(e,t,n){var r;!function(e,a,o){function s(e){var t=this,n="";t.next=function(){var e=t.b,n=t.c,r=t.d,a=t.a;return e=e<<25^e>>>7^n,n=n-r|0,r=r<<24^r>>>8^a,a=a-e|0,t.b=e=e<<20^e>>>12^n,t.c=n=n-r|0,t.d=r<<16^n>>>16^a,t.a=a-e|0},t.a=0,t.b=0,t.c=-1640531527,t.d=1367130551,e===Math.floor(e)?(t.a=e/4294967296|0,t.b=0|e):n+=e;for(var r=0;r<n.length+20;r++)t.b^=0|n.charCodeAt(r),t.next()}function i(e,t){return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t}function l(e,t){var n=new s(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&("object"==typeof r&&i(r,n),a.state=function(){return i(n,{})}),a}a&&a.exports?a.exports=l:n.amdD&&n.amdO?void 0===(r=function(){return l}.call(t,n,t,a))||(a.exports=r):this.tychei=l}(0,e=n.nmd(e),n.amdD)},66:function(e,t,n){var r;!function(e,a,o){function s(e){var t=this,n="";t.x=0,t.y=0,t.z=0,t.w=0,t.next=function(){var e=t.x^t.x<<11;return t.x=t.y,t.y=t.z,t.z=t.w,t.w^=t.w>>>19^e^e>>>8},e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),t.next()}function i(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t}function l(e,t){var n=new s(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&("object"==typeof r&&i(r,n),a.state=function(){return i(n,{})}),a}a&&a.exports?a.exports=l:n.amdD&&n.amdO?void 0===(r=function(){return l}.call(t,n,t,a))||(a.exports=r):this.xor128=l}(0,e=n.nmd(e),n.amdD)},288:function(e,t,n){var r;!function(e,a,o){function s(e){var t=this;t.next=function(){var e,n,r=t.w,a=t.X,o=t.i;return t.w=r=r+1640531527|0,n=a[o+34&127],e=a[o=o+1&127],n^=n<<13,e^=e<<17,n^=n>>>15,e^=e>>>12,n=a[o]=n^e,t.i=o,n+(r^r>>>16)|0},function(e,t){var n,r,a,o,s,i=[],l=128;for(t===(0|t)?(r=t,t=null):(t+="\0",r=0,l=Math.max(l,t.length)),a=0,o=-32;o<l;++o)t&&(r^=t.charCodeAt((o+32)%t.length)),0===o&&(s=r),r^=r<<10,r^=r>>>15,r^=r<<4,r^=r>>>13,o>=0&&(s=s+1640531527|0,a=0==(n=i[127&o]^=r+s)?a+1:0);for(a>=128&&(i[127&(t&&t.length||0)]=-1),a=127,o=512;o>0;--o)r=i[a+34&127],n=i[a=a+1&127],r^=r<<13,n^=n<<17,r^=r>>>15,n^=n>>>12,i[a]=r^n;e.w=s,e.X=i,e.i=a}(t,e)}function i(e,t){return t.i=e.i,t.w=e.w,t.X=e.X.slice(),t}function l(e,t){null==e&&(e=+new Date);var n=new s(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&(r.X&&i(r,n),a.state=function(){return i(n,{})}),a}a&&a.exports?a.exports=l:n.amdD&&n.amdO?void 0===(r=function(){return l}.call(t,n,t,a))||(a.exports=r):this.xor4096=l}(0,e=n.nmd(e),n.amdD)},538:function(e,t,n){var r;!function(e,a,o){function s(e){var t=this;t.next=function(){var e,n,r=t.x,a=t.i;return e=r[a],n=(e^=e>>>7)^e<<24,n^=(e=r[a+1&7])^e>>>10,n^=(e=r[a+3&7])^e>>>3,n^=(e=r[a+4&7])^e<<7,e=r[a+7&7],n^=(e^=e<<13)^e<<9,r[a]=n,t.i=a+1&7,n},function(e,t){var n,r=[];if(t===(0|t))r[0]=t;else for(t=""+t,n=0;n<t.length;++n)r[7&n]=r[7&n]<<15^t.charCodeAt(n)+r[n+1&7]<<13;for(;r.length<8;)r.push(0);for(n=0;n<8&&0===r[n];++n);for(8==n?r[7]=-1:r[n],e.x=r,e.i=0,n=256;n>0;--n)e.next()}(t,e)}function i(e,t){return t.x=e.x.slice(),t.i=e.i,t}function l(e,t){null==e&&(e=+new Date);var n=new s(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&(r.x&&i(r,n),a.state=function(){return i(n,{})}),a}a&&a.exports?a.exports=l:n.amdD&&n.amdO?void 0===(r=function(){return l}.call(t,n,t,a))||(a.exports=r):this.xorshift7=l}(0,e=n.nmd(e),n.amdD)},16:function(e,t,n){var r;!function(e,a,o){function s(e){var t=this,n="";t.next=function(){var e=t.x^t.x>>>2;return t.x=t.y,t.y=t.z,t.z=t.w,t.w=t.v,(t.d=t.d+362437|0)+(t.v=t.v^t.v<<4^e^e<<1)|0},t.x=0,t.y=0,t.z=0,t.w=0,t.v=0,e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),r==n.length&&(t.d=t.x<<10^t.x>>>4),t.next()}function i(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t.v=e.v,t.d=e.d,t}function l(e,t){var n=new s(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&("object"==typeof r&&i(r,n),a.state=function(){return i(n,{})}),a}a&&a.exports?a.exports=l:n.amdD&&n.amdO?void 0===(r=function(){return l}.call(t,n,t,a))||(a.exports=r):this.xorwow=l}(0,e=n.nmd(e),n.amdD)},430:function(e,t,n){var r;!function(a,o,s){var i,l=256,u=s.pow(l,6),c=s.pow(2,52),d=2*c,p=l-1;function h(e,t,n){var r=[],p=y(g((t=1==t?{entropy:!0}:t||{}).entropy?[e,b(o)]:null==e?function(){try{var e;return i&&(e=i.randomBytes)?e=e(l):(e=new Uint8Array(l),(a.crypto||a.msCrypto).getRandomValues(e)),b(e)}catch(r){var t=a.navigator,n=t&&t.plugins;return[+new Date,a,n,a.screen,b(o)]}}():e,3),r),h=new f(r),v=function(){for(var e=h.g(6),t=u,n=0;e<c;)e=(e+n)*l,t*=l,n=h.g(1);for(;e>=d;)e/=2,t/=2,n>>>=1;return(e+n)/t};return v.int32=function(){return 0|h.g(4)},v.quick=function(){return h.g(4)/4294967296},v.double=v,y(b(h.S),o),(t.pass||n||function(e,t,n,r){return r&&(r.S&&m(r,h),e.state=function(){return m(h,{})}),n?(s.random=e,t):e})(v,p,"global"in t?t.global:this==s,t.state)}function f(e){var t,n=e.length,r=this,a=0,o=r.i=r.j=0,s=r.S=[];for(n||(e=[n++]);a<l;)s[a]=a++;for(a=0;a<l;a++)s[a]=s[o=p&o+e[a%n]+(t=s[a])],s[o]=t;(r.g=function(e){for(var t,n=0,a=r.i,o=r.j,s=r.S;e--;)t=s[a=p&a+1],n=n*l+s[p&(s[a]=s[o=p&o+t])+(s[o]=t)];return r.i=a,r.j=o,n})(l)}function m(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function g(e,t){var n,r=[],a=typeof e;if(t&&"object"==a)for(n in e)try{r.push(g(e[n],t-1))}catch(o){}return r.length?r:"string"==a?e:e+"\0"}function y(e,t){for(var n,r=e+"",a=0;a<r.length;)t[p&a]=p&(n^=19*t[p&a])+r.charCodeAt(a++);return b(t)}function b(e){return String.fromCharCode.apply(0,e)}if(y(s.random(),o),e.exports){e.exports=h;try{i=n(996)}catch(v){}}else void 0===(r=function(){return h}.call(t,n,t,e))||(e.exports=r)}("undefined"!==typeof self?self:this,[],Math)},817:()=>{},590:()=>{},996:()=>{}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.amdD=function(){throw new Error("define cannot be used indirect")},n.amdO={},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{"use strict";var e={};n.r(e),n.d(e,{CompositeArrayBuffer:()=>Dt,browserFiles:()=>gr,browserHTTPRequest:()=>Tr,concatenateArrayBuffers:()=>Qt,copyModel:()=>Rn,decodeWeights:()=>Bt,decodeWeightsStream:()=>qt,encodeWeights:()=>zt,fromMemory:()=>Cr,fromMemorySync:()=>Ar,getLoadHandlers:()=>on,getModelArtifactsForJSON:()=>Xt,getModelArtifactsForJSONSync:()=>Jt,getModelArtifactsInfoForJSON:()=>Zt,getSaveHandlers:()=>an,getWeightSpecs:()=>en,http:()=>Nr,isHTTPScheme:()=>xr,listModels:()=>On,loadWeights:()=>vr,moveModel:()=>Pn,registerLoadRouter:()=>rn,registerSaveRouter:()=>nn,removeModel:()=>Dn,weightsLoaderFactory:()=>wr,withSaveHandler:()=>Mr,withSaveHandlerSync:()=>Or});var t={};n.r(t),n.d(t,{conv2d:()=>Ai,depthwiseConv2d:()=>Di,matMul:()=>Ri});var r={};n.r(r),n.d(r,{json:()=>Hl});var a={};n.r(a),n.d(a,{json:()=>Kl});var o={};n.r(o),n.d(o,{json:()=>Gl});var s={};n.r(s),n.d(s,{json:()=>Ql});var i={};n.r(i),n.d(i,{json:()=>$l});var l={};n.r(l),n.d(l,{json:()=>Yl});var u={};n.r(u),n.d(u,{json:()=>Jl});var c={};n.r(c),n.d(c,{json:()=>Xl});var d={};n.r(d),n.d(d,{json:()=>Zl});var p={};n.r(p),n.d(p,{json:()=>eu});var h={};n.r(h),n.d(h,{json:()=>tu});var f={};n.r(f),n.d(f,{json:()=>nu});var m={};n.r(m),n.d(m,{json:()=>ru});var g={};n.r(g),n.d(g,{json:()=>au});var y={};n.r(y),n.d(y,{json:()=>ou});var b={};n.r(b),n.d(b,{json:()=>su});var v={};n.r(v),n.d(v,{json:()=>iu});var w={};n.r(w),n.d(w,{json:()=>lu});var k={};n.r(k),n.d(k,{json:()=>uu});var x={};n.r(x),n.d(x,{OP_SCOPE_SUFFIX:()=>_t,abs:()=>lr,acos:()=>Dr,acosh:()=>Rr,add:()=>qn,addN:()=>Pr,all:()=>Fr,any:()=>Lr,argMax:()=>zr,argMin:()=>Br,asin:()=>Vr,asinh:()=>jr,atan:()=>Ur,atan2:()=>Wr,atanh:()=>qr,avgPool:()=>ta,avgPool3d:()=>na,basicLSTMCell:()=>la,batchNorm:()=>ca,batchNorm2d:()=>da,batchNorm3d:()=>pa,batchNorm4d:()=>ha,batchToSpaceND:()=>ua,bincount:()=>fa,bitwiseAnd:()=>ma,booleanMaskAsync:()=>mi,broadcastArgs:()=>ga,broadcastTo:()=>ya,buffer:()=>Vn,cast:()=>jn,ceil:()=>ba,clipByValue:()=>va,clone:()=>Un,complex:()=>Ct,concat:()=>ra,concat1d:()=>wa,concat2d:()=>ka,concat3d:()=>xa,concat4d:()=>Sa,conv1d:()=>Ta,conv2d:()=>Na,conv2dTranspose:()=>_a,conv3d:()=>Ia,conv3dTranspose:()=>Aa,cos:()=>Ma,cosh:()=>Oa,cosineWindow:()=>Si,cumprod:()=>Da,cumsum:()=>Ra,denseBincount:()=>Pa,depthToSpace:()=>Fa,depthwiseConv2d:()=>La,diag:()=>za,dilation2d:()=>Ba,div:()=>Kn,divNoNan:()=>Ua,dot:()=>Wa,dropout:()=>ki,einsum:()=>qa,elu:()=>Ha,enclosingPowerOfTwo:()=>xi,ensureShape:()=>Ka,equal:()=>Va,erf:()=>Ga,euclideanNorm:()=>eo,exp:()=>to,expandDims:()=>no,expm1:()=>ro,eye:()=>oo,fft:()=>Us,fill:()=>or,floor:()=>so,floorDiv:()=>Hn,fused:()=>t,gather:()=>io,gatherND:()=>wi,greater:()=>lo,greaterEqual:()=>uo,ifft:()=>Ws,imag:()=>co,image:()=>Il,inTopKAsync:()=>Ni,irfft:()=>qs,isFinite:()=>po,isInf:()=>ho,isNaN:()=>fo,leakyRelu:()=>mo,less:()=>go,lessEqual:()=>yo,linalg:()=>Cl,linspace:()=>bo,localResponseNormalization:()=>vo,log:()=>wo,log1p:()=>ko,logSigmoid:()=>No,logSoftmax:()=>To,logSumExp:()=>Eo,logicalAnd:()=>_o,logicalNot:()=>Io,logicalOr:()=>Co,logicalXor:()=>Ao,losses:()=>Al,lowerBound:()=>Do,matMul:()=>aa,max:()=>$a,maxPool:()=>Ro,maxPool3d:()=>Po,maxPoolWithArgmax:()=>Fo,maximum:()=>cr,mean:()=>Lo,meshgrid:()=>Vo,min:()=>Ya,minimum:()=>jo,mirrorPad:()=>Uo,mod:()=>Wo,moments:()=>qo,movingAverage:()=>yi,mul:()=>Gn,multiRNNCell:()=>Ho,multinomial:()=>Ko,neg:()=>xo,norm:()=>Za,notEqual:()=>Go,oneHot:()=>Qo,ones:()=>Bo,onesLike:()=>$o,op:()=>It,outerProduct:()=>Yo,pad:()=>Jo,pad1d:()=>Xo,pad2d:()=>Zo,pad3d:()=>es,pad4d:()=>ts,pool:()=>rs,pow:()=>sr,prelu:()=>as,print:()=>Wn,prod:()=>os,raggedGather:()=>ss,raggedRange:()=>is,raggedTensorToTensor:()=>ls,rand:()=>us,randomGamma:()=>fs,randomNormal:()=>ms,randomStandardNormal:()=>gs,randomUniform:()=>ys,randomUniformInt:()=>bs,range:()=>vs,real:()=>ws,reciprocal:()=>ks,relu:()=>xs,relu6:()=>Ss,reshape:()=>ea,reverse:()=>Ns,reverse1d:()=>Ts,reverse2d:()=>Es,reverse3d:()=>_s,reverse4d:()=>Is,rfft:()=>Ks,round:()=>Cs,rsqrt:()=>As,scalar:()=>Xn,scatterND:()=>bi,searchSorted:()=>Oo,selu:()=>Ms,separableConv2d:()=>Os,setdiff1dAsync:()=>Ds,sigmoid:()=>oa,sign:()=>Rs,signal:()=>_l,sin:()=>Ps,sinh:()=>Fs,slice:()=>sa,slice1d:()=>Ls,slice2d:()=>zs,slice3d:()=>Bs,slice4d:()=>Vs,softmax:()=>js,softplus:()=>So,spaceToBatchND:()=>ns,sparse:()=>Ml,sparseToDense:()=>vi,spectral:()=>El,split:()=>Hs,sqrt:()=>Qn,square:()=>$n,squaredDifference:()=>Gs,squeeze:()=>Qs,stack:()=>$s,step:()=>Ys,stridedSlice:()=>Js,string:()=>Ol,sub:()=>ir,sum:()=>Ja,tan:()=>Xs,tanh:()=>ia,tensor:()=>Mt,tensor1d:()=>Zs,tensor2d:()=>ei,tensor3d:()=>ti,tensor4d:()=>ni,tensor5d:()=>ri,tensor6d:()=>ai,tensorScatterUpdate:()=>si,tile:()=>ao,topk:()=>ii,transpose:()=>gi,truncatedNormal:()=>li,unique:()=>ui,unsortedSegmentSum:()=>ci,unstack:()=>di,upperBound:()=>pi,variable:()=>hi,where:()=>ja,whereAsync:()=>fi,zeros:()=>zo,zerosLike:()=>Yn});var S=n(43),N=n(391),T=n(771),E=n.n(T);const _={Courses:{topics:["DSA to Development: A Complete Guide","Full Stack Development with React & Node JS - Live","GATE Data Science and Artificial Intelligence 2025","Complete Machine Learning & Data Science Program"],details:{"DSA to Development: A Complete Guide":{name:"DSA to Development: A Complete Guide",description:"This program is designed to take you on a transformative journey from mastering Data Structures and Algorithms (DSA) to becoming a proficient Developer or a Data Scientist. Whether you aspire to become a front-end developer, back-end developer, full-stack developer, data scientist or specialize in a specific tech-stack, this program provides the essential building blocks for your coding journey starting right from basic programming to building applications.",charges:19999,duration:15,certificate:!0,imgLink:"https://media.geeksforgeeks.org/img-practice/prod/courses/504/Web/Content/DSA-to-Dev_1705410853.webp",link:"https://www.geeksforgeeks.org/courses/dsa-to-development-coding-guide"},"Full Stack Development with React & Node JS - Live":{name:"Full Stack Development with React & Node JS - Live",description:"Looking to become a full-stack developer? This live, online course with a focus on the popular JS library React for front-end and Node.js for back-end along with APIs and deployment is a must-have program for any aspiring developer",charges:14999,duration:10,certificate:!0,imgLink:"https://media.geeksforgeeks.org/img-practice/prod/courses/241/Web/Content/FSRNL_1705410152.webp",link:"https://www.geeksforgeeks.org/courses/full-stack-node"},"GATE Data Science and Artificial Intelligence 2025":{name:"GATE Data Science and Artificial Intelligence 2025",description:"Unlock success with our GATE Data Science and ArtificiaI Intelligence 2025. Specially curated by experts, our courses in Machine Learning and Artificial Intelligence are your gateway to academic excellence. Fast-track your career and unleash your potential - Enroll now!",charges:9999,duration:26,certificate:!1,imgLink:"https://media.geeksforgeeks.org/img-practice/prod/courses/543/Web/Content/gateda_1711440087.webp",link:"https://www.geeksforgeeks.org/courses/gate-ds-and-ai"},"Complete Machine Learning & Data Science Program":{name:"Complete Machine Learning & Data Science Program",description:"A 360-degree Learning experience designed for geeks who wish to get hands-on Data Science. Mentored by industry experts; learn to apply DS methods and techniques, and acquire analytical skills. So Master the Art of Data Science Now!",charges:5999,duration:26,certificate:!0,imgLink:"https://media.geeksforgeeks.org/img-practice/prod/courses/405/Web/Content/ML-DS_1705408960.webp",link:"https://www.geeksforgeeks.org/courses/data-science-live"}}},FAQs:{topics:["Course Advisement","Registration Process & Financial Considerations","How It Works \u2013 The Online Learning Experience","Course Completion"],QnA:{"Course Advisement":{questions:["Who should take an Online Course?","How do I select a course?\n                "," Are there prerequisites or language requirements?","I am a high school student, can I join?","Can I take more than one course at a time?","What should I do if I need to start the course late?"],answers:["Students join our online courses for a variety of reasons and come from diverse backgrounds, professions, and age groups. With online courses, you can\n                Advance your skill-set or begin a career change.\n                Take the next step in your formal education.\n                Ease the transition before entering a full-time academic program.\n                Enjoy learning a new topic.\n                Whatever the reason, our online courses are a flexible way of learning about the art world without disrupting your daily life.","Visit the course catalog to browse our offerings. In addition to searching by course duration and availability, you can also search by subject to ensure you find a course that reflects your interests. Though it is not required, we encourage those who have not studied art before to consider taking an art history course first to get a solid grounding in the discipline before exploring more specific disciplines. Our art history courses are the perfect first step before moving on to art market courses.\n                Personal Course Advisement\n                Still not sure what course is right for you? Feel free to contact us at online@sothebysinstitute.com with some information on your background and what you hope to learn. We can then provide some personalized course advisement.","There are no prerequisites. Our courses are open to students of all backgrounds who are 18 years of age and older.\n                All courses are conducted in English. Video lectures include English subtitles and the option to slow-down, pause, or replay lectures for better retention. Discussion boards are a critical component of each of our courses; therefore, we suggest students have a conversational knowledge of English when pursuing a Certificate of Completion. For any of the art writing courses, students need to be 100% proficient in written English.","Courses are open to all students 18 years or older. If you are under 18 years old, please contact us (online@sothebysinstitute.com) to discuss further.","If you are new to online learning, we recommend that you begin with one course. As our courses are offered frequently throughout the year, you can always come back and continue your studies with one or more topics.","It is recommended that you begin your course promptly. If you do need to start the course a few days late, contact your instructor as soon as possible after the course has opened to discuss your options. Registration closes on the Friday after the course begins."]},"Registration Process & Financial Considerations":{questions:["How do I register?","When should I register?","My payment did not go through. What do I do?","Do you provide financial assistance or payment plans?","Can I get a refund if I am unable to attend my Online Course?","What are your Terms and Conditions?","I am registered. Now what?"],answers:["Registration is available on our website. Just follow these simple steps:\n                    Click the \u201cApply Now\u201d button in the top right corner of your screen.\n                    Select \u201cOnline Courses.\u201d\n                    Choose your course(s).\n                    You will be asked for basic contact information and your credit card payment. We require full payment at the time of registration and all tuition is billed in US dollars. Be sure to check with your bank or credit card company, as your financial institution may charge a foreign transaction fee.","Most courses are offered at least 3 times during the year. Certain courses can fill up quickly, so be sure to register early.","We apologize for this inconvenience. We encourage you to reach out to your financial institution as further permissions may be needed to complete the payment. You are also welcome to write to online@sothebysinstitute.com for further guidance. Please wait a full 24 hours before trying again. A strong Internet connection and up-to-date browser are strongly recommended.","As noncredit courses, our online courses are not eligible for state or federal financial aid. Some students seek professional development support from their employer or from external scholarships. In the United States, fees paid for professional development are deductible from your personal income taxes to the extent permitted by current law.\n                    While we do not offer automatic payment plans at this time, please reach out to online@sia.edu to discuss payment alternatives, such as wire transfers.","In order to be granted a full tuition refund, you must cancel your registration by sending an email to online@sothebysinstitute.com by 5:00 pm (your local time) 5 full business days before the course\u2019s start date.  Please note we are unable to reimburse for any currency conversion fees charged by your credit-card issuer.","Visit our Terms and Conditions page for details.","You will receive a confirmation email with information on when and how you can access your course. Check the details.\n                    Two weeks before the course begins, you will be given access to the SIA Online Community, a learning and networking space. This space provides you with guides and tools for successful online learning, and gives you an opportunity to introduce yourself to fellow students from across the globe.\n                    Visit our How It Works page to learn more about the online experience.\n                    Read about our online students\u2019 experiences on our Student Stories page."]},"How It Works \u2013 The Online Learning Experience":{questions:["How do I access my course?","How long is my course?","How many students are in a course? Who will be my classmates?","How does Online Learning work?","Do I need specific equipment to take Online Courses?","How do I contact technical support during my course?","Is there an orientation for online students?"],answers:['Canvas, our online learning platform, will become available to you two weeks before your course start date. At that time, Canvas is accessed by clicking on the "Students & Alumni" tab in the top right-hand corner of wwwhttps://sothebysinstitute.com and selecting "Canvas Login." You will log in with the email and password created at the time of registration. If you have registered less than two weeks before your course begins, Canvas is available to you within 24 hours of course booking.',"We currently offer 4-week, 6-week, and 8-week courses. Check the course dates listed online prior to registration.\n                    For a 4-week or 6-week course, you can expect to spend 5-7 hours a week reviewing and completing the course material.\n                    For an 8-week course, you can expect to spend 8-10 hours a week reviewing and completing the course material.\n                    You will also have read-only access to your course in Canvas for 90 days after its conclusion to review the course materials at your leisure.","Our classes are kept small, at no more than 30 students, to better facilitate and encourage personalized interaction with the instructor and fellow participants. Your classmates come from all over the globe and contribute their global perspectives and experience. Some are currently working within the arts while others are just beginning. All classmates share in their passion for the art world.","OurHow It Works page provides more information on what the online experience is and how you can expect to interact with your course. You can also read about our online students\u2019 experiences on ourStudent Stories page.","You should have an up-to-date web browser such as: Chrome, Safari, Firefox, or Internet Explorer. For more detailed information, please see the guides for supported browsers and basic computer specifications. \n                    Our Online Courses can be accessed on a mobile or tablet device, although we strongly encourage you to have access to a desktop or laptop computer and reliable internet connection for certain course components. Former students have told us it is easiest to read discussion threads and complete written assignments on a laptop or desktop computer.","For technical support, please email online.support@sothebysinstitute.com, 09:00 \u2013 22:00 GMT, Monday \u2013 Friday. We are ready to help!","Two weeks before your course starts you will be invited to join the SIA Online Community where our guides will introduce you to the technology and dynamics of online teaching and learning. It also gives you a chance to introduce yourself and network with fellow students.\n                    Should you have any questions or need help troubleshooting a piece of technology, our Online Team is only an email away and is ready to assist."]},"Course Completion":{questions:["I completed my course! Now what?","Can I audit an Online Course?","Can I put my Online Course(s) toward a professional certificate or degree program?","How can Online Courses bolster my career options?","Who should I contact if I have additional questions?"],answers:["Well done! You will have 90 days of read-only access to revisit and reflect on the course material.  \n                    Get your certificate: When you successfully complete an Online Course, you are eligible to receive a digital certificate of completion. We encourage you to review your instructor\u2019s syllabus to understand the Certificate of Completion requirements for your course. These requirements often include the following:\n                    \n                    Active participation in the majority of discussion boards\n                    Timely submission of all assignments\n                    Most courses have 1-2 short written assignments, but it can vary and it is important for you to follow -up with your instructor early in the course should you have any questions or concerns regarding your eligibility or the requirements.  Certificates of Completion are delivered to the email used at the time of registration, and can be expected no later than 3 weeks after the course ends. These digital verified credentials allow you to present a trustworthy record of your learning to anyone at any time.  \n                    \n                    Our certificate platform, Accredible, permits you to share your achievement on various social media platforms, embed it on your website, and add it to your LinkedIn profile.","As a continuing education student, it is your decision how you participate in the course. Those who plan to audit the course and not receive a certificate of completion should send a message to the instructor at the start of the course so they understand your goals.","Online Courses are intended to deepen your knowledge of a particular field, but cannot be formally applied as credits to other institutions or the Sotheby\u2019s Institute MA degree.","Sotheby\u2019s Institute of Art Online Courses demonstrate to future employers that you have current knowledge of art world topics, provided by a trusted institution and art world leader. Including Online Courses on your resume, posting your Certificate of Completion to your online profiles such as LinkedIn, and staying connected with your classmates to network are powerful ways to continue leveraging your experience long after your course has ended.","You can contact the Online Team at online@sothebysinstitute.com or at +1 212-897-6644."]}}},Queries:{topics:["How It Works","Faculty","Student Stories"],Para:["Learning online is an accessible and practical education option. No matter where you are in the world, a computer and a reliable internet connection is all you need to connect to our learning platform and participate in one of our online courses.\n\n            Course Structure\n            Your course takes place entirely online in Sotheby\u2019s Institute\u2019s learning platform \u2013 Canvas. Canvas is an intuitive, self-contained environment that requires no additional software and is easily accessible via our homepage.\n            \n            Within Canvas, you will have access to a variety of materials for each week\u2019s lessons, such as:\n            \n            Weekly instructor-narrated video lectures that you are able to pause and replay.\n            A selection of readings complementary to the week\u2019s topic.\n            Additional web resources, like podcasts, that offer multiple perspectives.\n            Instructor-guided discussion boards to answer your questions and expand on key concepts.\n            Different types of assessments with individual feedback from your instructor, for example short written essays or quizzes.\n            This short video allows you the opportunity to see the student experience within Canvas.\n            \n            At the beginning of each week your instructor frames the core concepts using a variety of the above content. While courses will vary in the types of materials used, we structure them with a consistent format and pace from week to week, so the lessons are easy to follow and review. As many instructors and Sotheby\u2019s Institute Online alumni can attest, being able to rewind, pause, and replay any lecture allows for greater retention of the material. This structure empowers you to reach the learning objectives specific to your course and have a comfortable and collaborative experience.\n            \n            Throughout the course, our faculty are with you every step of the way. To encourage you and your fellow classmates to explore each week\u2019s topics in full, they pose questions and provide feedback through written discussion boards.   The more you can engage with your instructor and peers; the more productive and enjoyable your learning experience will be.\n            \n            \n            Staying on Track\n            Courses can be accessed 24 hours a day, seven days a week and are designed without scheduled live-sessions. Many students choose to log on 3 - 4 times each week to engage with the discussion boards and the course materials.\n\n            Therefore it takes an independent, organized, and motivated learner to get the most out of this flexible learning environment. We provide time management strategies to avoid pitfalls before your course starts.\n\n            Self-Assessment\n            We want you to succeed! Try answering yes or no to the statements below to evaluate if the online learning experience is right for you:\n\n            I am willing to ask for the help I need in my courses by asking questions of other students and the instructor.\n            I have 6-9 hours each week to dedicate to my class studies.\n            I feel comfortable expressing my ideas and questions in writing and have successfully done so using email, discussion boards, and/or social media in the past.\n            I have the technology, such as a reliable computer and Internet access, necessary to participate in an online course.\n            With guidance, I am willing to try to learn new computer technologies and I understand how to read and follow technical instructions to accomplish new tasks.\n\n            Getting Ready\n            To make sure your first day of online learning is a success, please make sure that your computer meets the minimum requirements for online coursework and that you have updated to the most recent version of the Google Chrome, Apple Safari, Mozilla Firefox, or Microsoft Edge web browser, with all available updates installed.\n\n            For more detailed information, please see the Canvas guidelines for supported browsers.\n\n            We strongly encourage you to have access to a reliable computer with a strong Internet connection.  While you can access our online courses on your mobile or tablet device, it is easiest to participate in discussions and complete assignments on a laptop or desktop computer.\n\n            For technical support, please email online.support@sia.com or by using the \u201cHelp\u201d button within Canvas navigation. We are ready to help!\n\n            You can also access the Canvas Student Guide. It is a complete knowledge base of the learning management system.","Sotheby's Institute faculty are noted scholars and practicing art professionals. These art historians, economists, creative directors, fundraisers, art lawyers, and myriad other active members of the arts and cultural communities help bring the immediacy of the arts, the dynamism of its markets, the creativity of its practitioners and the passions of its leaders to the classroom. The Institute's faculty has published a broad range of texts on art scholarship and education which can be found on our publications page. The Institute also attracts some of the most accomplished artists and art professionals working today as guest speakers.","Sotheby's Institute of Art - Online Learning students not only gain knowledge and practical skills in key art world topics like art history, art business, art writing, and contemporary art, but they also become part of a global online community of over 2,500 alumni. We spoke to some Online Alumni about their experience of studying with Sotheby's Institute and the real-world impact of their studies.\n            \n            Robin K.\n            Art as an Alternative Investment\n            Occupation: Founder, Plan Art LLC\n\n            Where are you from? Irvine, California, USA.\n\n            Tell us about your background and what made you choose Sotheby\u2019s Institute of Art \u2013 Online.\n            My chosen career, until last year, was in providing high net worth families with help in realizing their investment, planning, and philanthropic goals. At the same time, I became more involved within the art community, serving on several boards and getting engaged with local arts efforts. While many people were focused on collecting art, few were thinking about what they would do with their art holdings when the time came to transfer the art to the next generation, or to their favorite charity. As a result, I formed Plan Art LLC in an effort to help families with the art transfer decision. After forming Plan Art LLC, I realized that it would be most helpful for me to take a closer look at the art market, and how art assets are perceived as an investment option versus other tangible and intangible assets. Sotheby\u2019s online course opened up that world for me.\n\n            How do you feel the skills and knowledge you\u2019ve gained from the program have helped you in your career?\n            Through its reading materials and guided questions, the program very effectively provides a thought process around analyzing the art market, especially as we experience a change in the demographics and structures that will drive the market for years to come. Many of these issues are keys factors to consider as I evaluate my role in the art world.\n\n            What effect has this program had on your every day?\n            The program opened up a vast array of resources that have expanded my insights when it comes to evaluating the key variables that drive the art market. Suddenly, I am privy to meaningful insights provided by a larger world of participants and experts.\n\n            Stephanie S.\n            Writing for the Art World\n            Occupation: Writer/Producer on Sotheby\u2019s editorial team.\n\n            Where are you from? Tampa, Florida.\n\n            Tell us about your background and what made you choose Sotheby\u2019s Institute of Art \u2013 Online.\n            I\u2019ve always been passionate about art, but my journalistic background was mostly in fashion and luxury lifestyle. I was looking for an efficient way to gain experience in the art world, and this course felt like a great way to prepare myself for professional art writing. I loved that this was an introductory course from a company firmly established in the art world.\n\n            What did you most enjoy about the Sotheby\u2019s Institute of Art Online program?\n            I really enjoyed working on my final assignment. Throughout the class there were several opportunities to discuss readings and personal experiences at museums and institutions, but delving into a specific topic in a longer form, and especially having the chance to expand, draft and rewrite, was very valuable.\n\n            How do you feel the skills and knowledge you\u2019ve gained from the program have helped you in your career?\n            I began the course right around the time I started working at Sotheby\u2019s, so of course, writing for Sotheby\u2019s professionally while studying with SIA was quite complementary.\n\n            What effect has this program had on your every day?\n            I write about art and luxury lifestyle topics for Sotheby\u2019s every day, so reading and working with similar topics for my online class gave me more exposure to these industries. Perhaps what I remember most about my experience was working with my instructor. She gave such thorough feedback and was very positive and thoughtful in doing so. She definitely paid attention to the development of my writing, and I feel she made a sincere effort to get to know me as a student \u2013 both my interests and my writing style \u2013 to draw as much out of me as possible in the short program.\n\n            Mark\n            Art as a Global Business: The Value of Art\n            Occupation: Entrepreneur and Gallerist\n\n            Where are you from? Bangalore, India.\n\n            Tell us about your background and what made you choose Sotheby\u2019s Institute of Art \u2013 Online.\n            After 17 years in a corporate career, I decided to take the entrepreneurial route and founded an online art gallery dedicated to promoting upcoming artists. Being a self-taught artist this wasn\u2019t a difficult transition, but I needed to have an understanding of the international art market, its structure and functioning. I also needed to understand art valuation, market influences, and trends. The Online course at Sotheby\u2019s fit these needs perfectly, and I was keen to sign up.\n\n            How do you feel the skills and knowledge you\u2019ve gained from the program have helped you in your career?\n            It has definitely made improvements in the way I approach the art business as a gallerist. My understanding of the global art market has increased exponentially. It has helped in re-aligning perspectives around key elements like strategy, market orientation, navigation, and networking.\n\n            What effect has this program had on your every day?\n            This program has provided knowledge, clarity, and direction for many of my business goals. I especially enjoyed the hours spent referencing material for the discussions and the assignments, which I thought were pivotal in helping achieve my learning objectives.\n\n            jordanadairJordan A.\n            Art History Intensive: 1860 to the Present\n            Occupation: Secondary School English and Art History teacher at Durham Academy.\n\n            Where are you from? Chapel Hill, NC.\n\n            Tell us about your background and what made you choose Sotheby\u2019s Institute of Art \u2013 Online.\n            I have been teaching for 35 years at the secondary level, most of those years as an English teacher; however, almost 10 years ago I spoke with the headmaster at my school and asked if I could offer an art history class. I was given permission to do so, and so began my AP Art History class. I have had a love affair with art history for many years, have always brought art, architecture, and photography into my English classes (along with film and music in a cultural studies model), and simply wanted to be able to talk about art on a daily basis. As for Sotheby\u2019s Institute of Art offerings, I received an email advertisement for the online courses, most likely because of a mailing list I joined after taking an AP Art History seminar two years ago at the School of the Art Institute of Chicago. The offerings looked interesting and the approach was both substantial and fit my summertime schedule.\n\n            What did you most enjoy about the Sotheby\u2019s Institute of Art Online program?\n            I thoroughly enjoyed interacting with my teacher Morgan Falconer and with some of the other students in the discussion forums. That we came from all parts of the world and brought with us a rich variety of perspectives made for lively exchanges that enriched my experience. In addition, I loved being exposed to art I\u2019ve never really explored and listening to lectures and reading articles on that art, all of which broadened my understanding of modern and contemporary art. I will be able to use what I learned this year in my AP Art History class.\n\n            What effect has this program had on your every day? How do you feel the skills and knowledge learnt on the program have helped you in your career?\n            I have learned how to \u201clook\u201d more effectively and more deeply at works of art that in the past had simply eluded my understanding. I have also gained a far greater appreciation for these works of art and the artists who created them. Learning about the cultural and historical contexts has made for a much richer engagement with the art. I will be able to use this knowledge in both my class at Durham Academy and whenever I visit a museum to view modern and contemporary art (and works of art from other periods as well).\n\n            hervetischmacherHerv\xe9 T.\n            Art History: Egyptian to Pop & Art as an Alternative Investment Age : 25\n            Occupation: Entrepreneur\n\n            Where are you from? Strasbourg, France.\n\n            Tell us about your background and what made you choose Sotheby\u2019s Institute of Art \u2013 Online.\n            I graduated with an MBA with an emphasis on International Management in 2015.\n\n            During those 5 years, I lived in Strasbourg, Shanghai, Paris, and New York City. In New York, I spent a great deal of time exploring the local art culture. After two years working in sales, I was in search of a challenging and exciting program to learn and get more experience in the art world. With Sotheby\u2019s brand recognition and the possibility to learn online, it was obviously the best choice and opportunity for me.\n\n            What did you most enjoy about the Sotheby\u2019s Institute of Art Online program?\n            I really appreciated the discussion structure. The courses were all about sharing our understanding, views, and experiences of art; despite us all being behind our computer screens, it was a very human and enriching experience. Teachers were always reachable, understanding, and supportive. I deeply want to thank the Sotheby\u2019s Institute team and teachers for that!\n\n            What effect has this program had on your every day? How do you feel the skills and knowledge learnt on the program have helped you in your career?\n            I am now an informed observer. I sharpened my way of seeing and understanding a work. I am also more aware of the risks and opportunities within the art market, as well as its complexity and the expertise required to become an educated collector and investor.\n\n            I am using these skills on a weekly basis by following the news on artwork, artists, vintage cars, and auctions to keep an eye on this world, ensuring that I will be more than ready for the day when I start my life as a collector!"],QnA:{"How It Works":{questions:[],answers:[]},Faculty:{questions:[],answers:[]},"Student Stories":{questions:[],answers:[]}}}};var I=n(579);const C=function(){return(0,I.jsx)("div",{className:"avatar",children:(0,I.jsx)("i",{className:"fa-solid fa-robot"})})};const A=function(){return(0,I.jsx)("div",{className:"avatar userAvatar",children:(0,I.jsx)("i",{className:"fa-regular fa-user"})})};const M=function(e){return(0,I.jsx)("div",{children:(0,I.jsx)("button",{className:"btn startBtn",onClick:t=>{console.log("button clicked!",e),t.target.disabled=!0,e.actions.askName()},children:"Click to get Started!"})})};const O=function(e){const t=(0,S.useRef)(null),n=n=>{const r=t.current;for(let e of r.childNodes[0].childNodes)e.disabled=!0;r.childNodes[1].disabled=!0,e.state.userData.querySubject=n,e.actions.askQueryTopic()};return(0,I.jsxs)("div",{ref:t,children:[(0,I.jsxs)("div",{className:"flex",children:[(0,I.jsx)("button",{className:"btn startBtn",onClick:()=>n("Courses"),children:"Courses"}),(0,I.jsx)("button",{className:"btn startBtn",onClick:()=>n("FAQs"),children:"FAQs"})]}),(0,I.jsx)("button",{className:"btn startBtn singleBtn",onClick:()=>n("Queries"),children:"Queries"})]})};const D=function(e){let{userData:t,dataSet:n,actions:r}=e;return n[t.querySubject].topics.map(((e,n)=>(0,I.jsx)("button",{className:"d-block startBtn btn my-2",onClick:n=>((e,n)=>{const a=e.target.parentNode;for(let t of a.childNodes)t.disabled=!0;switch(t.queryTopic=n,t.querySubject){case"Courses":r.handleCourses();break;case"FAQs":r.handleFAQs();break;case"Queries":r.handleQueries()}})(n,e),children:e},n)))};const R=function(e){let{actions:t,userData:n,dataSet:r}=e;const{querySubject:a,queryTopic:o}=n,s=r[a].details[o];return(0,S.useEffect)((()=>{console.log(s)}),[]),(0,I.jsx)("div",{children:(0,I.jsxs)("div",{className:"card",style:{width:"12rem",marginLeft:"2rem"},children:[(0,I.jsx)("img",{src:s.imgLink,className:"card-img-top",alt:"courseImg"}),(0,I.jsxs)("div",{className:"card-body",children:[(0,I.jsx)("h5",{className:"card-title",children:s.name}),(0,I.jsx)("p",{className:"",children:(0,I.jsx)("a",{className:"btn btn-primary","data-bs-toggle":"collapse",href:"#collapseExample",role:"button","aria-expanded":"false","aria-controls":"collapseExample",children:"Read Description"})}),(0,I.jsx)("div",{className:"collapse",id:"collapseExample",style:{maxHeight:"12rem",overflowY:"scroll"},children:(0,I.jsx)("div",{className:"card card-body",children:s.description})}),(0,I.jsxs)("p",{className:"card-text fs-6 fw-bolder",children:["Duration:  ",s.duration," weeks"]}),(0,I.jsxs)("p",{className:"card-text fw-bolder",children:["Price: \u20b9 ",s.charges]}),(0,I.jsx)("a",{href:s.link,className:"btn btn-primary",children:"Link"})]})]})})};const P=function(e){let{actions:t,userData:n,dataSet:r}=e;const{querySubject:a,queryTopic:o}=n,s=r[a].QnA[o];(0,S.useEffect)((()=>{console.log(s)}),[]);const i=e=>{const t=e.target.childNodes[1]?e.target.childNodes[1]:e.target;"\u25bc"===t.innerText?t.innerText="\u25b2":t.innerText="\u25bc"};return s.questions.map(((e,t)=>(0,I.jsxs)("div",{children:[(0,I.jsxs)("p",{className:"FAQques startBtn btn btn-secondary text-dark","data-bs-toggle":"collapse",href:"#collapseExampleFAQ".concat(t),"aria-expanded":"false","aria-controls":"collapseExample",onClick:i,children:[e,(0,I.jsx)("a",{className:"mx-1 text-dark",children:"\u25bc"})]}),(0,I.jsx)("div",{className:"collapse my-2",id:"collapseExampleFAQ".concat(t),style:{maxHeight:"12rem",overflowY:"scroll"},children:(0,I.jsx)("div",{className:"card card-body startBtn",children:s.answers[t]})})]},"FAQ".concat(t))))};class F{refCount(e){return L("refCount")}incRef(e){return L("incRef")}timerAvailable(){return!0}time(e){return L("time")}read(e){return L("read")}readSync(e){return L("readSync")}readToGPU(e,t){return L("readToGPU")}numDataIds(){return L("numDataIds")}disposeData(e,t){return L("disposeData")}write(e,t,n){return L("write")}move(e,t,n,r,a){return L("move")}createTensorFromGPUData(e,t,n){return L("createTensorFromGPUData")}memory(){return L("memory")}floatPrecision(){return L("floatPrecision")}epsilon(){return 32===this.floatPrecision()?1e-7:1e-4}dispose(){return L("dispose")}}function L(e){throw new Error("'".concat(e,"' not yet implemented or not found in the registry. ")+"This kernel may not be supported by the tfjs backend you have chosen")}function z(e,t){if(!e)throw new Error("string"===typeof t?t:t())}function B(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";z(U(e,t),(()=>n+" Shapes ".concat(e," and ").concat(t," must match")))}function V(e){z(null!=e,(()=>"The input to the tensor constructor must be a non-null value."))}function j(e){if(0===e.length)return 1;let t=e[0];for(let n=1;n<e.length;n++)t*=e[n];return t}function U(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function W(e){return e%1===0}function q(e,t){return t<=e.length?e:e+" ".repeat(t-e.length)}function H(e,t){const n=t.length;return z((e=null==e?t.map(((e,t)=>t)):[].concat(e)).every((e=>e>=-n&&e<n)),(()=>"All values in axis param must be in range [-".concat(n,", ").concat(n,") but ")+"got axis ".concat(e))),z(e.every((e=>W(e))),(()=>"All values in axis param must be integers but "+"got axis ".concat(e))),e.map((e=>e<0?n+e:e))}function K(e,t){let n=null;if(null==e||"float32"===e)n=new Float32Array(t);else if("int32"===e)n=new Int32Array(t);else if("bool"===e)n=new Uint8Array(t);else{if("string"!==e)throw new Error("Unknown data type ".concat(e));n=new Array(t)}return n}function G(e){if("float32"===e||"int32"===e)return 4;if("complex64"===e)return 8;if("bool"===e)return 1;throw new Error("Unknown dtype ".concat(e))}function Q(e){return"string"===typeof e||e instanceof String}function $(e){return Array.isArray(e)?$(e[0]):e instanceof Float32Array?"float32":e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray?"int32":"number"===typeof e?"float32":Q(e)?"string":function(e){return"boolean"===typeof e}(e)?"bool":"float32"}function Y(e){return!!(e&&e.constructor&&e.call&&e.apply)}function J(e){const t=e.length;if(t<2)return[];const n=new Array(t-1);n[t-2]=e[t-1];for(let r=t-3;r>=0;--r)n[r]=n[r+1]*e[r+1];return n}function X(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const a=new Array;if(1===t.length){const o=t[0]*(r?2:1);for(let t=0;t<o;t++)a[t]=n[e+t]}else{const o=t[0],s=t.slice(1),i=s.reduce(((e,t)=>e*t))*(r?2:1);for(let t=0;t<o;t++)a[t]=X(e+t*i,s,n,r)}return a}function Z(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(0===e.length)return t[0];const r=e.reduce(((e,t)=>e*t))*(n?2:1);if(0===r)return[];if(r!==t.length)throw new Error("[".concat(e,"] does not match the input size ").concat(t.length).concat(n?" for a complex tensor":"","."));return X(0,e,t,n)}function ee(e,t){const n=te(e,t);for(let r=0;r<n.length;r++)n[r]=1;return n}function te(e,t){if(null==t||"float32"===t||"complex64"===t)return new Float32Array(e);if("int32"===t)return new Int32Array(e);if("bool"===t)return new Uint8Array(e);throw new Error("Unknown data type ".concat(t))}function ne(e){e.forEach((t=>{z(Number.isInteger(t)&&t>=0,(()=>"Tensor must have a shape comprised of positive integers but got "+"shape [".concat(e,"].")))}))}function re(e){return e&&e.then&&"function"===typeof e.then}const ae="tfjsflags";class oe{constructor(e){this.global=e,this.flags={},this.flagRegistry={},this.urlFlags={},this.getQueryParams=se,this.populateURLFlags()}setPlatform(e,t){null!=this.platform&&(ie().getBool("IS_TEST")||ie().getBool("PROD")||console.warn("Platform ".concat(this.platformName," has already been set. ")+"Overwriting the platform with ".concat(e,"."))),this.platformName=e,this.platform=t}registerFlag(e,t,n){if(this.flagRegistry[e]={evaluationFn:t,setHook:n},null!=this.urlFlags[e]){const t=this.urlFlags[e];ie().getBool("IS_TEST")||ie().getBool("PROD")||console.warn("Setting feature override from URL ".concat(e,": ").concat(t,".")),this.set(e,t)}}async getAsync(e){return e in this.flags||(this.flags[e]=await this.evaluateFlag(e)),this.flags[e]}get(e){if(e in this.flags)return this.flags[e];const t=this.evaluateFlag(e);if(re(t))throw new Error("Flag ".concat(e," cannot be synchronously evaluated. ")+"Please use getAsync() instead.");return this.flags[e]=t,this.flags[e]}getNumber(e){return this.get(e)}getBool(e){return this.get(e)}getString(e){return this.get(e)}getFlags(){return this.flags}get features(){return this.flags}set(e,t){if(null==this.flagRegistry[e])throw new Error("Cannot set flag ".concat(e," as it has not been registered."));this.flags[e]=t,null!=this.flagRegistry[e].setHook&&this.flagRegistry[e].setHook(t)}evaluateFlag(e){if(null==this.flagRegistry[e])throw new Error("Cannot evaluate flag '".concat(e,"': no evaluation function found."));return this.flagRegistry[e].evaluationFn()}setFlags(e){this.flags=Object.assign({},e)}reset(){this.flags={},this.urlFlags={},this.populateURLFlags()}populateURLFlags(){if("undefined"===typeof this.global||"undefined"===typeof this.global.location||"undefined"===typeof this.global.location.search)return;const e=this.getQueryParams(this.global.location.search);if(ae in e){e[ae].split(",").forEach((e=>{const[t,n]=e.split(":");this.urlFlags[t]=function(e,t){const n=t.toLowerCase();return"true"===n||"false"===n?"true"===n:"".concat(+n)===n?+n:t}(0,n)}))}}}function se(e){const t={};return e.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,(function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return function(e,t,n){e[decodeURIComponent(t)]=decodeURIComponent(n||"")}(t,r[0],r[1]),r.join("=")})),t}function ie(){return ue}let le,ue=null;function ce(){if(null==le){let e;if("undefined"!==typeof window)e=window;else if("undefined"!==typeof n.g)e=n.g;else if("undefined"!==typeof process)e=process;else{if("undefined"===typeof self)throw new Error("Could not find a global object");e=self}le=e}return le}function de(e,t){const n=function(){const e=ce();return null==e._tfGlobals&&(e._tfGlobals=new Map),e._tfGlobals}();if(n.has(e))return n.get(e);{const r=t();return n.set(e,r),n.get(e)}}const pe="Cast",he="Fill",fe="Identity",me="LinSpace",ge="Range",ye="Tile",be="Transpose",ve="_FusedMatMul",we="FusedConv2D",ke="FusedDepthwiseConv2D",xe=de("kernelRegistry",(()=>new Map)),Se=de("gradRegistry",(()=>new Map));function Ne(e,t){const n=_e(e,t);return xe.get(n)}function Te(e){return Se.get(e)}function Ee(e){const t=xe.entries(),n=[];for(;;){const{done:r,value:a}=t.next();if(r)break;const[o,s]=a,[i]=o.split("_");i===e&&n.push(s)}return n}function _e(e,t){return"".concat(t,"_").concat(e)}function Ie(){ie().getBool("IS_TEST")||ie().getBool("PROD")||console.warn(...arguments)}function Ce(e){return e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray}var Ae=n(353);const Me=n.n(Ae)()||Ae;function Oe(e){return Me.fromString(e,!0,16)}Oe("c3a5c85c97cb3127"),Oe("b492b66fbe98f273"),Oe("9ae16a3b2f90404f");function De(e,t){if("string"===t)throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(e)&&(e=ze(e)),ie().getBool("DEBUG")&&function(e,t){for(let n=0;n<e.length;n++){const r=e[n];if(isNaN(r)||!isFinite(r))throw Error("A tensor of type ".concat(t," being uploaded contains ").concat(r,"."))}}(e,t),function(e,t){return e instanceof Float32Array&&"float32"===t||e instanceof Int32Array&&"int32"===t||e instanceof Uint8Array&&"bool"===t}(e,t))return e;if(null==t||"float32"===t||"complex64"===t)return new Float32Array(e);if("int32"===t)return new Int32Array(e);if("bool"===t){const t=new Uint8Array(e.length);for(let n=0;n<t.length;++n)0!==Math.round(e[n])&&(t[n]=1);return t}throw new Error("Unknown data type ".concat(t))}function Re(){return ie().platform.now()}function Pe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf-8";return t=t||"utf-8",ie().platform.encode(e,t)}function Fe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf-8";return t=t||"utf-8",ie().platform.decode(e,t)}function Le(e){return null!=ie().platform.isTypedArray?ie().platform.isTypedArray(e):Ce(e)}function ze(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(null==t&&(t=[]),"boolean"===typeof e||"number"===typeof e||"string"===typeof e||re(e)||null==e||Le(e)&&n)t.push(e);else if(Array.isArray(e)||Le(e))for(let r=0;r<e.length;++r)ze(e[r],t,n);else{let r=-1;for(const t of Object.keys(e))/^([1-9]+[0-9]*|0)$/.test(t)&&(r=Math.max(r,Number(t)));for(let a=0;a<=r;a++)ze(e[a],t,n)}return t}class Be{constructor(e,t){this.backendTimer=e,this.logger=t,null==t&&(this.logger=new je)}profileKernel(e,t,n){let r;const a=()=>{r=n()};let o;const s=Re();if(this.backendTimer.timerAvailable())o=this.backendTimer.time(a);else{a();for(const e of r)e.dataSync();o=Promise.resolve({kernelMs:Re()-s})}if(ie().getBool("CHECK_COMPUTATION_FOR_ERRORS"))for(let i=0;i<r.length;i++){const t=r[i];t.data().then((n=>{Ve(n,t.dtype,e)}))}return{kernelName:e,outputs:r,inputs:t,timeMs:o.then((e=>e.kernelMs)),extraInfo:o.then((e=>null!=e.getExtraProfileInfo?e.getExtraProfileInfo():""))}}logKernelProfile(e){const{kernelName:t,outputs:n,timeMs:r,inputs:a,extraInfo:o}=e;n.forEach((e=>{Promise.all([e.data(),r,o]).then((n=>{this.logger.logKernelProfile(t,e,n[0],n[1],a,n[2])}))}))}}function Ve(e,t,n){if("float32"!==t)return!1;for(let r=0;r<e.length;r++){const t=e[r];if(isNaN(t)||!isFinite(t))return console.warn("Found ".concat(t," in the result of '").concat(n,"'")),!0}return!1}class je{logKernelProfile(e,t,n,r,a,o){const s="number"===typeof r?q("".concat(r,"ms"),9):r.error,i=q(e,25),l=t.rank,u=t.size,c=q(t.shape.toString(),14);let d="";for(const p in a){const e=a[p];if(null!=e){const n=e.shape||t.shape,r=n.length;d+="".concat(p,": ").concat(r,"D ").concat(r>0?n:""," ")}}console.log("%c".concat(i,"\t%c").concat(s,"\t%c").concat(l,"D ").concat(c,"\t%c").concat(u,"\t%c").concat(d,"\t%c").concat(o),"font-weight:bold","color:red","color:blue","color: orange","color: green","color: steelblue")}}const Ue=20,We=3,qe=7;function He(e,t,n,r){const a=J(t),o=function(e,t,n,r){const a=j(t),o=r[r.length-1],s=new Array(o).fill(0),i=t.length,l="complex64"===n?$e(e):e;if(i>1)for(let u=0;u<a/o;u++){const e=u*o;for(let t=0;t<o;t++)s[t]=Math.max(s[t],Ke(l[e+t],0,n).length)}return s}(e,t,n,a),s=t.length,i=Qe(e,t,n,a,o),l=["Tensor"];return r&&(l.push("  dtype: ".concat(n)),l.push("  rank: ".concat(s)),l.push("  shape: [".concat(t,"]")),l.push("  values:")),l.push(i.map((e=>"    "+e)).join("\n")),l.join("\n")}function Ke(e,t,n){let r;return r=Array.isArray(e)?"".concat(parseFloat(e[0].toFixed(qe))," + ")+"".concat(parseFloat(e[1].toFixed(qe)),"j"):Q(e)?"'".concat(e,"'"):"bool"===n?Ge(e):parseFloat(e.toFixed(qe)).toString(),q(r,t)}function Ge(e){return 0===e?"false":"true"}function Qe(e,t,n,r,a){let o=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];const s="complex64"===n?2:1,i=t[0],l=t.length;if(0===l){if("complex64"===n){return[Ke($e(e)[0],0,n)]}return"bool"===n?[Ge(e[0])]:[e[0].toString()]}if(1===l){if(i>Ue){const t=We*s;let r=Array.from(e.slice(0,t)),o=Array.from(e.slice((i-We)*s,i*s));return"complex64"===n&&(r=$e(r),o=$e(o)),["["+r.map(((e,t)=>Ke(e,a[t],n))).join(", ")+", ..., "+o.map(((e,t)=>Ke(e,a[i-We+t],n))).join(", ")+"]"]}return["["+("complex64"===n?$e(e):Array.from(e)).map(((e,t)=>Ke(e,a[t],n))).join(", ")+"]"]}const u=t.slice(1),c=r.slice(1),d=r[0]*s,p=[];if(i>Ue){for(let t=0;t<We;t++){const r=t*d,o=r+d;p.push(...Qe(e.slice(r,o),u,n,c,a,!1))}p.push("...");for(let t=i-We;t<i;t++){const r=t*d,o=r+d;p.push(...Qe(e.slice(r,o),u,n,c,a,t===i-1))}}else for(let m=0;m<i;m++){const t=m*d,r=t+d;p.push(...Qe(e.slice(t,r),u,n,c,a,m===i-1))}const h=2===l?",":"";p[0]="["+(i>0?p[0]+h:"");for(let m=1;m<p.length-1;m++)p[m]=" "+p[m]+h;let f=",\n";for(let m=2;m<l;m++)f+="\n";return p[p.length-1]=" "+p[p.length-1]+"]"+(o?"":f),p}function $e(e){const t=[];for(let n=0;n<e.length;n+=2)t.push([e[n],e[n+1]]);return t}class Ye{constructor(e,t,n){if(this.dtype=t,this.shape=e.slice(),this.size=j(e),null!=n){const e=n.length;z(e===this.size,(()=>"Length of values '".concat(e,"' does not match the size ")+"inferred by the shape '".concat(this.size,"'.")))}if("complex64"===t)throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=n||K(t,this.size),this.strides=J(e)}set(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];0===n.length&&(n=[0]),z(n.length===this.rank,(()=>"The number of provided coordinates (".concat(n.length,") must ")+"match the rank (".concat(this.rank,")")));const a=this.locToIndex(n);this.values[a]=e}get(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];0===t.length&&(t=[0]);let r=0;for(const o of t){if(o<0||o>=this.shape[r]){const e="Requested out of range element at ".concat(t,". ")+"  Buffer shape=".concat(this.shape);throw new Error(e)}r++}let a=t[t.length-1];for(let o=0;o<t.length-1;++o)a+=this.strides[o]*t[o];return this.values[a]}locToIndex(e){if(0===this.rank)return 0;if(1===this.rank)return e[0];let t=e[e.length-1];for(let n=0;n<e.length-1;++n)t+=this.strides[n]*e[n];return t}indexToLoc(e){if(0===this.rank)return[];if(1===this.rank)return[e];const t=new Array(this.shape.length);for(let n=0;n<t.length-1;++n)t[n]=Math.floor(e/this.strides[n]),e-=t[n]*this.strides[n];return t[t.length-1]=e,t}get rank(){return this.shape.length}toTensor(){return Je().makeTensor(this.values,this.shape,this.dtype)}}let Je=null,Xe=null,Ze=null;class et{constructor(e,t,n,r){this.kept=!1,this.isDisposedInternal=!1,this.shape=e.slice(),this.dtype=t||"float32",this.size=j(e),this.strides=J(e),this.dataId=n,this.id=r,this.rankType=this.rank<5?this.rank.toString():"higher"}get rank(){return this.shape.length}async buffer(){const e=await this.data();return Xe.buffer(this.shape,this.dtype,e)}bufferSync(){return Xe.buffer(this.shape,this.dtype,this.dataSync())}async array(){const e=await this.data();return Z(this.shape,e,"complex64"===this.dtype)}arraySync(){return Z(this.shape,this.dataSync(),"complex64"===this.dtype)}async data(){this.throwIfDisposed();const e=Je().read(this.dataId);if("string"===this.dtype){const n=await e;try{return n.map((e=>Fe(e)))}catch(t){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}}return e}dataToGPU(e){return this.throwIfDisposed(),Je().readToGPU(this.dataId,e)}dataSync(){this.throwIfDisposed();const e=Je().readSync(this.dataId);if("string"===this.dtype)try{return e.map((e=>Fe(e)))}catch(t){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return e}async bytes(){this.throwIfDisposed();const e=await Je().read(this.dataId);return"string"===this.dtype?e:new Uint8Array(e.buffer)}dispose(){this.isDisposed||(this.kerasMask&&this.kerasMask.dispose(),Je().disposeTensor(this),this.isDisposedInternal=!0)}get isDisposed(){return this.isDisposedInternal}throwIfDisposed(){if(this.isDisposed)throw new Error("Tensor is disposed.")}print(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Xe.print(this,e)}clone(){return this.throwIfDisposed(),Xe.clone(this)}toString(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return He(this.dataSync(),this.shape,this.dtype,e)}cast(e){return this.throwIfDisposed(),Xe.cast(this,e)}variable(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return this.throwIfDisposed(),Je().makeVariable(this,e,t,n)}}function tt(){return de("Tensor",(()=>et))}Object.defineProperty(et,Symbol.hasInstance,{value:e=>!!e&&null!=e.data&&null!=e.dataSync&&null!=e.throwIfDisposed}),tt();class nt extends et{constructor(e,t,n,r){super(e.shape,e.dtype,e.dataId,r),this.trainable=t,this.name=n}assign(e){if(e.dtype!==this.dtype)throw new Error("dtype of the new value (".concat(e.dtype,") and ")+"previous value (".concat(this.dtype,") must match"));if(!U(e.shape,this.shape))throw new Error("shape of the new value (".concat(e.shape,") and ")+"previous value (".concat(this.shape,") must match"));Je().disposeTensor(this),this.dataId=e.dataId,Je().incRef(this,null)}dispose(){Je().disposeVariable(this),this.isDisposedInternal=!0}}var rt,at,ot,st,it;Object.defineProperty(nt,Symbol.hasInstance,{value:e=>e instanceof et&&null!=e.assign&&e.assign instanceof Function}),function(e){e.R0="R0",e.R1="R1",e.R2="R2",e.R3="R3",e.R4="R4",e.R5="R5",e.R6="R6"}(rt||(rt={})),function(e){e.float32="float32",e.int32="int32",e.bool="int32",e.complex64="complex64"}(at||(at={})),function(e){e.float32="float32",e.int32="int32",e.bool="bool",e.complex64="complex64"}(ot||(ot={})),function(e){e.float32="float32",e.int32="float32",e.bool="float32",e.complex64="complex64"}(st||(st={})),function(e){e.float32="complex64",e.int32="complex64",e.bool="complex64",e.complex64="complex64"}(it||(it={}));const lt={float32:st,int32:at,bool:ot,complex64:it};function ut(e,t){if("string"===e||"string"===t){if("string"===e&&"string"===t)return"string";throw new Error("Can not upcast ".concat(e," with ").concat(t))}return lt[e][t]}function ct(e){return null!=e&&"object"===typeof e&&"texture"in e&&e.texture instanceof WebGLTexture}function dt(e){return"undefined"!==typeof GPUBuffer&&null!=e&&"object"===typeof e&&"buffer"in e&&e.buffer instanceof GPUBuffer}function pt(e,t){if(e.dtype===t.dtype)return[e,t];const n=ut(e.dtype,t.dtype);return[e.cast(n),t.cast(n)]}function ht(e){const t=[];return ft(e,t,new Set),t}function ft(e,t,n){if(null==e)return;if(e instanceof et)return void t.push(e);if(r=e,!Array.isArray(r)&&"object"!==typeof r)return;var r;const a=e;for(const o in a){const e=a[o];n.has(e)||(n.add(e),ft(e,t,n))}}function mt(e){return null!=e.kernelName}class gt{constructor(){this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null,get kernelNames(){return Array.from(new Set(this.kernels.map((e=>e.name))))}}}dispose(){for(const e in this.registeredVariables)this.registeredVariables[e].dispose()}}class yt{constructor(e){this.ENV=e,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new gt}async ready(){if(null!=this.pendingBackendInit)return this.pendingBackendInit.then((()=>{}));if(null!=this.backendInstance)return;const e=this.getSortedBackends();for(let t=0;t<e.length;t++){const n=e[t];if(await this.initializeBackend(n).success)return void await this.setBackend(n)}throw new Error("Could not initialize any backends, all backend initializations failed.")}get backend(){if(null!=this.pendingBackendInit)throw new Error("Backend '".concat(this.backendName,"' has not yet been initialized. Make ")+"sure to await tf.ready() or await tf.setBackend() before calling other methods");if(null==this.backendInstance){const{name:e,asyncInit:t}=this.initializeBackendsAndReturnBest();if(t)throw new Error("The highest priority backend '".concat(e,"' has not yet been ")+"initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods");this.setBackend(e)}return this.backendInstance}backendNames(){return Object.keys(this.registryFactory)}findBackend(e){if(!(e in this.registry)){if(!(e in this.registryFactory))return null;{const{asyncInit:t}=this.initializeBackend(e);if(t)return null}}return this.registry[e]}findBackendFactory(e){return e in this.registryFactory?this.registryFactory[e].factory:null}registerBackend(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return e in this.registryFactory?(Ie("".concat(e," backend was already registered. ")+"Reusing existing backend factory."),!1):(this.registryFactory[e]={factory:t,priority:n},!0)}async setBackend(e){if(null==this.registryFactory[e])throw new Error("Backend name '".concat(e,"' not found in registry"));if(this.backendName=e,null==this.registry[e]){this.backendInstance=null;const{success:t,asyncInit:n}=this.initializeBackend(e);if(!(n?await t:t))return!1}return this.backendInstance=this.registry[e],this.setupRegisteredKernels(),this.profiler=new Be(this.backendInstance),!0}setupRegisteredKernels(){Ee(this.backendName).forEach((e=>{null!=e.setupFunc&&e.setupFunc(this.backendInstance)}))}disposeRegisteredKernels(e){Ee(e).forEach((t=>{null!=t.disposeFunc&&t.disposeFunc(this.registry[e])}))}initializeBackend(e){const t=this.registryFactory[e];if(null==t)throw new Error("Cannot initialize backend ".concat(e,", no registration found."));try{const n=t.factory();if(!n||n instanceof F||"function"!==typeof n.then)return this.registry[e]=n,{success:!0,asyncInit:!1};{const t=++this.pendingBackendInitId,r=n.then((n=>!(t<this.pendingBackendInitId)&&(this.registry[e]=n,this.pendingBackendInit=null,!0))).catch((n=>(t<this.pendingBackendInitId||(this.pendingBackendInit=null,Ie("Initialization of backend ".concat(e," failed")),Ie(n.stack||n.message)),!1)));return this.pendingBackendInit=r,{success:r,asyncInit:!0}}}catch(n){return Ie("Initialization of backend ".concat(e," failed")),Ie(n.stack||n.message),{success:!1,asyncInit:!1}}}removeBackend(e){if(!(e in this.registryFactory))throw new Error("".concat(e," backend not found in registry"));this.backendName===e&&null!=this.pendingBackendInit&&this.pendingBackendInitId++,e in this.registry&&(this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e]),delete this.registryFactory[e],this.backendName===e&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)}getSortedBackends(){if(0===Object.keys(this.registryFactory).length)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort(((e,t)=>this.registryFactory[t].priority-this.registryFactory[e].priority))}initializeBackendsAndReturnBest(){const e=this.getSortedBackends();for(let t=0;t<e.length;t++){const n=e[t],{success:r,asyncInit:a}=this.initializeBackend(n);if(a||r)return{name:n,asyncInit:a}}throw new Error("Could not initialize any backends, all backend initializations failed.")}moveData(e,t){const n=this.state.tensorInfo.get(t),r=n.backend,a=this.readSync(t),o=r.refCount(t);r.disposeData(t,!0),n.backend=e,e.move(t,a,n.shape,n.dtype,o),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++}tidy(e,t){let n,r=null;if(null==t){if("function"!==typeof e)throw new Error("Please provide a function to tidy()");t=e}else{if("string"!==typeof e&&!(e instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if("function"!==typeof t)throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");r=e}return this.scopedRun((()=>this.startScope(r)),(()=>this.endScope(n)),(()=>(n=t(),n instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),n)))}scopedRun(e,t,n){e();try{const e=n();return t(),e}catch(r){throw t(),r}}nextTensorId(){return yt.nextTensorId++}nextVariableId(){return yt.nextVariableId++}clone(e){const t=vt.runKernel(fe,{x:e}),n={x:e};return this.addTapeNode(this.state.activeScope.name,n,[t],(e=>({x:()=>{const t={x:e},n={dtype:"float32"};return vt.runKernel(pe,t,n)}})),[],{}),t}runKernel(e,t,n){null==this.backendName&&this.backend;if(!(null!=Ne(e,this.backendName)))throw new Error("Kernel '".concat(e,"' not registered for backend '").concat(this.backendName,"'"));return this.runKernelFunc({kernelName:e,inputs:t,attrs:n})}shouldCheckForMemLeaks(){return this.ENV.getBool("IS_TEST")}checkKernelForMemLeak(e,t,n){const r=this.backend.numDataIds();let a=0;n.forEach((e=>{a+="complex64"===e.dtype?3:1}));const o=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],s=r-t-a-o;if(s>0)throw new Error("Backend '".concat(this.backendName,"' has an internal memory leak ")+"(".concat(s," data ids) after running '").concat(e,"'"))}runKernelFunc(e){let t,n=[];const r=this.isTapeOn(),a=this.state.numBytes,o=this.state.numTensors;let s,i;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0),null==this.backendName&&this.backend;const l=mt(e)?e.kernelName:null!=this.state.activeScope?this.state.activeScope.name:"";if(mt(e)){const{kernelName:t,inputs:a,attrs:o}=e;null==this.backendName&&this.backend;const l=Ne(t,this.backendName);z(null!=l,(()=>"Cannot find registered kernel '".concat(t,"' for backend '").concat(this.backendName,"'"))),s=()=>{const e=this.backend.numDataIds();i=l.kernelFunc({inputs:a,attrs:o,backend:this.backend});const s=Array.isArray(i)?i:[i];this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(t,e,s);const u=s.map((e=>null!=e.rank?e:this.makeTensorFromTensorInfo(e)));if(r){const e=this.getTensorsForGradient(t,a,u);n=this.saveTensorsForBackwardMode(e)}return u}}else{const{forwardFunc:t}=e,a=e=>{r&&(n=e.map((e=>this.keep(this.clone(e)))))};s=()=>{const e=this.backend.numDataIds();i=this.tidy((()=>t(this.backend,a)));const n=Array.isArray(i)?i:[i];return this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(l,e,n),n}}const{inputs:u,attrs:c}=e,d=mt(e)?null:e.backwardsFunc;let p;return this.scopedRun((()=>this.state.kernelDepth++),(()=>this.state.kernelDepth--),(()=>{this.ENV.getBool("DEBUG")||this.state.profiling?(p=this.profiler.profileKernel(l,u,(()=>s())),this.ENV.getBool("DEBUG")&&this.profiler.logKernelProfile(p),t=p.outputs):t=s()})),r&&this.addTapeNode(l,u,t,d,n,c),this.state.profiling&&this.state.activeProfile.kernels.push({name:l,bytesAdded:this.state.numBytes-a,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-o,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(u).map((e=>null!=u[e]?u[e].shape:null)),outputShapes:t.map((e=>e.shape)),kernelTimeMs:p.timeMs,extraInfo:p.extraInfo}),Array.isArray(i)?t:t[0]}saveTensorsForBackwardMode(e){const t=e.map((e=>this.keep(this.clone(e))));return t}getTensorsForGradient(e,t,n){const r=Te(e);if(null!=r){const e=r.inputsToSave||[],a=r.outputsToSave||[];let o;r.saveAllInputs?(z(Array.isArray(t),(()=>"saveAllInputs is true, expected inputs to be an array.")),o=Object.keys(t).map((e=>t[e]))):o=e.map((e=>t[e]));const s=n.filter(((e,t)=>a[t]));return o.concat(s)}return[]}makeTensor(e,t,n,r){if(null==e)throw new Error("Values passed to engine.makeTensor() are null");n=n||"float32",r=r||this.backend;let a=e;"string"===n&&Q(e[0])&&(a=e.map((e=>Pe(e))));const o=r.write(a,t,n),s=new et(t,n,o,this.nextTensorId());if(this.trackTensor(s,r),"string"===n){const e=this.state.tensorInfo.get(o),t=function(e){if(null==e)return 0;let t=0;return e.forEach((e=>t+=e.length)),t}(a);this.state.numBytes+=t-e.bytes,e.bytes=t}return s}makeTensorFromDataId(e,t,n,r){const a={dataId:e,shape:t,dtype:n=n||"float32"};return this.makeTensorFromTensorInfo(a,r)}makeTensorFromTensorInfo(e,t){const{dataId:n,shape:r,dtype:a}=e,o=new et(r,a,n,this.nextTensorId());return this.trackTensor(o,t),o}makeVariable(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;n=n||this.nextVariableId().toString(),null!=r&&r!==e.dtype&&(e=e.cast(r));const a=new nt(e,t,n,this.nextTensorId());if(null!=this.state.registeredVariables[a.name])throw new Error("Variable with name ".concat(a.name," was already registered"));return this.state.registeredVariables[a.name]=a,this.incRef(a,this.backend),a}trackTensor(e,t){this.state.numTensors++,"string"===e.dtype&&this.state.numStringTensors++;let n=0;"complex64"!==e.dtype&&"string"!==e.dtype&&(n=e.size*G(e.dtype)),this.state.numBytes+=n,this.state.tensorInfo.has(e.dataId)||(this.state.numDataBuffers++,this.state.tensorInfo.set(e.dataId,{backend:t||this.backend,dtype:e.dtype,shape:e.shape,bytes:n})),e instanceof nt||this.track(e)}incRef(e,t){this.trackTensor(e,t),this.backend.incRef(e.dataId)}removeDataId(e,t){this.state.tensorInfo.has(e)&&this.state.tensorInfo.get(e).backend===t&&(this.state.tensorInfo.delete(e),this.state.numDataBuffers--)}disposeTensor(e){if(!this.state.tensorInfo.has(e.dataId))return;const t=this.state.tensorInfo.get(e.dataId);if(this.state.numTensors--,"string"===e.dtype&&(this.state.numStringTensors--,this.state.numBytes-=t.bytes),"complex64"!==e.dtype&&"string"!==e.dtype){const t=e.size*G(e.dtype);this.state.numBytes-=t}t.backend.disposeData(e.dataId)&&this.removeDataId(e.dataId,t.backend)}disposeVariables(){for(const e in this.state.registeredVariables){const t=this.state.registeredVariables[e];this.disposeVariable(t)}}disposeVariable(e){this.disposeTensor(e),null!=this.state.registeredVariables[e.name]&&delete this.state.registeredVariables[e.name]}memory(){const e=this.backend.memory();return e.numTensors=this.state.numTensors,e.numDataBuffers=this.state.numDataBuffers,e.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(e.unreliable=!0,null==e.reasons&&(e.reasons=[]),e.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),e}async profile(e){this.state.profiling=!0;const t=this.state.numBytes,n=this.state.numTensors;this.state.activeProfile.kernels=[],this.state.activeProfile.result=await e(),this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max(...this.state.activeProfile.kernels.map((e=>e.totalBytesSnapshot))),this.state.activeProfile.newBytes=this.state.numBytes-t,this.state.activeProfile.newTensors=this.state.numTensors-n;for(const r of this.state.activeProfile.kernels)r.kernelTimeMs=await r.kernelTimeMs,r.extraInfo=await r.extraInfo;return this.state.activeProfile}isTapeOn(){return this.state.gradientDepth>0&&0===this.state.kernelDepth}addTapeNode(e,t,n,r,a,o){const s={id:this.state.nextTapeNodeId++,kernelName:e,inputs:t,outputs:n,saved:a},i=Te(e);null!=i&&(r=i.gradFunc),null!=r&&(s.gradient=e=>(e=e.map(((e,t)=>{if(null==e){const e=n[t],r=te(e.size,e.dtype);return this.makeTensor(r,e.shape,e.dtype)}return e})),r(e.length>1?e:e[0],a,o))),this.state.activeTape.push(s)}keep(e){return e.kept=!0,e}startTape(){0===this.state.gradientDepth&&(this.state.activeTape=[]),this.state.gradientDepth++}endTape(){this.state.gradientDepth--}startScope(e){const t={track:[],name:"unnamed scope",id:this.state.nextScopeId++};e&&(t.name=e),this.state.scopeStack.push(t),this.state.activeScope=t}endScope(e){const t=ht(e),n=new Set(t.map((e=>e.id)));for(let a=0;a<this.state.activeScope.track.length;a++){const e=this.state.activeScope.track[a];e.kept||n.has(e.id)||e.dispose()}const r=this.state.scopeStack.pop();this.state.activeScope=0===this.state.scopeStack.length?null:this.state.scopeStack[this.state.scopeStack.length-1],t.forEach((e=>{e.kept||e.scopeId!==r.id||this.track(e)}))}gradients(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(z(t.length>0,(()=>"gradients() received an empty list of xs.")),null!=n&&"float32"!==n.dtype)throw new Error("dy must have 'float32' dtype, but has '".concat(n.dtype,"'"));const a=this.scopedRun((()=>this.startTape()),(()=>this.endTape()),(()=>this.tidy("forward",e)));z(a instanceof et,(()=>"The result y returned by f() must be a tensor."));const o=function(e,t,n){const r={},a={};for(let l=0;l<t.length;l++)r[t[l].id]=!0;for(let l=0;l<e.length;l++){const n=e[l],o=n.inputs;for(const e in o){const s=o[e];let i=!1;for(let e=0;e<t.length;e++)if(r[s.id]){n.outputs.forEach((e=>r[e.id]=!0)),i=!0,a[n.id]=!0;break}if(i)break}}const o={};o[n.id]=!0;const s={};for(let l=e.length-1;l>=0;l--){const t=e[l],n=t.inputs;for(let e=0;e<t.outputs.length;e++)if(o[t.outputs[e].id]){for(const e in n)o[n[e].id]=!0,s[t.id]=!0;break}}const i=[];for(let l=0;l<e.length;l++){const t=e[l];if(a[t.id]&&s[t.id]){const e={};for(const a in t.inputs){const n=t.inputs[a];r[n.id]&&(e[a]=n)}const n=Object.assign({},t);n.inputs=e,n.outputs=t.outputs,i.push(n)}}return i}(this.state.activeTape,t,a);if(!r&&0===o.length&&t.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",(()=>{const e={};e[a.id]=null==n?function(e){const t=ee(j(e),"float32");return vt.makeTensor(t,e,"float32")}(a.shape):n,function(e,t,n,r){for(let a=t.length-1;a>=0;a--){const o=t[a],s=[];if(o.outputs.forEach((t=>{const n=e[t.id];null!=n?s.push(n):s.push(null)})),null==o.gradient)throw new Error("Cannot compute gradient: gradient function not found "+"for ".concat(o.kernelName,"."));const i=o.gradient(s);for(const t in o.inputs){if(!(t in i))throw new Error("Cannot backprop through input ".concat(t,". ")+"Available gradients found: ".concat(Object.keys(i),"."));const a=n((()=>i[t]()));if("float32"!==a.dtype)throw new Error("Error in gradient for op ".concat(o.kernelName,". The gradient of input ")+"".concat(t," must have 'float32' dtype, but has '").concat(a.dtype,"'"));const s=o.inputs[t];if(!U(a.shape,s.shape))throw new Error("Error in gradient for op ".concat(o.kernelName,". The gradient of input ")+"'".concat(t,"' has shape '").concat(a.shape,"', which does not match ")+"the shape of the input '".concat(s.shape,"'"));if(null==e[s.id])e[s.id]=a;else{const t=e[s.id];e[s.id]=r(t,a),t.dispose()}}}}(e,o,(e=>this.tidy(e)),wt);const r=t.map((t=>e[t.id]));return 0===this.state.gradientDepth&&(this.state.activeTape.forEach((e=>{for(const t of e.saved)t.dispose()})),this.state.activeTape=null),{value:a,grads:r}}))}customGrad(e){var t=this;return z(Y(e),(()=>"The f passed in customGrad(f) must be a function.")),function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];let o;z(r.every((e=>e instanceof et)),(()=>"The args passed in customGrad(f)(x1, x2,...) must all be tensors"));const s={};r.forEach(((e,t)=>{s[t]=e}));return t.runKernelFunc({forwardFunc:(t,n)=>(o=e(...r,n),z(o.value instanceof et,(()=>"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor")),z(Y(o.gradFunc),(()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function.")),o.value),backwardsFunc:(e,t)=>{const n=o.gradFunc(e,t),a=Array.isArray(n)?n:[n];z(a.length===r.length,(()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...).")),z(a.every((e=>e instanceof et)),(()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors."));const s={};return a.forEach(((e,t)=>{s[t]=()=>e})),s},inputs:s})}}readSync(e){return this.state.tensorInfo.get(e).backend.readSync(e)}read(e){return this.state.tensorInfo.get(e).backend.read(e)}readToGPU(e,t){return this.state.tensorInfo.get(e).backend.readToGPU(e,t)}async time(e){const t=Re(),n=await this.backend.time(e);return n.wallMs=Re()-t,n}track(e){return null!=this.state.activeScope&&(e.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(e)),e}get registeredVariables(){return this.state.registeredVariables}reset(){this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new gt;for(const e in this.registry)this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null}}function bt(){const e=ce();if(null==e._tfengine){const t=new oe(e);e._tfengine=new yt(t)}var t;return t=e._tfengine.ENV,ue=t,Je=()=>e._tfengine,e._tfengine}yt.nextTensorId=0,yt.nextVariableId=0;const vt=bt();function wt(e,t){const n={a:e,b:t};return vt.runKernel("Add",n)}const kt=ie();function xt(e,t){let n=e;if(Le(e))return"string"===t?[]:[e.length];if(ct(e)){const t=e.channels||"RGBA";return[e.height,e.width*t.length]}if(dt(e))return[e.buffer.size/(null==t?4:G(t))];if(!Array.isArray(e))return[];const r=[];for(;Array.isArray(n)||Le(n)&&"string"!==t;)r.push(n.length),n=n[0];return Array.isArray(e)&&ie().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&St(e,r,[]),r}function St(e,t,n){if(n=n||[],!Array.isArray(e)&&!Le(e))return void z(0===t.length,(()=>"Element arr[".concat(n.join("]["),"] is a primitive, ")+"but should be an array/TypedArray of ".concat(t[0]," elements")));z(t.length>0,(()=>"Element arr[".concat(n.join("]["),"] should be a primitive, ")+"but is an array of ".concat(e.length," elements"))),z(e.length===t[0],(()=>"Element arr[".concat(n.join("]["),"] should have ").concat(t[0]," ")+"elements, but has ".concat(e.length," elements")));const r=t.slice(1);for(let a=0;a<e.length;++a)St(e[a],r,n.concat(a))}function Nt(e,t,n,r){if("string_or_numeric"!==e){if(null==e)throw new Error("Expected dtype cannot be null.");if("numeric"!==e&&e!==t||"numeric"===e&&"string"===t)throw new Error("Argument '".concat(n,"' passed to '").concat(r,"' must ")+"be ".concat(e," tensor, but got ").concat(t," tensor"))}}function Tt(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"numeric";if(e instanceof tt())return Nt(r,e.dtype,t,n),e;let a=$(e);if("string"!==a&&["bool","int32","float32"].indexOf(r)>=0&&(a=r),Nt(r,a,t,n),null==e||!Le(e)&&!Array.isArray(e)&&"number"!==typeof e&&"boolean"!==typeof e&&"string"!==typeof e){const r=null==e?"null":e.constructor.name;throw new Error("Argument '".concat(t,"' passed to '").concat(n,"' must be a ")+"Tensor or TensorLike, but got '".concat(r,"'"))}const o=xt(e,a);Le(e)||Array.isArray(e)||(e=[e]);const s="string"!==a?De(e,a):ze(e,[],!0);return vt.makeTensor(s,o,a)}function Et(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"numeric";if(!Array.isArray(e))throw new Error("Argument ".concat(t," passed to ").concat(n," must be a ")+"`Tensor[]` or `TensorLike[]`");return e.map(((e,a)=>Tt(e,"".concat(t,"[").concat(a,"]"),n,r)))}kt.registerFlag("DEBUG",(()=>!1),(e=>{e&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")})),kt.registerFlag("IS_BROWSER",(()=>"undefined"!==typeof window&&null!=window.document||"undefined"!==typeof WorkerGlobalScope)),kt.registerFlag("IS_NODE",(()=>"undefined"!==typeof process&&"undefined"!==typeof process.versions&&"undefined"!==typeof process.versions.node)),kt.registerFlag("IS_CHROME",(()=>"undefined"!==typeof navigator&&null!=navigator&&null!=navigator.userAgent&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor))),kt.registerFlag("IS_SAFARI",(()=>"undefined"!==typeof navigator&&null!=navigator&&null!=navigator.userAgent&&/Safari/.test(navigator.userAgent)&&/Apple/.test(navigator.vendor))),kt.registerFlag("PROD",(()=>!1)),kt.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",(()=>kt.getBool("DEBUG"))),kt.registerFlag("DEPRECATION_WARNINGS_ENABLED",(()=>!0)),kt.registerFlag("IS_TEST",(()=>!1)),kt.registerFlag("CHECK_COMPUTATION_FOR_ERRORS",(()=>kt.getBool("DEBUG"))),kt.registerFlag("WRAP_TO_IMAGEBITMAP",(()=>!1)),kt.registerFlag("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU",(()=>!1)),kt.registerFlag("USE_SETTIMEOUTCUSTOM",(()=>!1));const _t="__op";function It(e){const t=Object.keys(e);if(1!==t.length)throw new Error("Please provide an object with a single key (operation name) mapping to a function. Got an object with "+"".concat(t.length," keys."));let n=t[0];const r=e[n];n.endsWith("_")&&(n=n.substring(0,n.length-1)),n+=_t;const a=function(){vt.startScope(n);try{const e=r(...arguments);return re(e)&&console.error("Cannot return a Promise inside of tidy."),vt.endScope(e),e}catch(e){throw vt.endScope(null),e}};return Object.defineProperty(a,"name",{value:n,configurable:!0}),a}const Ct=It({complex_:function(e,t){const n=Tt(e,"real","complex"),r=Tt(t,"imag","complex");B(n.shape,r.shape,"real and imag shapes, ".concat(n.shape," and ").concat(r.shape,", ")+"must match in call to tf.complex().");const a={real:n,imag:r};return vt.runKernel("Complex",a)}});function At(e,t,n,r){if(null==r)r=$(e);else if("complex64"===r)throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(dt(e)||ct(e)){if("float32"!==r&&"int32"!==r)throw new Error("Creating tensor from GPU data only supports "+"'float32'|'int32' dtype, while the dtype is ".concat(r,"."));return vt.backend.createTensorFromGPUData(e,t||n,r)}if(!Le(e)&&!Array.isArray(e)&&"number"!==typeof e&&"boolean"!==typeof e&&"string"!==typeof e)throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(null!=t){ne(t);const e=j(t),r=j(n);z(e===r,(()=>"Based on the provided shape, [".concat(t,"], the tensor should have ")+"".concat(e," values but has ").concat(r)));for(let a=0;a<n.length;++a){const e=n[a],r=a!==n.length-1||e!==j(t.slice(a));z(n[a]===t[a]||!r,(()=>"Error creating a new Tensor. Inferred shape "+"(".concat(n,") does not match the provided ")+"shape (".concat(t,"). ")))}}return Le(e)||Array.isArray(e)||(e=[e]),t=t||n,e="string"!==r?De(e,r):ze(e,[],!0),vt.makeTensor(e,t,r)}function Mt(e,t,n){return At(e,t,xt(e,n),n)}const Ot={float32:4,float16:2,int32:4,uint16:2,uint8:1,bool:1,complex64:8};class Dt{static join(e){return new Dt(e).slice()}constructor(e){if(this.shards=[],this.previousShardIndex=0,null==e)return;if(e instanceof Array||(e=[e]),0===(e=e.map((e=>Le(e)?e.buffer:e))).length)return;this.bufferUniformSize=e[0].byteLength;let t=0;for(let n=0;n<e.length;n++){const r=e[n];n!==e.length-1&&r.byteLength!==this.bufferUniformSize&&(this.bufferUniformSize=void 0);const a=t+r.byteLength;this.shards.push({buffer:r,start:t,end:a}),t=a}0===this.shards.length&&(this.byteLength=0),this.byteLength=this.shards[this.shards.length-1].end}slice(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.byteLength;if(0===this.shards.length)return new ArrayBuffer(0);if(e=isNaN(Number(e))?0:e,t=isNaN(Number(t))?0:t,e=Math.max(0,e),t=Math.min(this.byteLength,t),t<=e)return new ArrayBuffer(0);const n=this.findShardForByte(e);if(-1===n)throw new Error("Could not find start shard for byte ".concat(e));const r=new ArrayBuffer(t-e),a=new Uint8Array(r);let o=0;for(let s=n;s<this.shards.length;s++){const n=this.shards[s],r=e+o-n.start,i=o,l=Math.min(t,n.end)-n.start,u=new Uint8Array(n.buffer,r,l-r);if(a.set(u,i),o+=u.length,t<n.end)break}return r}findShardForByte(e){if(0===this.shards.length||e<0||e>=this.byteLength)return-1;if(null!=this.bufferUniformSize)return this.previousShardIndex=Math.floor(e/this.bufferUniformSize),this.previousShardIndex;function t(t){return e<t.start?-1:e>=t.end?1:0}if(0===t(this.shards[this.previousShardIndex]))return this.previousShardIndex;const n=function(e,t){let n=0,r=e.length;for(;n<=r;){const a=Math.floor((r-n)/2)+n,o=t(e[a]);if(0===o)return a;o<0?r=a:n=a+1}return-1}(this.shards,t);return-1===n?-1:(this.previousShardIndex=n,this.previousShardIndex)}}function Rt(e,t){return vt.tidy(e,t)}function Pt(e){ht(e).forEach((e=>e.dispose()))}function Ft(e){return vt.keep(e)}Ze=function(e){ie().getBool("DEPRECATION_WARNINGS_ENABLED")&&console.warn(e+" You can disable deprecation warnings with tf.disableDeprecationWarnings().")};const Lt=4;async function zt(e,t){const n=[],r=[],a=Array.isArray(e)?e.map((e=>e.name)):Object.keys(e);for(let o=0;o<a.length;++o){const s=a[o],i=Array.isArray(e)?e[o].tensor:e[s];if("float32"!==i.dtype&&"int32"!==i.dtype&&"bool"!==i.dtype&&"string"!==i.dtype&&"complex64"!==i.dtype)throw new Error("Unsupported dtype in weight '".concat(s,"': ").concat(i.dtype));const l={name:s,shape:i.shape,dtype:i.dtype};if("string"===i.dtype){const e=new Promise((async e=>{const t=await i.bytes(),n=t.reduce(((e,t)=>e+t.length),0)+Lt*t.length,r=new Uint8Array(n);let a=0;for(let o=0;o<t.length;o++){const e=t[o],n=new Uint8Array(new Uint32Array([e.length]).buffer);r.set(n,a),a+=Lt,r.set(e,a),a+=e.length}e(r)}));r.push(e)}else r.push(i.data());null!=t&&(l.group=t),n.push(l)}return{data:Ht(await Promise.all(r)),specs:n}}function Bt(e,t){const n=new Dt(e),r={};let a=0;for(const o of t){const e=Vt(o,((e,t)=>n.slice(a+e,a+t)));r[o.name]=Ut(o,n.slice(a,a+e)),a+=e}return r}function Vt(e,t){const n=j(e.shape);let r;if("quantization"in e){const t=e.quantization;r=Ot[t.dtype]}else{if("string"===e.dtype){let e=0;for(let r=0;r<n;r++)e+=Lt+new Uint32Array(t(e,e+Lt))[0];return e}r=Ot[e.dtype]}return n*r}async function jt(e,t){const n=j(e.shape);let r;if("quantization"in e){const t=e.quantization;r=Ot[t.dtype]}else{if("string"===e.dtype){let e=0;for(let r=0;r<n;r++)e+=Lt+new Uint32Array(await t(e,e+Lt))[0];return e}r=Ot[e.dtype]}return n*r}function Ut(e,t){const n=e.name,r=e.dtype,a=e.shape,o=j(a);let s,i=0;if("quantization"in e){const a=e.quantization;if("uint8"===a.dtype||"uint16"===a.dtype){if(!("min"in a)||!("scale"in a))throw new Error("Weight ".concat(e.name," with quantization ").concat(a.dtype," ")+"doesn't have corresponding metadata min and scale.")}else{if("float16"!==a.dtype)throw new Error("Weight ".concat(e.name," has unknown ")+"quantization dtype ".concat(a.dtype,". ")+"Supported quantization dtypes are: 'uint8', 'uint16', and 'float16'.");if("float32"!==r)throw new Error("Weight ".concat(e.name," is quantized with ").concat(a.dtype," ")+"which only supports weights of type float32 not ".concat(r,"."))}const l=Ot[a.dtype],u="uint8"===a.dtype?new Uint8Array(t):new Uint16Array(t);if("float32"===r)if("uint8"===a.dtype||"uint16"===a.dtype){s=new Float32Array(u.length);for(let e=0;e<u.length;e++){const t=u[e];s[e]=t*a.scale+a.min}}else{if("float16"!==a.dtype)throw new Error("Unsupported quantization type ".concat(a.dtype," ")+"for weight type float32.");{const e=function(){const e=function(){const e=e=>{let t=e<<13,n=0;for(;0===(8388608&t);)n-=8388608,t<<=1;return t&=-8388609,n+=947912704,t|n},t=new Uint32Array(2048);t[0]=0;for(let n=1;n<1024;n++)t[n]=e(n);for(let n=1024;n<2048;n++)t[n]=939524096+(n-1024<<13);return t}(),t=function(){const e=new Uint32Array(64);e[0]=0,e[31]=1199570944,e[32]=2147483648,e[63]=3347054592;for(let t=1;t<31;t++)e[t]=t<<23;for(let t=33;t<63;t++)e[t]=2147483648+(t-32<<23);return e}(),n=function(){const e=new Uint32Array(64);for(let t=0;t<64;t++)e[t]=1024;return e[0]=e[32]=0,e}();return r=>{const a=new ArrayBuffer(4*r.length),o=new Uint32Array(a);for(let s=0;s<r.length;s++){const a=r[s],i=e[n[a>>10]+(1023&a)]+t[a>>10];o[s]=i}return new Float32Array(a)}}();s=e(u)}}else{if("int32"!==r)throw new Error("Unsupported dtype in weight '".concat(n,"': ").concat(r));if("uint8"!==a.dtype&&"uint16"!==a.dtype)throw new Error("Unsupported quantization type ".concat(a.dtype," ")+"for weight type int32.");s=new Int32Array(u.length);for(let e=0;e<u.length;e++){const t=u[e];s[e]=Math.round(t*a.scale+a.min)}}i+=o*l}else if("string"===r){const n=j(e.shape);s=[];for(let e=0;e<n;e++){const e=new Uint32Array(t.slice(i,i+Lt))[0];i+=Lt;const n=new Uint8Array(t.slice(i,i+e));s.push(n),i+=e}}else{const e=Ot[r];if("float32"===r)s=new Float32Array(t);else if("int32"===r)s=new Int32Array(t);else{if("bool"!==r){if("complex64"===r){s=new Float32Array(t);const e=new Float32Array(s.length/2),n=new Float32Array(s.length/2);for(let t=0;t<e.length;t++)e[t]=s[2*t],n[t]=s[2*t+1];const r=Mt(e,a,"float32"),o=Mt(n,a,"float32"),i=Ct(r,o);return r.dispose(),o.dispose(),i}throw new Error("Unsupported dtype in weight '".concat(n,"': ").concat(r))}s=new Uint8Array(t)}i+=o*e}return Mt(s,a,r)}async function Wt(e,t,n){let r=new Uint8Array(t);for(;r.byteLength<n;){const{done:t,value:a}=await e.read();if(t&&null==a){const e=n-r.byteLength;throw new Error("Reader is done but ".concat(e," bytes are still expected"))}const o=new Uint8Array(r.length+a.byteLength);o.set(r,0),o.set(new Uint8Array(a),r.length),r=o}return r.buffer}async function qt(e,t){const n={},r=e.getReader();let a=new ArrayBuffer(0);for(const o of t){const e=await jt(o,(async(e,t)=>(a=await Wt(r,a,t),a.slice(e,t))));a=await Wt(r,a,e);const t=a.slice(0,e);a=a.slice(e);const s=Ut(o,t);if(n[o.name]=s,"webgpu"===vt.backendName){const e=vt.backend;"uploadToGPU"in e&&j(s.shape)>=ie().get("WEBGPU_CPU_HANDOFF_SIZE_THRESHOLD")&&e.uploadToGPU(s.dataId)}}return n}function Ht(e){if(null===e)throw new Error("Invalid input value: ".concat(JSON.stringify(e)));let t=0;const n=[];e.forEach((e=>{if(t+=e.byteLength,n.push(e.byteLength===e.buffer.byteLength?e:new e.constructor(e)),!(e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array))throw new Error("Unsupported TypedArray subtype: ".concat(e.constructor.name))}));const r=new Uint8Array(t);let a=0;return n.forEach((e=>{r.set(new Uint8Array(e.buffer),a),a+=e.byteLength})),r.buffer}const Kt="undefined"!==typeof Buffer&&("undefined"===typeof Blob||"undefined"===typeof atob||"undefined"===typeof btoa);function Gt(e){return Kt?Buffer.byteLength(e,"utf8"):new Blob([e]).size}function Qt(e){return Dt.join(e)}function $t(e){for(e=e.trim();e.endsWith("/");)e=e.slice(0,e.length-1);const t=e.split("/");return t[t.length-1]}function Yt(e,t){const n={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,weightsManifest:t};return null!=e.signature&&(n.signature=e.signature),null!=e.userDefinedMetadata&&(n.userDefinedMetadata=e.userDefinedMetadata),null!=e.modelInitializer&&(n.modelInitializer=e.modelInitializer),null!=e.initializerSignature&&(n.initializerSignature=e.initializerSignature),null!=e.trainingConfig&&(n.trainingConfig=e.trainingConfig),n}function Jt(e,t,n){const r={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy};if(null!=e.trainingConfig&&(r.trainingConfig=e.trainingConfig),null!=e.weightsManifest){if(!t)throw new Error("modelJSON has weightsManifest but weightSpecs is null");if(!n)throw new Error("modelJSON has weightsManifest but weightData is null");r.weightSpecs=t,r.weightData=n}return null!=e.signature&&(r.signature=e.signature),null!=e.userDefinedMetadata&&(r.userDefinedMetadata=e.userDefinedMetadata),null!=e.modelInitializer&&(r.modelInitializer=e.modelInitializer),null!=e.initializerSignature&&(r.initializerSignature=e.initializerSignature),r}async function Xt(e,t){let n,r;return null!=e.weightsManifest&&([n,r]=await t(e.weightsManifest)),Jt(e,n,r)}function Zt(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:null==e.modelTopology?0:Gt(JSON.stringify(e.modelTopology)),weightSpecsBytes:null==e.weightSpecs?0:Gt(JSON.stringify(e.weightSpecs)),weightDataBytes:null==e.weightData?0:new Dt(e.weightData).byteLength}}function en(e){const t=[];for(const n of e)t.push(...n.weights);return t}class tn{constructor(){this.saveRouters=[],this.loadRouters=[]}static getInstance(){return null==tn.instance&&(tn.instance=new tn),tn.instance}static registerSaveRouter(e){tn.getInstance().saveRouters.push(e)}static registerLoadRouter(e){tn.getInstance().loadRouters.push(e)}static getSaveHandlers(e){return tn.getHandlers(e,"save")}static getLoadHandlers(e,t){return tn.getHandlers(e,"load",t)}static getHandlers(e,t,n){const r=[];return("load"===t?tn.getInstance().loadRouters:tn.getInstance().saveRouters).forEach((t=>{const a=t(e,n);null!==a&&r.push(a)})),r}}const nn=e=>tn.registerSaveRouter(e),rn=e=>tn.registerLoadRouter(e),an=e=>tn.getSaveHandlers(e),on=(e,t)=>tn.getLoadHandlers(e,t),sn="tensorflowjs",ln="models_store",un="model_info_store";function cn(){if(!ie().getBool("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");const e="undefined"===typeof window?self:window,t=e.indexedDB||e.mozIndexedDB||e.webkitIndexedDB||e.msIndexedDB||e.shimIndexedDB;if(null==t)throw new Error("The current browser does not appear to support IndexedDB.");return t}function dn(e){const t=e.result;t.createObjectStore(ln,{keyPath:"modelPath"}),t.createObjectStore(un,{keyPath:"modelPath"})}class pn{constructor(e){if(this.indexedDB=cn(),null==e||!e)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=e}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");return this.databaseAction(this.modelPath,e)}async load(){return this.databaseAction(this.modelPath)}databaseAction(e,t){return new Promise(((e,n)=>{const r=this.indexedDB.open(sn,1);r.onupgradeneeded=()=>dn(r),r.onsuccess=()=>{const a=r.result;if(null==t){const t=a.transaction(ln,"readonly"),r=t.objectStore(ln).get(this.modelPath);r.onsuccess=()=>{if(null==r.result)return a.close(),n(new Error("Cannot find model with path '".concat(this.modelPath,"' ")+"in IndexedDB."));e(r.result.modelArtifacts)},r.onerror=e=>(a.close(),n(r.error)),t.oncomplete=()=>a.close()}else{t.weightData=Dt.join(t.weightData);const r=Zt(t),s=a.transaction(un,"readwrite");let i,l,u=s.objectStore(un);try{i=u.put({modelPath:this.modelPath,modelArtifactsInfo:r})}catch(o){return n(o)}i.onsuccess=()=>{l=a.transaction(ln,"readwrite");const i=l.objectStore(ln);let c;try{c=i.put({modelPath:this.modelPath,modelArtifacts:t,modelArtifactsInfo:r})}catch(o){return n(o)}c.onsuccess=()=>e({modelArtifactsInfo:r}),c.onerror=e=>{u=s.objectStore(un);const t=u.delete(this.modelPath);t.onsuccess=()=>(a.close(),n(c.error)),t.onerror=e=>(a.close(),n(c.error))}},i.onerror=e=>(a.close(),n(i.error)),s.oncomplete=()=>{null==l?a.close():l.oncomplete=()=>a.close()}}},r.onerror=e=>n(r.error)}))}}pn.URL_SCHEME="indexeddb://";const hn=e=>{return ie().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(pn.URL_SCHEME)?(t=e.slice(pn.URL_SCHEME.length),new pn(t)):null;var t};tn.registerSaveRouter(hn),tn.registerLoadRouter(hn);class fn{constructor(){this.indexedDB=cn()}async listModels(){return new Promise(((e,t)=>{const n=this.indexedDB.open(sn,1);n.onupgradeneeded=()=>dn(n),n.onsuccess=()=>{const r=n.result,a=r.transaction(un,"readonly"),o=a.objectStore(un).getAll();o.onsuccess=()=>{const t={};for(const e of o.result)t[e.modelPath]=e.modelArtifactsInfo;e(t)},o.onerror=e=>(r.close(),t(o.error)),a.oncomplete=()=>r.close()},n.onerror=e=>t(n.error)}))}async removeModel(e){var t;return e=(t=e).startsWith(pn.URL_SCHEME)?t.slice(pn.URL_SCHEME.length):t,new Promise(((t,n)=>{const r=this.indexedDB.open(sn,1);r.onupgradeneeded=()=>dn(r),r.onsuccess=()=>{const a=r.result,o=a.transaction(un,"readwrite"),s=o.objectStore(un),i=s.get(e);let l;i.onsuccess=()=>{if(null==i.result)return a.close(),n(new Error("Cannot find model with path '".concat(e,"' ")+"in IndexedDB."));{const r=s.delete(e),o=()=>{l=a.transaction(ln,"readwrite");const r=l.objectStore(ln).delete(e);r.onsuccess=()=>t(i.result.modelArtifactsInfo),r.onerror=e=>n(i.error)};r.onsuccess=o,r.onerror=e=>(o(),a.close(),n(i.error))}},i.onerror=e=>(a.close(),n(i.error)),o.oncomplete=()=>{null==l?a.close():l.oncomplete=()=>a.close()}},r.onerror=e=>n(r.error)}))}}const mn="/",gn="tensorflowjs_models",yn="info",bn="model_topology",vn="weight_specs",wn="weight_data",kn="model_metadata";function xn(e){return{info:[gn,e,yn].join(mn),topology:[gn,e,bn].join(mn),weightSpecs:[gn,e,vn].join(mn),weightData:[gn,e,wn].join(mn),modelMetadata:[gn,e,kn].join(mn)}}function Sn(e){for(const t of Object.values(e))window.localStorage.removeItem(t)}function Nn(e){const t=e.split(mn);if(t.length<3)throw new Error("Invalid key format: ".concat(e));return t.slice(1,t.length-1).join(mn)}class Tn{constructor(e){if(!ie().getBool("IS_BROWSER")||"undefined"===typeof window||"undefined"===typeof window.localStorage)throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,null==e||!e)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=e,this.keys=xn(this.modelPath)}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");{const n=JSON.stringify(e.modelTopology),r=JSON.stringify(e.weightSpecs),a=Zt(e),o=Dt.join(e.weightData);try{this.LS.setItem(this.keys.info,JSON.stringify(a)),this.LS.setItem(this.keys.topology,n),this.LS.setItem(this.keys.weightSpecs,r),this.LS.setItem(this.keys.weightData,function(e){if(Kt)return Buffer.from(e).toString("base64");const t=new Uint8Array(e);let n="";for(let r=0,a=t.length;r<a;r++)n+=String.fromCharCode(t[r]);return btoa(n)}(o));const t={format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,signature:null!=e.signature?e.signature:void 0,userDefinedMetadata:null!=e.userDefinedMetadata?e.userDefinedMetadata:void 0,modelInitializer:null!=e.modelInitializer?e.modelInitializer:void 0,initializerSignature:null!=e.initializerSignature?e.initializerSignature:void 0,trainingConfig:null!=e.trainingConfig?e.trainingConfig:void 0};return this.LS.setItem(this.keys.modelMetadata,JSON.stringify(t)),{modelArtifactsInfo:a}}catch(t){throw Sn(this.keys),new Error("Failed to save model '".concat(this.modelPath,"' to local storage: ")+"size quota being exceeded is a possible cause of this failure: "+"modelTopologyBytes=".concat(a.modelTopologyBytes,", ")+"weightSpecsBytes=".concat(a.weightSpecsBytes,", ")+"weightDataBytes=".concat(a.weightDataBytes,"."))}}}async load(){const e=JSON.parse(this.LS.getItem(this.keys.info));if(null==e)throw new Error("In local storage, there is no model with name '".concat(this.modelPath,"'"));if("JSON"!==e.modelTopologyType)throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");const t={},n=JSON.parse(this.LS.getItem(this.keys.topology));if(null==n)throw new Error("In local storage, the topology of model '".concat(this.modelPath,"' ")+"is missing.");t.modelTopology=n;const r=JSON.parse(this.LS.getItem(this.keys.weightSpecs));if(null==r)throw new Error("In local storage, the weight specs of model '".concat(this.modelPath,"' ")+"are missing.");t.weightSpecs=r;const a=this.LS.getItem(this.keys.modelMetadata);if(null!=a){const e=JSON.parse(a);t.format=e.format,t.generatedBy=e.generatedBy,t.convertedBy=e.convertedBy,null!=e.signature&&(t.signature=e.signature),null!=e.userDefinedMetadata&&(t.userDefinedMetadata=e.userDefinedMetadata),null!=e.modelInitializer&&(t.modelInitializer=e.modelInitializer),null!=e.initializerSignature&&(t.initializerSignature=e.initializerSignature),null!=e.trainingConfig&&(t.trainingConfig=e.trainingConfig)}const o=this.LS.getItem(this.keys.weightData);if(null==o)throw new Error("In local storage, the binary weight values of model "+"'".concat(this.modelPath,"' are missing."));return t.weightData=function(e){if(Kt){const t=Buffer.from(e,"base64");return t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)}const t=atob(e),n=new Uint8Array(t.length);for(let r=0;r<t.length;++r)n.set([t.charCodeAt(r)],r);return n.buffer}(o),t}}Tn.URL_SCHEME="localstorage://";const En=e=>{return ie().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(Tn.URL_SCHEME)?(t=e.slice(Tn.URL_SCHEME.length),new Tn(t)):null;var t};tn.registerSaveRouter(En),tn.registerLoadRouter(En);class _n{constructor(){z(ie().getBool("IS_BROWSER"),(()=>"Current environment is not a web browser")),z("undefined"===typeof window||"undefined"!==typeof window.localStorage,(()=>"Current browser does not appear to support localStorage")),this.LS=window.localStorage}async listModels(){const e={},t=gn+mn,n=mn+yn;for(let r=0;r<this.LS.length;++r){const a=this.LS.key(r);if(a.startsWith(t)&&a.endsWith(n)){e[Nn(a)]=JSON.parse(this.LS.getItem(a))}}return e}async removeModel(e){var t;const n=xn(e=(t=e).startsWith(Tn.URL_SCHEME)?t.slice(Tn.URL_SCHEME.length):t);if(null==this.LS.getItem(n.info))throw new Error("Cannot find model at path '".concat(e,"'"));const r=JSON.parse(this.LS.getItem(n.info));return Sn(n),r}}const In="://";class Cn{constructor(){this.managers={}}static getInstance(){return null==Cn.instance&&(Cn.instance=new Cn),Cn.instance}static registerManager(e,t){z(null!=e,(()=>"scheme must not be undefined or null.")),e.endsWith(In)&&(e=e.slice(0,e.indexOf(In))),z(e.length>0,(()=>"scheme must not be an empty string."));const n=Cn.getInstance();z(null==n.managers[e],(()=>"A model store manager is already registered for scheme '".concat(e,"'."))),n.managers[e]=t}static getManager(e){const t=Cn.getInstance().managers[e];if(null==t)throw new Error("Cannot find model manager for scheme '".concat(e,"'"));return t}static getSchemes(){return Object.keys(Cn.getInstance().managers)}}function An(e){if(-1===e.indexOf(In))throw new Error("The url string provided does not contain a scheme. Supported schemes are: "+"".concat(Cn.getSchemes().join(",")));return{scheme:e.split(In)[0],path:e.split(In)[1]}}async function Mn(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];z(e!==t,(()=>"Old path and new path are the same: '".concat(e,"'")));const r=tn.getLoadHandlers(e);z(r.length>0,(()=>"Copying failed because no load handler is found for source URL ".concat(e,"."))),z(r.length<2,(()=>"Copying failed because more than one (".concat(r.length,") ")+"load handlers for source URL ".concat(e,".")));const a=r[0],o=tn.getSaveHandlers(t);z(o.length>0,(()=>"Copying failed because no save handler is found for destination "+"URL ".concat(t,"."))),z(o.length<2,(()=>"Copying failed because more than one (".concat(r.length,") ")+"save handlers for destination URL ".concat(t,".")));const s=o[0],i=An(e).scheme,l=An(e).path,u=i===An(e).scheme,c=await a.load();n&&u&&await Cn.getManager(i).removeModel(l);const d=await s.save(c);return n&&!u&&await Cn.getManager(i).removeModel(l),d.modelArtifactsInfo}async function On(){const e=Cn.getSchemes(),t={};for(const n of e){const e=await Cn.getManager(n).listModels();for(const r in e){t[n+In+r]=e[r]}}return t}async function Dn(e){const t=An(e);return Cn.getManager(t.scheme).removeModel(t.path)}async function Rn(e,t){return Mn(e,t,!1)}async function Pn(e,t){return Mn(e,t,!0)}class Fn{constructor(){this.messageName="setTimeoutCustom",this.functionRefs=[],this.handledMessageCount=0,this.hasEventListener=!1}fetch(e,t){return fetch(e,t)}now(){return performance.now()}encode(e,t){if("utf-8"!==t&&"utf8"!==t)throw new Error("Browser's encoder only supports utf-8, but got ".concat(t));return null==this.textEncoder&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(e)}decode(e,t){return new TextDecoder(t).decode(e)}setTimeoutCustom(e,t){"undefined"!==typeof window&&ie().getBool("USE_SETTIMEOUTCUSTOM")?(this.functionRefs.push(e),setTimeout((()=>{window.postMessage({name:this.messageName,index:this.functionRefs.length-1},"*")}),t),this.hasEventListener||(this.hasEventListener=!0,window.addEventListener("message",(e=>{if(e.source===window&&e.data.name===this.messageName){e.stopPropagation();(0,this.functionRefs[e.data.index])(),this.handledMessageCount++,this.handledMessageCount===this.functionRefs.length&&(this.functionRefs=[],this.handledMessageCount=0)}}),!0))):setTimeout(e,t)}isTypedArray(e){return Ce(e)}}if(ie().get("IS_BROWSER")){ie().setPlatform("browser",new Fn);try{Cn.registerManager(Tn.URL_SCHEME,new _n)}catch(gc){}try{Cn.registerManager(pn.URL_SCHEME,new fn)}catch(gc){}}const Ln=()=>n(817);let zn;class Bn{constructor(){this.util=n(590),this.textEncoder=new this.util.TextEncoder}fetch(e,t){return null!=ie().global.fetch?ie().global.fetch(e,t):(null==zn&&(zn=Ln()),zn(e,t))}now(){const e=process.hrtime();return 1e3*e[0]+e[1]/1e6}encode(e,t){if("utf-8"!==t&&"utf8"!==t)throw new Error("Node built-in encoder only supports utf-8, but got ".concat(t));return this.textEncoder.encode(e)}decode(e,t){return 0===e.length?"":new this.util.TextDecoder(t).decode(e)}isTypedArray(e){return this.util.types.isFloat32Array(e)||this.util.types.isInt32Array(e)||this.util.types.isUint8Array(e)||this.util.types.isUint8ClampedArray(e)}}function Vn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"float32",n=arguments.length>2?arguments[2]:void 0;return t=t||"float32",ne(e),new Ye(e,t,n)}ie().get("IS_NODE")&&!ie().get("IS_BROWSER")&&ie().setPlatform("node",new Bn);const jn=It({cast_:function(e,t){const n=Tt(e,"x","cast");if(!function(e){return"bool"===e||"complex64"===e||"float32"===e||"int32"===e||"string"===e}(t))throw new Error("Failed to cast to unknown dtype ".concat(t));if("string"===t&&"string"!==n.dtype||"string"!==t&&"string"===n.dtype)throw new Error("Only strings can be casted to strings");const r={x:n},a={dtype:t};return vt.runKernel(pe,r,a)}});const Un=It({clone_:function(e){const t={x:Tt(e,"x","clone","string_or_numeric")};return vt.runKernel(fe,t)}});function Wn(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];console.log(e.toString(t))}bt();Xe={buffer:Vn,cast:jn,clone:Un,print:Wn};const qn=It({add_:function(e,t){let n=Tt(e,"a","add"),r=Tt(t,"b","add");[n,r]=pt(n,r);const a={a:n,b:r};return vt.runKernel("Add",a)}});const Hn=It({floorDiv_:function(e,t){let n=Tt(e,"a","floorDiv"),r=Tt(t,"b","floorDiv");[n,r]=pt(n,r);const a={a:n,b:r};return vt.runKernel("FloorDiv",a)}});const Kn=It({div_:function(e,t){let n=Tt(e,"a","div"),r=Tt(t,"b","div");if([n,r]=pt(n,r),"int32"===n.dtype&&"int32"===r.dtype)return Hn(n,r);const a={a:n,b:r};return vt.runKernel("RealDiv",a,{})}});const Gn=It({mul_:function(e,t){let n=Tt(e,"a","mul"),r=Tt(t,"b","mul");[n,r]=pt(n,r);const a={a:n,b:r};return vt.runKernel("Multiply",a)}});const Qn=It({sqrt_:function(e){const t={x:Tt(e,"x","sqrt","float32")};return vt.runKernel("Sqrt",t)}});const $n=It({square_:function(e){const t=Tt(e,"x","square");return vt.runKernel("Square",{x:t},{})}});const Yn=It({zerosLike_:function(e){const t={x:Tt(e,"x","zerosLike")};return vt.runKernel("ZerosLike",t)}});function Jn(e){return vt.customGrad(e)}function Xn(e,t){if((Le(e)&&"string"!==t||Array.isArray(e))&&"complex64"!==t)throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if("string"===t&&Le(e)&&!(e instanceof Uint8Array))throw new Error("When making a scalar from encoded string, the value must be `Uint8Array`.");return At(e,[],[],t)}const Zn=new Map,er=new Map;class tr{getClassName(){return this.constructor.className}static fromConfig(e,t){return new e(t)}}class nr{constructor(){this.classNameMap={}}static getMap(){return null==nr.instance&&(nr.instance=new nr),nr.instance}static register(e){nr.getMap().classNameMap[e.className]=[e,e.fromConfig]}}function rr(e,t,n){z(null!=e.className,(()=>"Class being registered does not have the static className property defined.")),z("string"===typeof e.className,(()=>"className is required to be a string, but got type "+typeof e.className)),z(e.className.length>0,(()=>"Class being registered has an empty-string as its className, which is disallowed.")),"undefined"===typeof t&&(t="Custom"),"undefined"===typeof n&&(n=e.className);const r=t+">"+n;return nr.register(e),Zn.set(r,e),er.set(e,r),e}class ar extends tr{minimize(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0;const{value:r,grads:a}=this.computeGradients(e,n);if(null!=n){const e=n.map((e=>({name:e.name,tensor:a[e.name]})));this.applyGradients(e)}else this.applyGradients(a);return Pt(a),t?r:(r.dispose(),null)}get iterations(){return null==this.iterations_&&(this.iterations_=0),this.iterations_}incrementIterations(){this.iterations_=this.iterations+1}computeGradients(e,t){return function(e,t){z(Y(e),(()=>"The f passed in variableGrads(f) must be a function")),z(null==t||Array.isArray(t)&&t.every((e=>e instanceof nt)),(()=>"The varList passed in variableGrads(f, varList) must be an array of variables"));const n=null!=t;if(!n){t=[];for(const e in vt.registeredVariables)t.push(vt.registeredVariables[e])}const r=n?t.filter((e=>!e.trainable)):null,a=t.length;t=t.filter((e=>e.trainable)),z(t.length>0,(()=>"variableGrads() expects at least one of the input variables to "+"be trainable, but none of the ".concat(a," variables is ")+"trainable."));const{value:o,grads:s}=vt.gradients(e,t,null,!0);z(s.some((e=>null!=e)),(()=>"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize().")),z(0===o.rank,(()=>"The f passed in variableGrads(f) must return a scalar, but it "+"returned a rank-".concat(o.rank," tensor")));const i={};return t.forEach(((e,t)=>{null!=s[t]&&(i[e.name]=s[t])})),null!=r&&r.forEach((e=>i[e.name]=null)),{value:o,grads:i}}(e,t)}dispose(){null!=this.iterations_&&Pt(this.iterations_)}async saveIterations(){return null==this.iterations_&&(this.iterations_=0),{name:"iter",tensor:Xn(this.iterations_,"int32")}}async getWeights(){throw new Error("getWeights() is not implemented for this optimizer yet.")}async setWeights(e){throw new Error("setWeights() is not implemented for this optimizer class "+"".concat(this.getClassName()))}async extractIterations(e){return this.iterations_=(await e[0].tensor.data())[0],e.slice(1)}}Object.defineProperty(ar,Symbol.hasInstance,{value:e=>null!=e.minimize&&null!=e.computeGradients&&null!=e.applyGradients});function or(e,t,n){ne(e);const r={shape:e,value:t,dtype:n=n||$(t)};return vt.runKernel(he,{},r)}const sr=It({pow_:function(e,t){let n=Tt(e,"base","pow"),r=Tt(t,"exp","pow");[n,r]=pt(n,r);const a={a:n,b:r};return vt.runKernel("Pow",a)}});const ir=It({sub_:function(e,t){let n=Tt(e,"a","sub"),r=Tt(t,"b","sub");[n,r]=pt(n,r);const a={a:n,b:r};return vt.runKernel("Sub",a)}});const lr=It({abs_:function(e){const t=Tt(e,"x","abs");if("complex64"===t.dtype){const e={x:t};return vt.runKernel("ComplexAbs",e)}{const e={x:t};return vt.runKernel("Abs",e)}}});function ur(e,t){const n=Math.max(e.length,t.length),r=new Array(n);for(let a=0;a<n;a++){let o=e[e.length-a-1];null==o&&(o=1);let s=t[t.length-a-1];if(null==s&&(s=1),1===o)r[n-a-1]=s;else if(1===s)r[n-a-1]=o;else{if(o!==s){const n="Operands could not be broadcast together with shapes "+"".concat(e," and ").concat(t,".");throw Error(n)}r[n-a-1]=o}}return r}const cr=It({maximum_:function(e,t){let n=Tt(e,"a","maximum"),r=Tt(t,"b","maximum");[n,r]=pt(n,r),"bool"===n.dtype&&(n=jn(n,"int32"),r=jn(r,"int32")),ur(n.shape,r.shape);const a={a:n,b:r};return vt.runKernel("Maximum",a)}});class dr extends ar{static get className(){return"SGD"}constructor(e){super(),this.learningRate=e,this.setLearningRate(e)}applyGradients(e){(Array.isArray(e)?e.map((e=>e.name)):Object.keys(e)).forEach(((t,n)=>{const r=Array.isArray(e)?e[n].tensor:e[t];if(null==r)return;const a=vt.registeredVariables[t];Rt((()=>{const e=qn(Gn(this.c,r),a);a.assign(e)}))})),this.incrementIterations()}setLearningRate(e){this.learningRate=e,null!=this.c&&this.c.dispose(),this.c=Ft(Xn(-e))}dispose(){this.c.dispose()}async getWeights(){return[await this.saveIterations()]}async setWeights(e){if(0!==(e=await this.extractIterations(e)).length)throw new Error("SGD optimizer does not have settable weights.")}getConfig(){return{learningRate:this.learningRate}}static fromConfig(e,t){return new e(t.learningRate)}}const pr=[class extends ar{static get className(){return"Adadelta"}constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;super(),this.learningRate=e,this.rho=t,this.epsilon=n,this.accumulatedGrads=[],this.accumulatedUpdates=[],null==n&&(this.epsilon=vt.backend.epsilon())}applyGradients(e){(Array.isArray(e)?e.map((e=>e.name)):Object.keys(e)).forEach(((t,n)=>{const r=vt.registeredVariables[t],a=!1;null==this.accumulatedGrads[n]&&(this.accumulatedGrads[n]={originalName:"".concat(t,"/accum_grad"),variable:Rt((()=>Yn(r).variable(a)))}),null==this.accumulatedUpdates[n]&&(this.accumulatedUpdates[n]={originalName:"".concat(t,"/accum_var"),variable:Rt((()=>Yn(r).variable(a)))});const o=Array.isArray(e)?e[n].tensor:e[t];if(null==o)return;const s=this.accumulatedGrads[n].variable,i=this.accumulatedUpdates[n].variable;Rt((()=>{const e=qn(Gn(s,this.rho),Gn($n(o),1-this.rho)),t=Gn(Kn(Qn(qn(i,this.epsilon)),Qn(qn(s,this.epsilon))),o),n=qn(Gn(i,this.rho),Gn($n(t),1-this.rho));s.assign(e),i.assign(n);const a=qn(Gn(t,-this.learningRate),r);r.assign(a)}))})),this.incrementIterations()}dispose(){null!=this.accumulatedUpdates&&(Pt(this.accumulatedGrads.map((e=>e.variable))),Pt(this.accumulatedUpdates.map((e=>e.variable))))}async getWeights(){const e=[...this.accumulatedGrads,...this.accumulatedUpdates];return[await this.saveIterations()].concat(e.map((e=>({name:e.originalName,tensor:e.variable}))))}async setWeights(e){const t=(e=await this.extractIterations(e)).length/2,n=!1;this.accumulatedGrads=e.slice(0,t).map((e=>({originalName:e.name,variable:e.tensor.variable(n)}))),this.accumulatedUpdates=e.slice(t,2*t).map((e=>({originalName:e.name,variable:e.tensor.variable(n)})))}getConfig(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}}static fromConfig(e,t){return new e(t.learningRate,t.rho,t.epsilon)}},class extends ar{static get className(){return"Adagrad"}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1;super(),this.learningRate=e,this.initialAccumulatorValue=t,this.accumulatedGrads=[]}applyGradients(e){(Array.isArray(e)?e.map((e=>e.name)):Object.keys(e)).forEach(((t,n)=>{const r=vt.registeredVariables[t];if(null==this.accumulatedGrads[n]){const e=!1;this.accumulatedGrads[n]={originalName:"".concat(t,"/accumulator"),variable:Rt((()=>or(r.shape,this.initialAccumulatorValue).variable(e)))}}const a=Array.isArray(e)?e[n].tensor:e[t];if(null==a)return;const o=this.accumulatedGrads[n].variable;Rt((()=>{const e=qn(o,$n(a));o.assign(e);const t=qn(Gn(Kn(a,Qn(qn(e,vt.backend.epsilon()))),-this.learningRate),r);r.assign(t)}))})),this.incrementIterations()}dispose(){null!=this.accumulatedGrads&&Pt(this.accumulatedGrads.map((e=>e.variable)))}async getWeights(){return[await this.saveIterations()].concat(this.accumulatedGrads.map((e=>({name:e.originalName,tensor:e.variable}))))}async setWeights(e){e=await this.extractIterations(e);this.accumulatedGrads=e.map((e=>({originalName:e.name,variable:e.tensor.variable(false)})))}getConfig(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}}static fromConfig(e,t){return new e(t.learningRate,t.initialAccumulatorValue)}},class extends ar{static get className(){return"Adam"}constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super(),this.learningRate=e,this.beta1=t,this.beta2=n,this.epsilon=r,this.accumulatedFirstMoment=[],this.accumulatedSecondMoment=[],Rt((()=>{this.accBeta1=Xn(t).variable(),this.accBeta2=Xn(n).variable()})),null==r&&(this.epsilon=vt.backend.epsilon())}applyGradients(e){const t=Array.isArray(e)?e.map((e=>e.name)):Object.keys(e);Rt((()=>{const n=ir(1,this.accBeta1),r=ir(1,this.accBeta2);t.forEach(((t,a)=>{const o=vt.registeredVariables[t],s=!1;null==this.accumulatedFirstMoment[a]&&(this.accumulatedFirstMoment[a]={originalName:"".concat(t,"/m"),variable:Rt((()=>Yn(o).variable(s)))}),null==this.accumulatedSecondMoment[a]&&(this.accumulatedSecondMoment[a]={originalName:"".concat(t,"/v"),variable:Rt((()=>Yn(o).variable(s)))});const i=Array.isArray(e)?e[a].tensor:e[t];if(null==i)return;const l=this.accumulatedFirstMoment[a].variable,u=this.accumulatedSecondMoment[a].variable,c=qn(Gn(l,this.beta1),Gn(i,1-this.beta1)),d=qn(Gn(u,this.beta2),Gn($n(i),1-this.beta2)),p=Kn(c,n),h=Kn(d,r);l.assign(c),u.assign(d);const f=qn(Gn(Kn(p,qn(Qn(h),this.epsilon)),-this.learningRate),o);o.assign(f)})),this.accBeta1.assign(Gn(this.accBeta1,this.beta1)),this.accBeta2.assign(Gn(this.accBeta2,this.beta2))})),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.accBeta2.dispose(),null!=this.accumulatedFirstMoment&&Pt(this.accumulatedFirstMoment.map((e=>e.variable))),null!=this.accumulatedSecondMoment&&Pt(this.accumulatedSecondMoment.map((e=>e.variable)))}async getWeights(){const e=[...this.accumulatedFirstMoment,...this.accumulatedSecondMoment];return[await this.saveIterations()].concat(e.map((e=>({name:e.originalName,tensor:e.variable}))))}async setWeights(e){e=await this.extractIterations(e),Rt((()=>{this.accBeta1.assign(sr(this.beta1,this.iterations_+1)),this.accBeta2.assign(sr(this.beta2,this.iterations_+1))}));const t=e.length/2,n=!1;this.accumulatedFirstMoment=e.slice(0,t).map((e=>({originalName:e.name,variable:e.tensor.variable(n)}))),this.accumulatedSecondMoment=e.slice(t,2*t).map((e=>({originalName:e.name,variable:e.tensor.variable(n)})))}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}}static fromConfig(e,t){return new e(t.learningRate,t.beta1,t.beta2,t.epsilon)}},class extends ar{static get className(){return"Adamax"}constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;super(),this.learningRate=e,this.beta1=t,this.beta2=n,this.epsilon=r,this.decay=a,this.accumulatedFirstMoment=[],this.accumulatedWeightedInfNorm=[],Rt((()=>{this.iteration=Xn(0).variable(),this.accBeta1=Xn(t).variable()})),null==r&&(this.epsilon=vt.backend.epsilon())}applyGradients(e){const t=Array.isArray(e)?e.map((e=>e.name)):Object.keys(e);Rt((()=>{const n=ir(1,this.accBeta1),r=Kn(-this.learningRate,qn(Gn(this.iteration,this.decay),1));t.forEach(((t,a)=>{const o=vt.registeredVariables[t],s=!1;null==this.accumulatedFirstMoment[a]&&(this.accumulatedFirstMoment[a]={originalName:"".concat(t,"/m"),variable:Yn(o).variable(s)}),null==this.accumulatedWeightedInfNorm[a]&&(this.accumulatedWeightedInfNorm[a]={originalName:"".concat(t,"/v"),variable:Yn(o).variable(s)});const i=Array.isArray(e)?e[a].tensor:e[t];if(null==i)return;const l=this.accumulatedFirstMoment[a].variable,u=this.accumulatedWeightedInfNorm[a].variable,c=qn(Gn(l,this.beta1),Gn(i,1-this.beta1)),d=Gn(u,this.beta2),p=lr(i),h=cr(d,p);l.assign(c),u.assign(h);const f=qn(Gn(Kn(r,n),Kn(c,qn(h,this.epsilon))),o);o.assign(f)})),this.iteration.assign(qn(this.iteration,1)),this.accBeta1.assign(Gn(this.accBeta1,this.beta1))})),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.iteration.dispose(),null!=this.accumulatedFirstMoment&&Pt(this.accumulatedFirstMoment.map((e=>e.variable))),null!=this.accumulatedWeightedInfNorm&&Pt(this.accumulatedWeightedInfNorm.map((e=>e.variable)))}async getWeights(){throw new Error("getWeights() is not implemented for Adamax yet.")}async setWeights(e){throw new Error("setWeights() is not implemented for Adamax yet.")}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}}static fromConfig(e,t){return new e(t.learningRate,t.beta1,t.beta2,t.epsilon,t.decay)}},class extends dr{static get className(){return"Momentum"}constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];super(e),this.learningRate=e,this.momentum=t,this.useNesterov=n,this.accumulations=[],this.m=Xn(this.momentum)}applyGradients(e){(Array.isArray(e)?e.map((e=>e.name)):Object.keys(e)).forEach(((t,n)=>{const r=vt.registeredVariables[t];if(null==this.accumulations[n]){const e=!1;this.accumulations[n]={originalName:"".concat(t,"/momentum"),variable:Rt((()=>Yn(r).variable(e)))}}const a=this.accumulations[n].variable,o=Array.isArray(e)?e[n].tensor:e[t];null!=o&&Rt((()=>{let e;const t=qn(Gn(this.m,a),o);e=this.useNesterov?qn(Gn(this.c,qn(o,Gn(t,this.m))),r):qn(Gn(this.c,t),r),a.assign(t),r.assign(e)}))})),this.incrementIterations()}dispose(){this.m.dispose(),null!=this.accumulations&&Pt(this.accumulations.map((e=>e.variable)))}setMomentum(e){this.momentum=e}async getWeights(){return[await this.saveIterations()].concat(this.accumulations.map((e=>({name:e.originalName,tensor:e.variable}))))}async setWeights(e){e=await this.extractIterations(e);this.accumulations=e.map((e=>({originalName:e.name,variable:e.tensor.variable(false)})))}getConfig(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}}static fromConfig(e,t){return new e(t.learningRate,t.momentum,t.useNesterov)}},class extends ar{static get className(){return"RMSProp"}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.9,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(super(),this.learningRate=e,this.decay=t,this.momentum=n,this.epsilon=r,this.accumulatedMeanSquares=[],this.accumulatedMoments=[],this.accumulatedMeanGrads=[],this.centered=a,null==r&&(this.epsilon=vt.backend.epsilon()),null==e)throw new Error("learningRate for RMSPropOptimizer must be defined.")}applyGradients(e){(Array.isArray(e)?e.map((e=>e.name)):Object.keys(e)).forEach(((t,n)=>{const r=vt.registeredVariables[t],a=!1;null==this.accumulatedMeanSquares[n]&&(this.accumulatedMeanSquares[n]={originalName:"".concat(t,"/rms"),variable:Rt((()=>Yn(r).variable(a)))}),null==this.accumulatedMoments[n]&&(this.accumulatedMoments[n]={originalName:"".concat(t,"/momentum"),variable:Rt((()=>Yn(r).variable(a)))}),null==this.accumulatedMeanGrads[n]&&this.centered&&(this.accumulatedMeanGrads[n]={originalName:"".concat(t,"/mg"),variable:Rt((()=>Yn(r).variable(a)))});const o=Array.isArray(e)?e[n].tensor:e[t];if(null==o)return;const s=this.accumulatedMeanSquares[n].variable,i=this.accumulatedMoments[n].variable;Rt((()=>{const e=qn(Gn(s,this.decay),Gn($n(o),1-this.decay));if(this.centered){const t=this.accumulatedMeanGrads[n].variable,a=qn(Gn(t,this.decay),Gn(o,1-this.decay)),l=Kn(Gn(o,this.learningRate),Qn(ir(e,qn($n(a),this.epsilon)))),u=qn(Gn(i,this.momentum),l);s.assign(e),t.assign(a),i.assign(u);const c=ir(r,u);r.assign(c)}else{const e=qn(Gn(s,this.decay),Gn($n(o),1-this.decay)),t=qn(Gn(i,this.momentum),Kn(Gn(o,this.learningRate),Qn(qn(e,this.epsilon))));s.assign(e),i.assign(t);const n=ir(r,t);r.assign(n)}}))})),this.incrementIterations()}dispose(){null!=this.accumulatedMeanSquares&&Pt(this.accumulatedMeanSquares.map((e=>e.variable))),null!=this.accumulatedMeanGrads&&this.centered&&Pt(this.accumulatedMeanGrads.map((e=>e.variable))),null!=this.accumulatedMoments&&Pt(this.accumulatedMoments.map((e=>e.variable)))}async getWeights(){const e=[...this.accumulatedMeanSquares,...this.accumulatedMoments];return this.centered&&e.push(...this.accumulatedMeanGrads),[await this.saveIterations()].concat(e.map((e=>({name:e.originalName,tensor:e.variable}))))}async setWeights(e){e=await this.extractIterations(e);const t=this.centered?e.length/3:e.length/2,n=!1;this.accumulatedMeanSquares=e.slice(0,t).map((e=>({originalName:e.name,variable:e.tensor.variable(n)}))),this.accumulatedMoments=e.slice(t,2*t).map((e=>({originalName:e.name,variable:e.tensor.variable(n)}))),this.centered&&(this.accumulatedMeanGrads=e.slice(2*t,3*t).map((e=>({originalName:e.name,variable:e.tensor.variable(n)}))))}getConfig(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}}static fromConfig(e,t){return new e(t.learningRate,t.decay,t.momentum,t.epsilon,t.centered)}},dr];function hr(e){return new Promise((e=>setTimeout(e))).then(e)}class fr{constructor(e){if(!ie().getBool("IS_BROWSER"))throw new Error("browserDownloads() cannot proceed because the current environment is not a browser.");e.startsWith(fr.URL_SCHEME)&&(e=e.slice(fr.URL_SCHEME.length)),null!=e&&0!==e.length||(e="model"),this.modelJsonFileName=e+".json",this.weightDataFileName=e+".weights.bin"}async save(e){if("undefined"===typeof document)throw new Error("Browser downloads are not supported in this environment since `document` is not present");const t=Dt.join(e.weightData),n=window.URL.createObjectURL(new Blob([t],{type:"application/octet-stream"}));if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");{const t=Yt(e,[{paths:["./"+this.weightDataFileName],weights:e.weightSpecs}]),r=window.URL.createObjectURL(new Blob([JSON.stringify(t)],{type:"application/json"})),a=null==this.modelJsonAnchor?document.createElement("a"):this.modelJsonAnchor;if(a.download=this.modelJsonFileName,a.href=r,await hr((()=>a.dispatchEvent(new MouseEvent("click")))),null!=e.weightData){const e=null==this.weightDataAnchor?document.createElement("a"):this.weightDataAnchor;e.download=this.weightDataFileName,e.href=n,await hr((()=>e.dispatchEvent(new MouseEvent("click"))))}return{modelArtifactsInfo:Zt(e)}}}}fr.URL_SCHEME="downloads://";class mr{constructor(e){if(null==e||e.length<1)throw new Error("When calling browserFiles, at least 1 file is required, "+"but received ".concat(e));this.jsonFile=e[0],this.weightsFiles=e.slice(1)}async load(){return new Promise(((e,t)=>{const n=new FileReader;n.onload=n=>{const r=JSON.parse(n.target.result),a=r.modelTopology;if(null==a)return void t(new Error("modelTopology field is missing from file ".concat(this.jsonFile.name)));if(null==r.weightsManifest)return void t(new Error("weightManifest field is missing from file ".concat(this.jsonFile.name)));if(0===this.weightsFiles.length)return void e({modelTopology:a});const o=Xt(r,(e=>this.loadWeights(e)));e(o)},n.onerror=e=>t("Failed to read model topology and weights manifest JSON "+"from file '".concat(this.jsonFile.name,"'. BrowserFiles supports loading ")+"Keras-style tf.Model artifacts only."),n.readAsText(this.jsonFile)}))}loadWeights(e){const t=[],n=[];for(const o of e)t.push(...o.weights),n.push(...o.paths);const r=this.checkManifestAndWeightFiles(e),a=n.map((e=>this.loadWeightsFile(e,r[e])));return Promise.all(a).then((e=>[t,e]))}loadWeightsFile(e,t){return new Promise(((n,r)=>{const a=new FileReader;a.onload=e=>{const t=e.target.result;n(t)},a.onerror=t=>r("Failed to weights data from file of path '".concat(e,"'.")),a.readAsArrayBuffer(t)}))}checkManifestAndWeightFiles(e){const t=[],n=this.weightsFiles.map((e=>$t(e.name))),r={};for(const a of e)a.paths.forEach((e=>{const a=$t(e);if(-1!==t.indexOf(a))throw new Error("Duplicate file basename found in weights manifest: "+"'".concat(a,"'"));if(t.push(a),-1===n.indexOf(a))throw new Error("Weight file with basename '".concat(a,"' is not provided."));r[e]=this.weightsFiles[n.indexOf(a)]}));if(t.length!==this.weightsFiles.length)throw new Error("Mismatch in the number of files in weights manifest "+"(".concat(t.length,") and the number of weight files provided ")+"(".concat(this.weightsFiles.length,")."));return r}}function gr(e){return new mr(e)}function yr(e,t,n,r){!function(e){z(null!=e&&Array.isArray(e)&&e.length>0,(()=>"promises must be a none empty array"))}(e),function(e,t){z(e>=0&&e<=1,(()=>"Progress fraction must be in range [0, 1], but "+"got startFraction ".concat(e))),z(t>=0&&t<=1,(()=>"Progress fraction must be in range [0, 1], but "+"got endFraction ".concat(t))),z(t>=e,(()=>"startFraction must be no more than endFraction, but "+"got startFraction ".concat(e," and endFraction ")+"".concat(t)))}(n=null==n?0:n,r=null==r?1:r);let a=0;return Promise.all(e.map((o=>(o.then((o=>{const s=n+ ++a/e.length*(r-n);return t(s),o})),o))))}async function br(e,t){null==t&&(t={});const n=null==t.fetchFunc?ie().platform.fetch:t.fetchFunc,r=e.map((e=>n(e,t.requestInit,{isBinary:!0}))),a=(null==t.onProgress?await Promise.all(r):await yr(r,t.onProgress,0,.5)).map((e=>e.arrayBuffer()));return null==t.onProgress?await Promise.all(a):await yr(a,t.onProgress,.5,1)}async function vr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;return wr((e=>br(e,{requestInit:r})))(e,t,n)}function wr(e){return async function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0;const a=t.map((()=>!1)),o={},s=null!=r?r.map((()=>!1)):[],i=[];if(t.forEach(((e,t)=>{let n=0;e.weights.forEach((e=>{const l="quantization"in e?e.quantization.dtype:e.dtype,u=Ot[l]*j(e.shape),c=()=>{a[t]=!0,null==o[t]&&(o[t]=[]),o[t].push({manifestEntry:e,groupOffset:n,sizeBytes:u})};null!=r?r.forEach(((t,n)=>{t===e.name&&(c(),s[n]=!0)})):c(),i.push(e.name),n+=u}))})),!s.every((e=>e))){const e=r.filter(((e,t)=>!s[t]));throw new Error("Could not find weights in manifest with names: "+"".concat(e.join(", "),". \n")+"Manifest JSON has weights with names: "+"".concat(i.join(", "),"."))}const l=a.reduce(((e,t,n)=>(t&&e.push(n),e)),[]),u=[];l.forEach((e=>{t[e].paths.forEach((e=>{const t=n+(n.endsWith("/")?"":"/")+e;u.push(t)}))}));const c=await e(u),d={};let p=0;return l.forEach((e=>{const n=t[e].paths.length,r=new Dt(c.slice(p,p+n));o[e].forEach((e=>{const t=Bt(r.slice(e.groupOffset,e.groupOffset+e.sizeBytes),[e.manifestEntry]);for(const n in t)d[n]=t[n]})),p+=n})),d}}tn.registerSaveRouter((e=>ie().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(fr.URL_SCHEME)?function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"model";return new fr(e)}(e.slice(fr.URL_SCHEME.length)):null));class kr{constructor(e,t){if(this.DEFAULT_METHOD="POST",null==t&&(t={}),this.weightPathPrefix=t.weightPathPrefix,this.weightUrlConverter=t.weightUrlConverter,null!=t.fetchFunc?(z("function"===typeof t.fetchFunc,(()=>"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)")),this.fetch=t.fetchFunc):this.fetch=ie().platform.fetch,z(null!=e&&e.length>0,(()=>"URL path for http must not be null, undefined or empty.")),Array.isArray(e)&&z(2===e.length,(()=>"URL paths for http must have a length of 2, "+"(actual length is ".concat(e.length,")."))),this.path=e,null!=t.requestInit&&null!=t.requestInit.body)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=t.requestInit||{},this.loadOptions=t}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");const t=Object.assign({method:this.DEFAULT_METHOD},this.requestInit);t.body=new FormData;const n=Yt(e,[{paths:["./model.weights.bin"],weights:e.weightSpecs}]);if(t.body.append("model.json",new Blob([JSON.stringify(n)],{type:"application/json"}),"model.json"),null!=e.weightData){const n=Dt.join(e.weightData);t.body.append("model.weights.bin",new Blob([n],{type:"application/octet-stream"}),"model.weights.bin")}const r=await this.fetch(this.path,t);if(r.ok)return{modelArtifactsInfo:Zt(e),responses:[r]};throw new Error("BrowserHTTPRequest.save() failed due to HTTP response status "+"".concat(r.status,"."))}async loadModelJSON(){const e=await this.fetch(this.path,this.requestInit);if(!e.ok)throw new Error("Request to ".concat(this.path," failed with status code ")+"".concat(e.status,". Please verify this URL points to ")+"the model JSON of the model to load.");let t;try{t=await e.json()}catch(a){let e="Failed to parse model JSON of response from ".concat(this.path,".");throw this.path.endsWith(".pb")?e+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":e+=" Please make sure the server is serving valid JSON for this request.",new Error(e)}const n=t.modelTopology,r=t.weightsManifest;if(null==n&&null==r)throw new Error("The JSON from HTTP path ".concat(this.path," contains neither model ")+"topology or manifest for weights.");return t}async load(){if(this.loadOptions.streamWeights)return this.loadStream();return Xt(await this.loadModelJSON(),(e=>this.loadWeights(e)))}async loadStream(){const e=await this.loadModelJSON(),t=await this.getWeightUrls(e.weightsManifest),n=en(e.weightsManifest);return Object.assign(Object.assign({},e),{weightSpecs:n,getWeightStream:()=>function(e,t){var n;const r=null==t.fetchFunc?ie().platform.fetch:t.fetchFunc;let a,o=0;return null===(n=t.onProgress)||void 0===n||n.call(t,0),new ReadableStream({pull:async n=>{for(var s;o<e.length;){if(!a){const n=(await r(e[o],t.requestInit,{isBinary:!0})).body;a=n.getReader()}const{done:i,value:l}=await a.read();if(!i)return void n.enqueue(l);o++,a=void 0,null===(s=t.onProgress)||void 0===s||s.call(t,o/e.length)}n.close()}})}(t,this.loadOptions)})}async getWeightUrls(e){const t=Array.isArray(this.path)?this.path[1]:this.path,[n,r]=function(e){const t=e.lastIndexOf("/"),n=e.lastIndexOf("?"),r=e.substring(0,t),a=n>t?e.substring(n):"";return[r+"/",a]}(t),a=this.weightPathPrefix||n,o=[],s=[];for(const i of e)for(const e of i.paths)null!=this.weightUrlConverter?s.push(this.weightUrlConverter(e)):o.push(a+e+r);return this.weightUrlConverter&&o.push(...await Promise.all(s)),o}async loadWeights(e){const t=await this.getWeightUrls(e);return[en(e),await br(t,this.loadOptions)]}}function xr(e){return null!=e.match(kr.URL_SCHEME_REGEX)}kr.URL_SCHEME_REGEX=/^https?:\/\//;const Sr=(e,t)=>{if("undefined"===typeof fetch&&(null==t||null==t.fetchFunc))return null;{let n=!0;if(n=Array.isArray(e)?e.every((e=>xr(e))):xr(e),n)return Nr(e,t)}return null};function Nr(e,t){return new kr(e,t)}function Tr(e,t){return Nr(e,t)}tn.registerSaveRouter(Sr),tn.registerLoadRouter(Sr);class Er{constructor(e){this.modelArtifacts=e}load(){return this.modelArtifacts}}class _r{constructor(e){this.saveHandler=e}save(e){return this.saveHandler(e)}}class Ir{constructor(e){e.load&&(this.load=()=>Promise.resolve(e.load())),e.save&&(this.save=t=>Promise.resolve(e.save(t)))}}function Cr(e,t,n,r){return new Ir(Ar(...arguments))}function Ar(e,t,n,r){if(1===arguments.length){return null!=e.modelTopology||null!=e.weightSpecs?new Er(e):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new Er({modelTopology:e}))}return console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new Er({modelTopology:e,weightSpecs:t,weightData:n,trainingConfig:r})}function Mr(e){return new _r(e)}function Or(e){return new _r(e)}const Dr=It({acos_:function(e){const t={x:Tt(e,"x","acos")};return vt.runKernel("Acos",t)}});const Rr=It({acosh_:function(e){const t={x:Tt(e,"x","acosh")};return vt.runKernel("Acosh",t)}});const Pr=It({addN_:function(e){z(Array.isArray(e),(()=>"The argument passed to tf.addN() must be a list of tensors")),z(e.length>=1,(()=>"Must pass at least one tensor to tf.addN(), but got "+"".concat(e.length)));const t=e.map(((e,t)=>Tt(e,"tensors".concat(t),"addN"))),n=t[0];t.forEach((e=>{if(e.dtype!==n.dtype)throw new Error("All tensors passed to tf.addN() must have the same dtype")})),t.forEach((e=>{if(!U(e.shape,n.shape))throw new Error("All tensors passed to tf.addN() must have the same shape")}));const r=t;return vt.runKernel("AddN",r)}});const Fr=It({all_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r={x:Tt(e,"x","all","bool")},a={axis:t,keepDims:n};return vt.runKernel("All",r,a)}});const Lr=It({any_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r={x:Tt(e,"x","any","bool")},a={axis:t,keepDims:n};return vt.runKernel("Any",r,a)}});const zr=It({argMax_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n={x:Tt(e,"x","argMax")},r={axis:t};return vt.runKernel("ArgMax",n,r)}});const Br=It({argMin_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n={x:Tt(e,"x","argMin")},r={axis:t};return vt.runKernel("ArgMin",n,r)}});const Vr=It({asin_:function(e){const t={x:Tt(e,"x","asin")};return vt.runKernel("Asin",t)}});const jr=It({asinh_:function(e){const t={x:Tt(e,"x","asinh")};return vt.runKernel("Asinh",t)}});const Ur=It({atan_:function(e){const t={x:Tt(e,"x","atan")};return vt.runKernel("Atan",t)}});const Wr=It({atan2_:function(e,t){let n=Tt(e,"a","atan2"),r=Tt(t,"b","atan2");[n,r]=pt(n,r);const a={a:n,b:r};return vt.runKernel("Atan2",a)}});const qr=It({atanh_:function(e){const t={x:Tt(e,"x","atanh")};return vt.runKernel("Atanh",t)}});function Hr(e,t,n,r,a,o){let s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],i=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"channelsLast",[l,u,c,d]=[-1,-1,-1,-1];if("channelsLast"===i)[l,u,c,d]=e;else{if("channelsFirst"!==i)throw new Error("Unknown dataFormat ".concat(i));[l,d,u,c]=e}const[p,h,,f]=t,[m,g]=Gr(n),[y,b]=Gr(r),v=Qr(p,y),w=Qr(h,b),{padInfo:k,outHeight:x,outWidth:S}=function(e,t,n,r,a,o,s,i,l){let u,c,d;if("number"===typeof e){u={top:e,bottom:e,left:e,right:e,type:0===e?"VALID":"NUMBER"};const a=function(e,t,n,r,a){null==r&&(r=Kr(e,t,n));const o=e[0],s=e[1],i=$r((o-t+2*r)/n+1,a),l=$r((s-t+2*r)/n+1,a);return[i,l]}([t,n],o,r,e,i);c=a[0],d=a[1]}else if("same"===e){c=Math.ceil(t/r),d=Math.ceil(n/a);const e=Math.max(0,(c-1)*r+o-t),i=Math.max(0,(d-1)*a+s-n),l=Math.floor(e/2),p=e-l,h=Math.floor(i/2);u={top:l,bottom:p,left:h,right:i-h,type:"SAME"}}else if("valid"===e)u={top:0,bottom:0,left:0,right:0,type:"VALID"},c=Math.ceil((t-o+1)/r),d=Math.ceil((n-s+1)/a);else{if("object"!==typeof e)throw Error("Unknown padding parameter: ".concat(e));{const p="channelsLast"===l?e[1][0]:e[2][0],h="channelsLast"===l?e[1][1]:e[2][1],f="channelsLast"===l?e[2][0]:e[3][0],m="channelsLast"===l?e[2][1]:e[3][1];u={top:p,bottom:h,left:f,right:m,type:0===p&&0===h&&0===f&&0===m?"VALID":"EXPLICIT"},c=$r((t-o+p+h)/r+1,i),d=$r((n-s+f+m)/a+1,i)}}return{padInfo:u,outHeight:c,outWidth:d}}(a,u,c,m,g,v,w,o,i),N=s?f*d:f;let T;return"channelsFirst"===i?T=[l,N,x,S]:"channelsLast"===i&&(T=[l,x,S,N]),{batchSize:l,dataFormat:i,inHeight:u,inWidth:c,inChannels:d,outHeight:x,outWidth:S,outChannels:N,padInfo:k,strideHeight:m,strideWidth:g,filterHeight:p,filterWidth:h,effectiveFilterHeight:v,effectiveFilterWidth:w,dilationHeight:y,dilationWidth:b,inShape:e,outShape:T,filterShape:t}}function Kr(e,t,n){const r=Qr(t,arguments.length>3&&void 0!==arguments[3]?arguments[3]:1);return Math.floor((e[0]*(n-1)-n+r)/2)}function Gr(e){return"number"===typeof e?[e,e,e]:2===e.length?[e[0],e[1],1]:e}function Qr(e,t){return t<=1?e:e+(e-1)*(t-1)}function $r(e,t){if(!t)return Math.trunc(e);switch(t){case"round":return Math.round(e);case"ceil":return Math.ceil(e);case"floor":return Math.floor(e);default:throw new Error("Unknown roundingMode ".concat(t))}}function Yr(e){const[t,n,r]=Gr(e);return 1===t&&1===n&&1===r}function Jr(e,t){return Yr(e)||Yr(t)}function Xr(e){return Gr(e).every((e=>e>0))}function Zr(e,t,n){if(null!=n){if("string"===typeof t)throw Error("Error in ".concat(e,": pad must be an integer when using ")+"dimRoundingMode ".concat(n," but got pad ").concat(t,"."));if("number"===typeof t)z(W(t),(()=>"Error in ".concat(e,": pad must be an integer when using ")+"dimRoundingMode ".concat(n," but got pad ").concat(t,".")));else{if("object"!==typeof t)throw Error("Error in ".concat(e,": Unknown padding parameter: ").concat(t));t.forEach((t=>{t.forEach((t=>{z(W(t),(()=>"Error in ".concat(e,": pad must be an integer when using ")+"dimRoundingMode ".concat(n," but got pad ").concat(t,".")))}))}))}}}const ea=It({reshape_:function(e,t){const n={x:Tt(e,"x","reshape","string_or_numeric")},r={shape:t};return vt.runKernel("Reshape",n,r)}});const ta=It({avgPool_:function(e,t,n,r,a){const o=Tt(e,"x","avgPool","float32");z(Jr(n,1),(()=>"Error in avgPool: Either strides or dilations must be 1. "+"Got strides ".concat(n," and dilations '").concat(1,"'")));let s=o,i=!1;3===o.rank&&(i=!0,s=ea(o,[1,o.shape[0],o.shape[1],o.shape[2]])),z(4===s.rank,(()=>"Error in avgPool: x must be rank 4 but got rank ".concat(s.rank,"."))),Zr("avgPool",r,a);const l={x:s},u={filterSize:t,strides:n,pad:r,dimRoundingMode:a};let c=vt.runKernel("AvgPool",l,u);return c=jn(c,o.dtype),i?ea(c,[c.shape[1],c.shape[2],c.shape[3]]):c}});const na=It({avgPool3d_:function(e,t,n,r,a){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NDHWC";const s=Tt(e,"x","avgPool3d","float32");let i=s,l=!1;4===s.rank&&(l=!0,i=ea(s,[1,s.shape[0],s.shape[1],s.shape[2],s.shape[3]])),z(5===i.rank,(()=>"Error in avgPool3d: x must be rank 5 but got rank ".concat(i.rank,"."))),z("NDHWC"===o,(()=>"Error in avgPool3d: Only NDHWC is currently supported, "+"but got dataFormat of ".concat(o))),z("number"===typeof n&&n>0||Array.isArray(n)&&n[0]>0&&n[1]>0&&n[2]>0,(()=>"Error in avgPool3d: Stride must be > 0, but got '".concat(n,"'"))),Zr("avgPool3d",r,a);const u={x:i},c={filterSize:t,strides:n,pad:r,dimRoundingMode:a,dataFormat:o};let d=vt.runKernel("AvgPool3D",u,c);return d=jn(d,i.dtype),l?ea(d,[d.shape[1],d.shape[2],d.shape[3],d.shape[4]]):d}});const ra=It({concat_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;z(e.length>=1,(()=>"Pass at least one tensor to concat"));const n=Et(e,"tensors","concat","string_or_numeric");if("complex64"===n[0].dtype&&n.forEach((e=>{if("complex64"!==e.dtype)throw new Error("Cannot concatenate complex64 tensors with a tensor\n          with dtype ".concat(e.dtype,". "))})),1===n.length)return Un(n[0]);const r=n,a={axis:t};return vt.runKernel("Concat",r,a)}});const aa=It({matMul_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=Tt(e,"a","matMul"),o=Tt(t,"b","matMul");[a,o]=pt(a,o);const s={a:a,b:o},i={transposeA:n,transposeB:r};return vt.runKernel("BatchMatMul",s,i)}});const oa=It({sigmoid_:function(e){const t={x:Tt(e,"x","sigmoid","float32")};return vt.runKernel("Sigmoid",t)}});const sa=It({slice_:function(e,t,n){const r=Tt(e,"x","slice","string_or_numeric");if(0===r.rank)throw new Error("Slicing scalar is not possible");const a={x:r},o={begin:t,size:n};return vt.runKernel("Slice",a,o)}});const ia=It({tanh_:function(e){const t={x:Tt(e,"x","tanh","float32")};return vt.runKernel("Tanh",t)}});const la=It({basicLSTMCell_:function(e,t,n,r,a,o){const s=Tt(e,"forgetBias","basicLSTMCell"),i=Tt(t,"lstmKernel","basicLSTMCell"),l=Tt(n,"lstmBias","basicLSTMCell"),u=Tt(r,"data","basicLSTMCell"),c=Tt(a,"c","basicLSTMCell"),d=Tt(o,"h","basicLSTMCell"),p=ra([u,d],1),h=aa(p,i),f=qn(h,l),m=f.shape[0],g=f.shape[1]/4,y=[m,g],b=sa(f,[0,0],y),v=sa(f,[0,g],y),w=sa(f,[0,2*g],y),k=sa(f,[0,3*g],y),x=qn(Gn(oa(b),ia(v)),Gn(c,oa(qn(s,w))));return[x,Gn(ia(x),oa(k))]}});const ua=It({batchToSpaceND_:function(e,t,n){const r=Tt(e,"x","batchToSpaceND"),a=t.reduce(((e,t)=>e*t));z(r.rank>=1+t.length,(()=>"input rank is ".concat(r.rank," but should be > than blockShape.length ").concat(t.length))),z(n.length===t.length,(()=>"crops.length is ".concat(n.length," but should be equal to blockShape.length  ").concat(t.length))),z(r.shape[0]%a===0,(()=>"input tensor batch is ".concat(r.shape[0]," but is not divisible by the product of ")+"the elements of blockShape ".concat(t.join(" * ")," === ").concat(a)));const o={x:r},s={blockShape:t,crops:n};return vt.runKernel("BatchToSpaceND",o,s)}});const ca=It({batchNorm_:function(e,t,n,r,a,o){null==o&&(o=.001);const s=Tt(e,"x","batchNorm"),i=Tt(t,"mean","batchNorm"),l=Tt(n,"variance","batchNorm");let u,c;null!=a&&(u=Tt(a,"scale","batchNorm")),null!=r&&(c=Tt(r,"offset","batchNorm")),z(i.rank===l.rank,(()=>"Batch normalization gradient requires mean and variance to have equal ranks.")),z(null==c||i.rank===c.rank,(()=>"Batch normalization gradient requires mean and offset to have equal ranks.")),z(null==u||i.rank===u.rank,(()=>"Batch normalization gradient requires mean and scale to have equal ranks."));const d={x:function(e){let t;return t=0===e.rank||1===e.rank?ea(e,[1,1,1,e.size]):2===e.rank?ea(e,[1,1,e.shape[0],e.shape[1]]):3===e.rank?ea(e,[1,e.shape[0],e.shape[1],e.shape[2]]):e,t}(s),scale:u,offset:c,mean:i,variance:l},p={varianceEpsilon:o},h=vt.runKernel("FusedBatchNorm",d,p);return ea(h,s.shape)}});const da=It({batchNorm2d_:function(e,t,n,r,a,o){const s=Tt(e,"x","batchNorm"),i=Tt(t,"mean","batchNorm"),l=Tt(n,"variance","batchNorm");let u,c;return null!=a&&(u=Tt(a,"scale","batchNorm")),null!=r&&(c=Tt(r,"offset","batchNorm")),z(2===s.rank,(()=>"Error in batchNorm2D: x must be rank 2 but got rank "+"".concat(s.rank,"."))),z(2===i.rank||1===i.rank,(()=>"Error in batchNorm2D: mean must be rank 2 or rank 1 but "+"got rank ".concat(i.rank,"."))),z(2===l.rank||1===l.rank,(()=>"Error in batchNorm2D: variance must be rank 2 or rank 1 "+"but got rank ".concat(l.rank,"."))),null!=u&&z(2===u.rank||1===u.rank,(()=>"Error in batchNorm2D: scale must be rank 2 or rank 1 "+"but got rank ".concat(u.rank,"."))),null!=c&&z(2===c.rank||1===c.rank,(()=>"Error in batchNorm2D: offset must be rank 2 or rank 1 "+"but got rank ".concat(c.rank,"."))),ca(s,i,l,c,u,o)}});const pa=It({batchNorm3d_:function(e,t,n,r,a,o){const s=Tt(e,"x","batchNorm"),i=Tt(t,"mean","batchNorm"),l=Tt(n,"variance","batchNorm");let u,c;return null!=a&&(u=Tt(a,"scale","batchNorm")),null!=r&&(c=Tt(r,"offset","batchNorm")),z(3===s.rank,(()=>"Error in batchNorm3D: x must be rank 3 but got rank "+"".concat(s.rank,"."))),z(3===i.rank||1===i.rank,(()=>"Error in batchNorm3D: mean must be rank 3 or rank 1 but "+"got rank ".concat(i.rank,"."))),z(3===l.rank||1===l.rank,(()=>"Error in batchNorm3D: variance must be rank 3 or rank 1 "+"but got rank ".concat(l.rank,"."))),null!=u&&z(3===u.rank||1===u.rank,(()=>"Error in batchNorm3D: scale must be rank 3 or rank 1 "+"but got rank ".concat(u.rank,"."))),null!=c&&z(3===c.rank||1===c.rank,(()=>"Error in batchNorm3D: offset must be rank 3 or rank 1 "+"but got rank ".concat(c.rank,"."))),ca(s,i,l,c,u,o)}});const ha=It({batchNorm4d_:function(e,t,n,r,a,o){const s=Tt(e,"x","batchNorm"),i=Tt(t,"mean","batchNorm"),l=Tt(n,"variance","batchNorm");let u,c;return null!=a&&(u=Tt(a,"scale","batchNorm")),null!=r&&(c=Tt(r,"offset","batchNorm")),z(4===s.rank,(()=>"Error in batchNorm4D: x must be rank 4 but got rank "+"".concat(s.rank,"."))),z(4===i.rank||1===i.rank,(()=>"Error in batchNorm4D: mean must be rank 4 or rank 1 but "+"got rank ".concat(i.rank,"."))),z(4===l.rank||1===l.rank,(()=>"Error in batchNorm4D: variance must be rank 4 or rank 1 "+"but got rank ".concat(l.rank,"."))),null!=u&&z(4===u.rank||1===u.rank,(()=>"Error in batchNorm4D: scale must be rank 4 or rank 1 "+"but got rank ".concat(u.rank,"."))),null!=c&&z(4===c.rank||1===c.rank,(()=>"Error in batchNorm4D: offset must be rank 4 or rank 1 "+"but got rank ".concat(c.rank,"."))),ca(s,i,l,c,u,o)}});const fa=It({bincount_:function(e,t,n){const r=Tt(e,"x","bincount"),a=Tt(t,"weights","bincount");z("int32"===r.dtype,(()=>"Error in bincount: input "+"dtype must be int32, but got ".concat(r.dtype))),z(n>=0,(()=>"size must be non-negative, but got ".concat(n,"."))),z(a.size===r.size||0===a.size,(()=>"Error in bincount: weights must have the same size as input or"+"0-length, but got input shape: ".concat(r.shape,", weights shape: ")+"".concat(a.shape,".")));const o={x:r,weights:a},s={size:n};return vt.runKernel("Bincount",o,s)}});const ma=It({bitwiseAnd_:function(e,t){const n=Tt(e,"x","bitwiseAnd"),r=Tt(t,"y","bitwiseAnd");if(!U(n.shape,r.shape))throw new Error("BitwiseAnd: Tensors must have the same shape. x: ".concat(n.shape,", y: ").concat(r.shape));if("int32"!==n.dtype||"int32"!==r.dtype)throw new Error("BitwiseAnd: Only supports 'int32' values in tensor, found type of x: ".concat(n.dtype," and type of y: ").concat(r.dtype));const a={a:n,b:r};return vt.runKernel("BitwiseAnd",a)}});const ga=It({broadcastArgs_:function(e,t){const n=Tt(e,"s0","broadcastArgs","int32"),r=Tt(t,"s1","broadcastArgs","int32");if(1!==n.rank)throw new Error("broadcastArgs(): first input must be a vector (rank=1). "+"Has rank ".concat(n.rank));if(1!==r.rank)throw new Error("broadcastArgs(): second input must be a vector (rank=1). "+"Has rank ".concat(r.rank));const a={s0:n,s1:r};return vt.runKernel("BroadcastArgs",a)}});const ya=It({broadcastTo_:function(e,t){let n=Tt(e,"broadcastTo","x");const r=n.shape;if(ne(t),t.length<n.rank)throw new Error("broadcastTo(): shape.length=".concat(t.length," < input.rank=").concat(n.rank,"."));if(t.length>n.rank){const e=n.shape.slice();for(;e.length<t.length;)e.unshift(1);n=ea(n,e)}const a=n.shape,o=Array.from(t);for(let l=t.length-1;l>=0;l--)if(a[l]===t[l])o[l]=1;else if(1!==n.shape[l])throw new Error("broadcastTo(): [".concat(r,"] cannot be broadcast to [").concat(t,"]."));if(0===o.map(((e,t)=>e>1?t:-1)).filter((e=>e>=0)).length)return Un(n);const s={x:n},i={reps:o};return vt.runKernel(ye,s,i)}});const ba=It({ceil_:function(e){const t={x:Tt(e,"x","ceil","float32")};return vt.runKernel("Ceil",t)}});const va=It({clipByValue_:function(e,t,n){const r=Tt(e,"x","clipByValue");if(z(t<=n,(()=>"Error in clip: min (".concat(t,") must be ")+"less than or equal to max (".concat(n,")."))),t===n)return or(r.shape,t,r.dtype);const a={x:r},o={clipValueMin:t,clipValueMax:n};return vt.runKernel("ClipByValue",a,o)}});const wa=It({concat1d_:function(e){return ra(e,0)}});const ka=It({concat2d_:function(e,t){return ra(e,t)}});const xa=It({concat3d_:function(e,t){return ra(e,t)}});const Sa=It({concat4d_:function(e,t){return ra(e,t)}});const Na=It({conv2d_:function(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NHWC",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],s=arguments.length>6?arguments[6]:void 0;const i=Tt(e,"x","conv2d","float32"),l=Tt(t,"filter","conv2d","float32");let u=i,c=!1;3===i.rank&&(c=!0,u=ea(i,[1,i.shape[0],i.shape[1],i.shape[2]])),z(4===u.rank,(()=>"Error in conv2d: input must be rank 4, but got rank ".concat(u.rank,"."))),z(4===l.rank,(()=>"Error in conv2d: filter must be rank 4, but got rank "+"".concat(l.rank,"."))),Zr("conv2d",r,s);const d="NHWC"===a?u.shape[3]:u.shape[1];z(d===l.shape[2],(()=>"Error in conv2d: depth of input (".concat(d,") must match ")+"input depth for filter ".concat(l.shape[2],"."))),z(Jr(n,o),(()=>"Error in conv2D: Either strides or dilations must be 1. "+"Got strides ".concat(n," and dilations '").concat(o,"'"))),z(Xr(o),(()=>"Error in conv2D: Dilated rates should be larger than 0.")),z(Xr(n),(()=>"Error in conv2D: Strides should be larger than 0."));const p={x:u,filter:l},h={strides:n,pad:r,dataFormat:a,dilations:o,dimRoundingMode:s},f=vt.runKernel("Conv2D",p,h);return c?ea(f,[f.shape[1],f.shape[2],f.shape[3]]):f}});const Ta=It({conv1d_:function(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NWC",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,s=arguments.length>6?arguments[6]:void 0;const i=Tt(e,"x","conv1d"),l=Tt(t,"filter","conv1d");let u=i,c=!1;2===i.rank&&(c=!0,u=ea(i,[1,i.shape[0],i.shape[1]])),z(3===u.rank,(()=>"Error in conv1d: input must be rank 3, but got rank ".concat(u.rank,"."))),z(3===l.rank,(()=>"Error in conv1d: filter must be rank 3, but got rank "+"".concat(l.rank,"."))),Zr("conv1d",r,s),z(u.shape[2]===l.shape[1],(()=>"Error in conv1d: depth of input (".concat(u.shape[2],") must match ")+"input depth for filter ".concat(l.shape[1],"."))),z(Jr(n,o),(()=>"Error in conv1D: Either stride or dilation must be 1. "+"Got stride ".concat(n," and dilation '").concat(o,"'"))),z(Xr(o),(()=>"Error in conv1D: Dilated rates should be larger than 0.")),z(Xr(n),(()=>"Error in conv1D: Stride should be larger than 0.")),z("NWC"===a,(()=>"Error in conv1d: got dataFormat of ".concat(a," but only NWC is currently supported.")));const d=ea(l,[1,l.shape[0],l.shape[1],l.shape[2]]),p=ea(u,[u.shape[0],1,u.shape[1],u.shape[2]]),h=Na(p,d,[1,n],r,"NHWC",[1,o],s);return ea(h,c?[h.shape[2],h.shape[3]]:[h.shape[0],h.shape[2],h.shape[3]])}});const Ea=It({conv2DBackpropInput_:function(e,t,n,r,a){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NHWC",s=arguments.length>6?arguments[6]:void 0;z(e.length===t.rank,(()=>"Length of inShape "+"(".concat(e.length,") and rank of dy (").concat(t.rank,") must match")));let i=e,l=t,u=!1;3===t.rank&&(u=!0,l=ea(t,[1,t.shape[0],t.shape[1],t.shape[2]]),i=[1,e[0],e[1],e[2]]),z(4===i.length,(()=>"Error in conv2dDerInput: inShape must be length 4, but got length "+"".concat(i.length,"."))),z(4===l.rank,(()=>"Error in conv2dDerInput: dy must be rank 4, but got "+"rank ".concat(l.rank))),z(4===n.rank,(()=>"Error in conv2dDerInput: filter must be rank 4, but got "+"rank ".concat(n.rank)));const c="NHWC"===o?i[3]:i[1],d="NHWC"===o?l.shape[3]:l.shape[1];z(c===n.shape[2],(()=>"Error in conv2dDerInput: depth of input (".concat(c,") must ")+"match input depth for filter ".concat(n.shape[2],"."))),z(d===n.shape[3],(()=>"Error in conv2dDerInput: depth of output (".concat(d,") must ")+"match output depth for filter ".concat(n.shape[3],"."))),Zr("conv2dDerInput",a,s);const p={dy:l,filter:n},h={strides:r,pad:a,dataFormat:o,dimRoundingMode:s,inputShape:i},f=vt.runKernel("Conv2DBackpropInput",p,h);return u?ea(f,[f.shape[1],f.shape[2],f.shape[3]]):f}});const _a=It({conv2dTranspose_:function(e,t,n,r,a,o){const s=Tt(e,"x","conv2dTranspose"),i=Tt(t,"filter","conv2dTranspose");return Ea(n,s,i,r,a,"NHWC",o)}});const Ia=It({conv3d_:function(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NDHWC",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1,1];const s=Tt(e,"x","conv3d"),i=Tt(t,"filter","conv3d");let l=s,u=!1;4===s.rank&&(u=!0,l=ea(s,[1,s.shape[0],s.shape[1],s.shape[2],s.shape[3]])),z(5===l.rank,(()=>"Error in conv3d: input must be rank 5, but got rank ".concat(l.rank,"."))),z(5===i.rank,(()=>"Error in conv3d: filter must be rank 5, but got rank "+"".concat(i.rank,"."))),z(l.shape[4]===i.shape[3],(()=>"Error in conv3d: depth of input (".concat(l.shape[4],") must match ")+"input depth for filter ".concat(i.shape[3],"."))),z(Jr(n,o),(()=>"Error in conv3D: Either strides or dilations must be 1. "+"Got strides ".concat(n," and dilations '").concat(o,"'"))),z("NDHWC"===a,(()=>"Error in conv3d: got dataFormat of ".concat(a," but only NDHWC is currently supported."))),z(Xr(o),(()=>"Error in conv3D: Dilated rates should be larger than 0.")),z(Xr(n),(()=>"Error in conv3D: Strides should be larger than 0."));const c={x:l,filter:i},d={strides:n,pad:r,dataFormat:a,dilations:o},p=vt.runKernel("Conv3D",c,d);return u?ea(p,[p.shape[1],p.shape[2],p.shape[3],p.shape[4]]):p}});const Ca=It({conv3DBackpropInput_:function(e,t,n,r,a){z(e.length===t.rank,(()=>"Length of inShape "+"(".concat(e.length,") and rank of dy (").concat(t.rank,") must match")));let o=e,s=t,i=!1;4===t.rank&&(i=!0,s=ea(t,[1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]]),o=[1,e[0],e[1],e[2],e[3]]);const l=o[4],u=s.shape[4];z(5===o.length,(()=>"Error in conv3dDerInput: inShape must be length 5, but got length "+"".concat(o.length,"."))),z(5===s.rank,(()=>"Error in conv3dDerInput: dy must be rank 5, but got "+"rank ".concat(s.rank))),z(5===n.rank,(()=>"Error in conv3dDerInput: filter must be rank 5, but got "+"rank ".concat(n.rank))),z(l===n.shape[3],(()=>"Error in conv3dDerInput: depth of input (".concat(l,") must ")+"match input depth for filter ".concat(n.shape[3],"."))),z(u===n.shape[4],(()=>"Error in conv3dDerInput: depth of output (".concat(u,") must ")+"match output depth for filter ".concat(n.shape[4],".")));const c={dy:s,filter:n},d={pad:a,strides:r,inputShape:o},p=vt.runKernel("Conv3DBackpropInputV2",c,d);return i?ea(p,[p.shape[1],p.shape[2],p.shape[3],p.shape[4]]):p}});const Aa=It({conv3dTranspose_:function(e,t,n,r,a){const o=Tt(e,"x","conv3dTranspose"),s=Tt(t,"filter","conv3dTranspose");return Ca(n,o,s,r,a)}});const Ma=It({cos_:function(e){const t={x:Tt(e,"x","cos","float32")};return vt.runKernel("Cos",t)}});const Oa=It({cosh_:function(e){const t={x:Tt(e,"x","cosh","float32")};return vt.runKernel("Cosh",t)}});const Da=It({cumprod_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const a={x:Tt(e,"x","cumprod")},o={axis:t,exclusive:n,reverse:r};return vt.runKernel("Cumprod",a,o)}});const Ra=It({cumsum_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const a={x:Tt(e,"x","cumsum")},o={axis:t,exclusive:n,reverse:r};return vt.runKernel("Cumsum",a,o)}});const Pa=It({denseBincount_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const a=Tt(e,"x","denseBincount"),o=Tt(t,"weights","denseBincount");z("int32"===a.dtype,(()=>"Error in denseBincount: input "+"dtype must be int32, but got ".concat(a.dtype))),z(a.rank<=2,(()=>"Error in denseBincount: input must be at most rank 2, but got "+"rank ".concat(a.rank,"."))),z(n>=0,(()=>"size must be non-negative, but got ".concat(n,"."))),z(o.size===a.size||0===o.size,(()=>"Error in denseBincount: weights must have the same shape as x or "+"0-length, but got x shape: ".concat(a.shape,", weights shape: ")+"".concat(o.shape,".")));const s={x:a,weights:o},i={size:n,binaryOutput:r};return vt.runKernel("DenseBincount",s,i)}});const Fa=It({depthToSpace_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"NHWC";const r=Tt(e,"x","depthToSpace","float32"),a="NHWC"===n?r.shape[1]:r.shape[2],o="NHWC"===n?r.shape[2]:r.shape[3],s="NHWC"===n?r.shape[3]:r.shape[1];z(t>1,(()=>"blockSize should be > 1 for depthToSpace, but was: ".concat(t))),z(a*t>=0,(()=>"Negative dimension size caused by overflow when multiplying\n    ".concat(a," and ").concat(t,"  for depthToSpace with input shape\n    ").concat(r.shape))),z(o*t>=0,(()=>"Negative dimension size caused by overflow when multiplying\n    ".concat(o," and ").concat(t," for depthToSpace with input shape\n        ").concat(r.shape))),z(s%(t*t)===0,(()=>"Dimension size must be evenly divisible by ".concat(t*t," but is ").concat(s," for depthToSpace with input shape ").concat(r.shape)));const i={x:r},l={blockSize:t,dataFormat:n};return vt.runKernel("DepthToSpace",i,l)}});const La=It({depthwiseConv2d_:function(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NHWC",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],s=arguments.length>6?arguments[6]:void 0;const i=Tt(e,"x","depthwiseConv2d","float32"),l=Tt(t,"filter","depthwiseConv2d","float32");let u=i,c=!1;3===i.rank&&(c=!0,u=ea(i,[1,i.shape[0],i.shape[1],i.shape[2]])),z(4===u.rank,(()=>"Error in depthwiseConv2d: input must be rank 4, but got "+"rank ".concat(u.rank,"."))),z(4===l.rank,(()=>"Error in depthwiseConv2d: filter must be rank 4, but got rank "+"".concat(l.rank,".")));const d="NHWC"===a?u.shape[3]:u.shape[1];z(d===l.shape[2],(()=>"Error in depthwiseConv2d: number of input channels "+"(".concat(d,") must match the inChannels dimension in ")+"filter ".concat(l.shape[2],"."))),Zr("depthwiseConv2d",r,s);const p={x:u,filter:l},h={strides:n,pad:r,dataFormat:a,dilations:o,dimRoundingMode:s},f=vt.runKernel("DepthwiseConv2dNative",p,h);return c?ea(f,[f.shape[1],f.shape[2],f.shape[3]]):f}});const za=It({diag_:function(e){const t={x:Tt(e,"x","diag")};return vt.runKernel("Diag",t)}});const Ba=It({dilation2d_:function(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[1,1],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NHWC";const s=Tt(e,"x","dilation2d"),i=Tt(t,"filter","dilation2d");z(3===s.rank||4===s.rank,(()=>"Error in dilation2d: input must be rank 3 or 4, but got rank "+"".concat(s.rank,"."))),z(3===i.rank,(()=>"Error in dilation2d: filter must be rank 3, but got rank "+"".concat(i.rank,"."))),z("NHWC"===o,(()=>"Error in dilation2d: Only NHWC is currently supported, "+"but got dataFormat of ".concat(o)));let l=s,u=!1;3===s.rank&&(l=ea(s,[1,s.shape[0],s.shape[1],s.shape[2]]),u=!0),z(l.shape[3]===i.shape[2],(()=>"Error in dilation2d:  input and filter must have the same depth: ".concat(l.shape[3]," vs ").concat(i.shape[2])));const c={x:l,filter:i},d={strides:n,pad:r,dilations:a},p=vt.runKernel("Dilation2D",c,d);return u?ea(p,[p.shape[1],p.shape[2],p.shape[3]]):p}});const Va=It({equal_:function(e,t){let n=Tt(e,"a","equal","string_or_numeric"),r=Tt(t,"b","equal","string_or_numeric");[n,r]=pt(n,r),ur(n.shape,r.shape);const a={a:n,b:r};return vt.runKernel("Equal",a)}});const ja=It({where_:function(e,t,n){const r=Tt(t,"a","where"),a=Tt(n,"b","where"),o=Tt(e,"condition","where","bool"),s=ur(ur(o.shape,r.shape),a.shape),i={condition:ya(o,s),t:ya(r,s),e:ya(a,s)};return vt.runKernel("Select",i)}});const Ua=It({divNoNan_:function(e,t){let n=Tt(e,"a","div"),r=Tt(t,"b","div");[n,r]=pt(n,r);const a=Kn(n,r),o=Yn(a),s=Va(r,o);return ja(s,o,a)}});const Wa=It({dot_:function(e,t){const n=Tt(e,"t1","dot"),r=Tt(t,"t2","dot");z((1===n.rank||2===n.rank)&&(1===r.rank||2===r.rank),(()=>"Error in dot: inputs must all be rank 1 or 2, but got ranks "+"".concat(n.rank," and ").concat(r.rank,".")));const a=1===n.rank?n.size:n.shape[1],o=1===r.rank?r.size:r.shape[0];if(z(a===o,(()=>"Error in dot: inner dimensions of inputs must match, but got "+"".concat(a," and ").concat(o,"."))),1===n.rank&&1===r.rank){const e=ea(n,[1,-1]),t=ea(r,[-1,1]),a=aa(e,t);return ea(a,[])}if(1===n.rank&&2===r.rank){const e=ea(n,[1,-1]),t=ea(r,[r.shape[0],r.shape[1]]),a=aa(e,t);return ea(a,[a.size])}if(2===n.rank&&1===r.rank){const e=ea(r,[-1,1]),t=aa(n,e);return ea(t,[t.size])}{const e=ea(r,[r.shape[0],r.shape[1]]);return aa(n,e)}}});const qa=It({einsum_:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const a=n.map(((e,t)=>Tt(e,"tensors".concat(t),"einsum"))),o={equation:e};return vt.runKernel("Einsum",a,o)}});const Ha=It({elu_:function(e){const t={x:Tt(e,"x","elu","float32")};return vt.runKernel("Elu",t)}});const Ka=It({ensureShape_:function(e,t){const n=Tt(e,"x","ensureShape","string_or_numeric");if(!function(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(null!==e[n]&&null!==t[n]&&e[n]!==t[n])return!1;return!0}(n.shape,t))throw new Error("EnsureShape: Shape of tensor ".concat(n.shape," is not compatible with expected shape ").concat(t));return e}});const Ga=It({erf_:function(e){let t=Tt(e,"x","erf");z("int32"===t.dtype||"float32"===t.dtype,(()=>"Input dtype must be `int32` or `float32`.")),"int32"===t.dtype&&(t=jn(t,"float32"));const n={x:t};return vt.runKernel("Erf",n)}});function Qa(e,t){return function(e,t,n){const r=e.length+t.length,a=[];let o=0,s=0;for(let i=0;i<r;i++)-1===n.indexOf(i)?a.push(e[o++]):a.push(t[s++]);return a}(e,t.map((e=>1)),t)}const $a=It({max_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r={x:Tt(e,"x","max")},a={reductionIndices:t,keepDims:n};return vt.runKernel("Max",r,a)}});const Ya=It({min_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r={x:Tt(e,"x","min")},a={axis:t,keepDims:n};return vt.runKernel("Min",r,a)}});const Ja=It({sum_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=Tt(e,"x","sum");"bool"===r.dtype&&(r=jn(r,"int32"));const a={x:r},o={axis:t,keepDims:n};return vt.runKernel("Sum",a,o)}});function Xa(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(0===e.rank)return lr(e);if(1!==e.rank&&null===n)return Xa(ea(e,[-1]),t,n);if(1===e.rank||"number"===typeof n||Array.isArray(n)&&1===n.length){if(1===t)return Ja(lr(e),n);if(t===1/0)return $a(lr(e),n);if(t===-1/0)return Ya(lr(e),n);if("euclidean"===t||2===t)return Qn(Ja(sr(lr(e),Xn(2,"int32")),n));throw new Error("Error in norm: invalid ord value: ".concat(t))}if(Array.isArray(n)&&2===n.length){if(1===t)return $a(Ja(lr(e),n[0]),n[1]-1);if(t===1/0)return $a(Ja(lr(e),n[1]),n[0]);if(t===-1/0)return Ya(Ja(lr(e),n[1]),n[0]);if("fro"===t||"euclidean"===t)return Qn(Ja($n(e),n));throw new Error("Error in norm: invalid ord value: ".concat(t))}throw new Error("Error in norm: invalid axis: ".concat(n))}const Za=It({norm_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"euclidean",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const a=Xa(e=Tt(e,"x","norm"),t,n);let o=a.shape;if(r){const t=H(n,e.shape);o=Qa(a.shape,t)}return ea(a,o)}});const eo=It({euclideanNorm_:function(e){return Za(e,"euclidean",arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]&&arguments[2])}});const to=It({exp_:function(e){const t={x:Tt(e,"x","exp")};return vt.runKernel("Exp",t)}});const no=It({expandDims_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=Tt(e,"x","expandDims","string_or_numeric");z(t<=n.rank,(()=>"Axis must be <= rank of the tensor"));const r={input:n},a={dim:t};return vt.runKernel("ExpandDims",r,a)}});const ro=It({expm1_:function(e){const t={x:Tt(e,"x","expm1")};return vt.runKernel("Expm1",t)}});const ao=It({tile_:function(e,t){const n=Tt(e,"x","tile","string_or_numeric");z(n.rank===t.length,(()=>"Error in transpose: rank of input ".concat(n.rank," ")+"must match length of reps ".concat(t,".")));const r={x:n},a={reps:t};return vt.runKernel(ye,r,a)}});const oo=It({eye_:function(e,t,n){null==t&&(t=e);const r=Vn([e,t],arguments.length>3&&void 0!==arguments[3]?arguments[3]:"float32"),a=e<=t?e:t;for(let s=0;s<a;++s)r.set(1,s,s);const o=ea(r.toTensor(),[e,t]);if(null==n)return o;if(1===n.length)return ao(no(o,0),[n[0],1,1]);if(2===n.length)return ao(no(no(o,0),0),[n[0],n[1],1,1]);if(3===n.length)return ao(no(no(no(o,0),0),0),[n[0],n[1],n[2],1,1]);throw new Error("eye() currently supports only 1D and 2D "+"batchShapes, but received ".concat(n.length,"D."))}});const so=It({floor_:function(e){const t={x:Tt(e,"x","floor","float32")};return vt.runKernel("Floor",t)}});const io=It({gather_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;const a={x:Tt(e,"x","gather"),indices:Tt(t,"indices","gather","int32")},o={axis:n,batchDims:r};return vt.runKernel("GatherV2",a,o)}});const lo=It({greater_:function(e,t){let n=Tt(e,"a","greater","string_or_numeric"),r=Tt(t,"b","greater","string_or_numeric");[n,r]=pt(n,r),ur(n.shape,r.shape);const a={a:n,b:r};return vt.runKernel("Greater",a)}});const uo=It({greaterEqual_:function(e,t){let n=Tt(e,"a","greaterEqual","string_or_numeric"),r=Tt(t,"b","greaterEqual","string_or_numeric");[n,r]=pt(n,r),ur(n.shape,r.shape);const a={a:n,b:r};return vt.runKernel("GreaterEqual",a)}});const co=It({imag_:function(e){const t={input:Tt(e,"input","imag")};return vt.runKernel("Imag",t)}});const po=It({isFinite_:function(e){const t={x:Tt(e,"x","isFinite")};return vt.runKernel("IsFinite",t)}});const ho=It({isInf_:function(e){const t={x:Tt(e,"x","isInf")};return vt.runKernel("IsInf",t)}});const fo=It({isNaN_:function(e){const t={x:Tt(e,"x","isNaN")};return vt.runKernel("IsNan",t)}});const mo=It({leakyRelu_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.2;const n={x:Tt(e,"x","leakyRelu")},r={alpha:t};return vt.runKernel("LeakyRelu",n,r)}});const go=It({less_:function(e,t){let n=Tt(e,"a","less","string_or_numeric"),r=Tt(t,"b","less","string_or_numeric");[n,r]=pt(n,r),ur(n.shape,r.shape);const a={a:n,b:r};return vt.runKernel("Less",a)}});const yo=It({lessEqual_:function(e,t){let n=Tt(e,"a","lessEqual","string_or_numeric"),r=Tt(t,"b","lessEqual","string_or_numeric");[n,r]=pt(n,r),ur(n.shape,r.shape);const a={a:n,b:r};return vt.runKernel("LessEqual",a)}});function bo(e,t,n){if(n<=0)throw new Error("The number of values should be positive.");const r={start:e,stop:t,num:n};return vt.runKernel(me,{},r)}const vo=It({localResponseNormalization_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.5;const o=Tt(e,"x","localResponseNormalization");z(4===o.rank||3===o.rank,(()=>"Error in localResponseNormalization: x must be rank 3 or 4 but got\n               rank ".concat(o.rank,"."))),z(W(t),(()=>"Error in localResponseNormalization: depthRadius must be an "+"integer but got depthRadius ".concat(t,".")));let s=o,i=!1;3===o.rank&&(i=!0,s=ea(o,[1,o.shape[0],o.shape[1],o.shape[2]]));const l={x:s},u={depthRadius:t,bias:n,alpha:r,beta:a},c=vt.runKernel("LRN",l,u);return i?ea(c,[c.shape[1],c.shape[2],c.shape[3]]):c}});const wo=It({log_:function(e){const t={x:Tt(e,"x","log","float32")};return vt.runKernel("Log",t)}});const ko=It({log1p_:function(e){const t={x:Tt(e,"x","log1p")};return vt.runKernel("Log1p",t)}});const xo=It({neg_:function(e){const t={x:Tt(e,"x","neg")};return vt.runKernel("Neg",t)}});const So=It({softplus_:function(e){const t={x:Tt(e,"x","softplus")};return vt.runKernel("Softplus",t)}});const No=It({logSigmoid_:function(e){const t=Tt(e,"x","logSigmoid");return Jn((e=>({value:xo(So(xo(e))),gradFunc:t=>Gn(t,oa(xo(e)))})))(t)}});const To=It({logSoftmax_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;const n=Tt(e,"logits","logSoftmax");if(-1===t&&(t=n.rank-1),t!==n.rank-1)throw Error("Log Softmax along a non-last dimension is not yet supported. "+"Logits was rank ".concat(n.rank," and axis was ").concat(t));const r=Jn(((e,n)=>{const r=$a(e,t,!0),a=ir(e,r),o=ir(jn(a,"float32"),wo(Ja(to(a),t,!0)));n([o]);return{value:o,gradFunc:(e,n)=>{const[r]=n,a=to(r);return ir(e,Gn(Ja(e,t,!0),a))}}}));return r(n)}});const Eo=It({logSumExp_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=Tt(e,"x","logSumExp"),a=H(t,r.shape),o=$a(r,a,!0),s=ir(r,o),i=to(s),l=Ja(i,a),u=wo(l),c=qn(ea(o,u.shape),u);if(n){const e=Qa(c.shape,a);return ea(c,e)}return c}});const _o=It({logicalAnd_:function(e,t){const n=Tt(e,"a","logicalAnd","bool"),r=Tt(t,"b","logicalAnd","bool");ur(n.shape,r.shape);const a={a:n,b:r};return vt.runKernel("LogicalAnd",a)}});const Io=It({logicalNot_:function(e){const t={x:Tt(e,"x","logicalNot","bool")};return vt.runKernel("LogicalNot",t)}});const Co=It({logicalOr_:function(e,t){const n=Tt(e,"a","logicalOr","bool"),r=Tt(t,"b","logicalOr","bool");ur(n.shape,r.shape);const a={a:n,b:r};return vt.runKernel("LogicalOr",a)}});const Ao=It({logicalXor_:function(e,t){const n=Tt(e,"a","logicalXor","bool"),r=Tt(t,"b","logicalXor","bool");return ur(n.shape,r.shape),_o(Co(e,t),Io(_o(e,t)))}}),Mo=2147483648;const Oo=It({searchSorted_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"left";const r=Tt(e,"sortedSequence","searchSorted"),a=Tt(t,"values","searchSorted"),o=r.shape[r.shape.length-1],s=a.shape[a.shape.length-1],i=ea(r,[-1,o]),l=ea(a,[-1,s]);if(i.rank<2)throw new Error("Sorted input argument must be at least 2-dimensional");if(i.shape[0]!==l.shape[0])throw new Error("Leading dimension of 'sortedSequence' and 'values' must match.");if(j(l.shape)>=Mo)throw new Error("values tensor size must less than ".concat(Mo));if(i.shape[1]>=Mo)throw new Error("trailing dim_size must less than ".concat(Mo," for int32 output type, was ").concat(i.shape[1]));const u={sortedSequence:i,values:l},c={side:n};return vt.runKernel("SearchSorted",u,c)}});function Do(e,t){return Oo(e,t,"left")}const Ro=It({maxPool_:function(e,t,n,r,a){const o=Tt(e,"x","maxPool");let s=o,i=!1;3===o.rank&&(i=!0,s=ea(o,[1,o.shape[0],o.shape[1],o.shape[2]])),z(4===s.rank,(()=>"Error in maxPool: input must be rank 4 but got rank ".concat(s.rank,"."))),z(Jr(n,1),(()=>"Error in maxPool: Either strides or dilations must be 1. "+"Got strides ".concat(n," and dilations '").concat(1,"'"))),Zr("maxPool",r,a);const l={x:s},u={filterSize:t,strides:n,pad:r,dimRoundingMode:a},c=vt.runKernel("MaxPool",l,u);return i?ea(c,[c.shape[1],c.shape[2],c.shape[3]]):c}});const Po=It({maxPool3d_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[1,1,1],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NDHWC";const s=Tt(e,"x","maxPool3d");let i=s,l=!1;4===s.rank&&(l=!0,i=ea(s,[1,s.shape[0],s.shape[1],s.shape[2],s.shape[3]])),z(5===i.rank,(()=>"Error in maxPool3d: x must be rank 5 but got rank ".concat(i.rank,"."))),z("NDHWC"===o,(()=>"Error in maxPool3d: Only NDHWC is currently supported, "+"but got dataFormat of ".concat(o))),Zr("maxPool3d",r,a);const u={x:i},c={filterSize:t,strides:n,pad:r,dimRoundingMode:a,dataFormat:o},d=vt.runKernel("MaxPool3D",u,c);return l?ea(d,[d.shape[1],d.shape[2],d.shape[3],d.shape[4]]):d}});const Fo=It({maxPoolWithArgmax_:function(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const o={x:Tt(e,"x","maxPoolWithArgmax")},s={filterSize:t,strides:n,pad:r,includeBatchInIndex:a},i=vt.runKernel("MaxPoolWithArgmax",o,s);return{result:i[0],indexes:i[1]}}});const Lo=It({mean_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r={x:Tt(e,"x","mean")},a={axis:t,keepDims:n};return vt.runKernel("Mean",r,a)}});function zo(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"float32";if(ne(e),"complex64"===t){const t=zo(e,"float32"),n=zo(e,"float32");return Ct(t,n)}const n=te(j(e),t);return vt.makeTensor(n,e,t)}function Bo(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"float32";if(ne(e),"complex64"===t){const t=Bo(e,"float32"),n=zo(e,"float32");return Ct(t,n)}const n=ee(j(e),t);return vt.makeTensor(n,e,t)}function Vo(e,t){let{indexing:n="xy"}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("xy"!==n&&"ij"!==n)throw new TypeError("".concat(n," is not a valid third argument to meshgrid"));if(void 0===e)return[];let r=Tt(e,"x","meshgrid",e instanceof et?e.dtype:"float32");if(void 0===t)return[r];let a=Tt(t,"y","meshgrid",t instanceof et?t.dtype:"float32");const o=j(r.shape),s=j(a.shape);return"xy"===n?(r=ea(r,[1,-1]),a=ea(a,[-1,1]),[aa(Bo([s,1],r.dtype),r),aa(a,Bo([1,o],a.dtype))]):(r=ea(r,[-1,1]),a=ea(a,[1,-1]),[aa(r,Bo([1,s],r.dtype)),aa(Bo([o,1],a.dtype),a)])}const jo=It({minimum_:function(e,t){let n=Tt(e,"a","minimum"),r=Tt(t,"b","minimum");[n,r]=pt(n,r),"bool"===n.dtype&&(n=jn(n,"int32"),r=jn(r,"int32")),ur(n.shape,r.shape);const a={a:n,b:r};return vt.runKernel("Minimum",a)}});const Uo=It({mirrorPad_:function(e,t,n){z("reflect"===n||"symmetric"===n,(()=>"Invalid mode. Mode must be either reflect or symmetric. "+"Got ".concat(n,".")));const r=Tt(e,"x","mirrorPad");if(0===r.rank)throw new Error("mirrorPad(scalar) is not defined. Pass non-scalar to mirrorPad");z(t.length===r.rank,(()=>"Padding doesn't match input. Must be ".concat(r.rank,". ")+"Got ".concat(t.length,".")));const a="reflect"===n?1:0;for(let i=0;i<r.rank;i++)z(2===t[i].length,(()=>"Invalid number of paddings. Must be length of 2 each.")),z(t[i][0]>=0&&t[i][0]<=r.shape[i]-a&&t[i][1]>=0&&t[i][1]<=r.shape[i]-a,(()=>"Padding in dimension ".concat(i," cannot be greater than or equal ")+"to ".concat(r.shape[i]-a," or less than 0 for input of ")+"shape ".concat(r.shape)));const o={paddings:t,mode:n},s={x:r};return vt.runKernel("MirrorPad",s,o)}});const Wo=It({mod_:function(e,t){let n=Tt(e,"a","mod"),r=Tt(t,"b","mod");[n,r]=pt(n,r);const a={a:n,b:r};return vt.runKernel("Mod",a)}});const qo=It({moments_:function(e){let t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const n=H(arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,(e=Tt(e,"x","moments")).shape),r=Lo(e,n,t);let a=r.shape;t||(a=Qa(r.shape,n));const o=$n(ir(jn(e,"float32"),ea(r,a)));return{mean:r,variance:Lo(o,n,t)}}});const Ho=It({multiRNNCell_:function(e,t,n,r){const a=Tt(t,"data","multiRNNCell"),o=Et(n,"c","multiRNNCell"),s=Et(r,"h","multiRNNCell");let i=a;const l=[];for(let d=0;d<e.length;d++){const t=e[d](i,o[d],s[d]);l.push(t[0]),l.push(t[1]),i=t[1]}const u=[],c=[];for(let d=0;d<l.length;d+=2)u.push(l[d]),c.push(l[d+1]);return[u,c]}});const Ko=It({multinomial_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const a=Tt(e,"logits","multinomial"),o=a.size,s=a.rank;if(o<2)throw new Error("Error in multinomial: you need at least 2 outcomes, but got "+"".concat(o,"."));if(s>2)throw new Error("Rank of probabilities must be 1 or 2, but is ".concat(s));n=n||Math.random();const i={logits:1===s?ea(a,[1,-1]):a},l={numSamples:t,seed:n,normalized:r},u=vt.runKernel("Multinomial",i,l);return 1===s?ea(u,[u.size]):u}});const Go=It({notEqual_:function(e,t){let n=Tt(e,"a","notEqual","string_or_numeric"),r=Tt(t,"b","notEqual","string_or_numeric");[n,r]=pt(n,r),ur(n.shape,r.shape);const a={a:n,b:r};return vt.runKernel("NotEqual",a)}});const Qo=It({oneHot_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"int32";if(t<2)throw new Error("Error in oneHot: depth must be >=2, but it is ".concat(t));const o={indices:Tt(e,"indices","oneHot","int32")},s={dtype:a,depth:t,onValue:n,offValue:r};return vt.runKernel("OneHot",o,s)}});const $o=It({onesLike_:function(e){const t={x:Tt(e,"x","onesLike")};return vt.runKernel("OnesLike",t)}});const Yo=It({outerProduct_:function(e,t){const n=Tt(e,"v1","outerProduct"),r=Tt(t,"v2","outerProduct");z(1===n.rank&&1===r.rank,(()=>"Error in outerProduct: inputs must be rank 1, but got ranks "+"".concat(n.rank," and ").concat(r.rank,".")));const a=ea(n,[-1,1]),o=ea(r,[1,-1]);return aa(a,o)}});const Jo=It({pad_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=Tt(e,"x","pad");if(0===r.rank)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");const a={paddings:t,constantValue:n},o={x:r};return vt.runKernel("PadV2",o,a)}});const Xo=It({pad1d_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return z(2===t.length,(()=>"Invalid number of paddings. Must be length of 2.")),Jo(e,[t],n)}});const Zo=It({pad2d_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return z(2===t.length&&2===t[0].length&&2===t[1].length,(()=>"Invalid number of paddings. Must be length of 2 each.")),Jo(e,t,n)}});const es=It({pad3d_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return z(3===t.length&&2===t[0].length&&2===t[1].length&&2===t[2].length,(()=>"Invalid number of paddings. Must be length of 2 each.")),Jo(e,t,n)}});const ts=It({pad4d_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return z(4===t.length&&2===t[0].length&&2===t[1].length&&2===t[2].length&&2===t[3].length,(()=>"Invalid number of paddings. Must be length of 2 each.")),Jo(e,t,n)}});const ns=It({spaceToBatchND_:function(e,t,n){const r=Tt(e,"x","spaceToBatchND");z(r.rank>=1+t.length,(()=>"input rank ".concat(r.rank," should be > than [blockShape] ").concat(t.length))),z(n.length===t.length,(()=>"paddings.shape[0] ".concat(n.length," must be equal to [blockShape] ").concat(t.length))),z(r.shape.reduce(((e,r,a)=>a>0&&a<=t.length?e&&(r+n[a-1][0]+n[a-1][1])%t[a-1]===0:e),!0),(()=>"input spatial dimensions ".concat(r.shape.slice(1)," with paddings ").concat(n.toString()," must be divisible by blockShapes ").concat(t.toString())));const a={x:r},o={blockShape:t,paddings:n};return vt.runKernel("SpaceToBatchND",a,o)}});const rs=It({pool_:function(e,t,n,r,a,o,s){null==a&&(a=[1,1]),null==o&&(o=1),0===r&&(r="valid");const i=Tt(e,"x","maxPool");let l=i,u=!1;3===i.rank&&(u=!0,l=ea(i,[1,i.shape[0],i.shape[1],i.shape[2]])),z(Jr(o,a),(()=>"Error in pool: Either strides or dilations must be 1. "+"Got strides ".concat(o," and dilations '").concat(a,"'")));const c=function(e,t,n,r,a,o){let s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"channelsLast";const[i,l]=Gr(t);let u;if("channelsLast"===s)u=[i,l,e[3],e[3]];else{if("channelsFirst"!==s)throw new Error("Unknown dataFormat ".concat(s));u=[i,l,e[1],e[1]]}return Hr(e,u,n,r,a,o,!1,s)}(l.shape,t,o,a,r),d=[c.dilationHeight,c.dilationWidth];let p;p="same"===r?function(e,t){const n=e.map(((e,n)=>e+(e-1)*(t[n]-1))),r=n.map((e=>e-1)),a=r.map((e=>Math.floor(e/2))),o=r.map(((e,t)=>e-a[t]));return r.map(((e,t)=>[a[t],o[t]]))}([c.filterHeight,c.filterWidth],d):[[0,0],[0,0]];const h=1===d[0]&&1===d[1],[f,m]=function(e,t,n){const r=n.map((e=>e[0])),a=n.map((e=>e[1])),o=e.concat(r,a),s=t.map(((e,t)=>(e-o[t]%e)%e)),i=a.map(((e,t)=>e+s[t])),l=t.map(((e,t)=>[r[t],i[t]])),u=t.map(((e,t)=>[0,s[t]]));return[l,u]}([c.inHeight,c.inWidth],d,p),g=h?r:"valid",y=h?l:ns(l,d,f),b=("avg"===n?()=>ta(y,t,o,g,s):()=>Ro(y,t,o,g,s))(),v=h?b:ua(b,d,m);return u?ea(v,[v.shape[1],v.shape[2],v.shape[3]]):v}});const as=It({prelu_:function(e,t){const n={x:Tt(e,"x","prelu"),alpha:Tt(t,"alpha","prelu")};return vt.runKernel("Prelu",n)}});const os=It({prod_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=Tt(e,"x","prod");"bool"===r.dtype&&(r=jn(r,"int32"));const a={x:r},o={axis:t,keepDims:n};return vt.runKernel("Prod",a,o)}});const ss=It({raggedGather_:function(e,t,n,r){const a={paramsNestedSplits:e.map(((e,t)=>Tt(e,"tensors".concat(t),"raggedGather","int32"))),paramsDenseValues:Tt(t,"paramsDenseValues","raggedGather"),indices:Tt(n,"indices","raggedGather","int32")},o={outputRaggedRank:r},s=vt.runKernel("RaggedGather",a,o);return{outputNestedSplits:s.slice(0,s.length-1),outputDenseValues:s[s.length-1]}}});const is=It({raggedRange_:function(e,t,n){const r=Tt(e,"starts","raggedRange"),a={starts:r,limits:Tt(t,"limits","raggedRange",r.dtype),deltas:Tt(n,"deltas","raggedRange",r.dtype)},o=vt.runKernel("RaggedRange",a);return{rtNestedSplits:o[0],rtDenseValues:o[1]}}});const ls=It({raggedTensorToTensor_:function(e,t,n,r,a){const o=Tt(e,"shape","raggedTensorToTensor","int32"),s=Tt(t,"values","raggedTensorToTensor"),i={shape:o,values:s,defaultValue:Tt(n,"defaultValue","raggedTensorToTensor",s.dtype),rowPartitionTensors:r.map(((e,t)=>Tt(e,"tensors".concat(t),"raggedTensorToTensor","int32")))},l={rowPartitionTypes:a};return vt.runKernel("RaggedTensorToTensor",i,l)}});const us=It({rand_:function(e,t,n){ne(e);const r=j(e);let a=null;if(null==n||"float32"===n)a=new Float32Array(r);else if("int32"===n)a=new Int32Array(r);else{if("bool"!==n)throw new Error("Unknown data type ".concat(n));a=new Uint8Array(r)}for(let o=0;o<r;o++)a[o]=t();return vt.makeTensor(a,e,n)}});var cs=n(334);class ds{constructor(e,t,n,r,a){this.mean=e,this.stdDev=t,this.dtype=n,this.nextVal=NaN,this.truncated=r,this.truncated&&(this.upper=this.mean+2*this.stdDev,this.lower=this.mean-2*this.stdDev);const o=a||Math.random();this.random=cs.alea(o.toString())}nextValue(){if(!isNaN(this.nextVal)){const e=this.nextVal;return this.nextVal=NaN,e}let e,t,n=!1;for(;!n;){let r,a,o;do{r=2*this.random()-1,a=2*this.random()-1,o=r*r+a*a}while(o>=1||0===o);const s=Math.sqrt(-2*Math.log(o)/o);e=this.mean+this.stdDev*r*s,t=this.mean+this.stdDev*a*s,this.truncated&&!this.isValidTruncated(e)||(n=!0)}return this.truncated&&!this.isValidTruncated(t)||(this.nextVal=this.convertValue(t)),this.convertValue(e)}convertValue(e){return null==this.dtype||"float32"===this.dtype?e:Math.round(e)}isValidTruncated(e){return e<=this.upper&&e>=this.lower}}class ps{constructor(e,t,n,r){this.alpha=e,this.beta=1/t,this.dtype=n;const a=r||Math.random();this.randu=cs.alea(a.toString()),this.randn=new ds(0,1,n,!1,this.randu()),this.d=e<1?e+2/3:e-1/3,this.c=1/Math.sqrt(9*this.d)}nextValue(){let e,t,n,r,a,o;for(;;){do{r=this.randn.nextValue(),o=1+this.c*r}while(o<=0);if(o*=o*o,e=r*r,t=1-.331*e*e,n=.5*e+this.d*(1-o+Math.log(o)),a=this.randu(),a<t||Math.log(a)<n)break}return o=1/this.beta*this.d*o,this.alpha<1&&(o*=Math.pow(this.randu(),1/this.alpha)),this.convertValue(o)}convertValue(e){return"float32"===this.dtype?e:Math.round(e)}}class hs{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;if(this.canReturnFloat=()=>null==this.dtype||"float32"===this.dtype,this.min=e,this.range=t-e,this.dtype=n,null==r&&(r=Math.random()),"number"===typeof r&&(r=r.toString()),!this.canReturnFloat()&&this.range<=1)throw new Error("The difference between ".concat(e," - ").concat(t," <= 1 and dtype is not float"));this.random=cs.alea(r)}convertValue(e){return this.canReturnFloat()?e:Math.round(e)}nextValue(){return this.convertValue(this.min+this.range*this.random())}}const fs=It({randomGamma_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"float32",a=arguments.length>4?arguments[4]:void 0;if(ne(e),null==n&&(n=1),null==r&&(r="float32"),"float32"!==r&&"int32"!==r)throw new Error("Unsupported data type ".concat(r));const o=new ps(t,n,r,a),s=Vn(e,r);for(let i=0;i<s.values.length;i++)s.values[i]=o.nextValue();return s.toTensor()}});const ms=It({randomNormal_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0;if(ne(e),null!=r&&"bool"===r)throw new Error("Unsupported data type ".concat(r));const o=new ds(t,n,r,!1,a),s=Vn(e,r);for(let i=0;i<s.values.length;i++)s.values[i]=o.nextValue();return s.toTensor()}});const gs=It({randomStandardNormal_:function(e,t,n){if(null!=t&&"bool"===t)throw new Error("Unsupported data type ".concat(t));return ms(e,0,1,t,n)}});const ys=It({randomUniform_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"float32",a=arguments.length>4?arguments[4]:void 0;ne(e);const o=Vn(e,r),s=new hs(t,n,null,a);for(let i=0;i<o.values.length;i++)o.values[i]=s.nextValue();return o.toTensor()}});const bs=It({randomUniformInt_:function(e,t,n,r){return ys(e,t,n,"int32",r)}});function vs(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"float32";if(0===n)throw new Error("Cannot have a step of zero");const a={start:e,stop:t,step:n,dtype:r};return vt.runKernel(ge,{},a)}const ws=It({real_:function(e){const t={input:Tt(e,"input","real")};return vt.runKernel("Real",t)}});const ks=It({reciprocal_:function(e){const t={x:Tt(e,"x","reciprocal")};return vt.runKernel("Reciprocal",t)}});const xs=It({relu_:function(e){const t={x:Tt(e,"x","relu")};return vt.runKernel("Relu",t)}});const Ss=It({relu6_:function(e){const t={x:Tt(e,"x","relu6")};return vt.runKernel("Relu6",t)}});const Ns=It({reverse_:function(e,t){const n={x:Tt(e,"x","reverse")},r={dims:t};return vt.runKernel("Reverse",n,r)}});const Ts=It({reverse1d_:function(e){const t=Tt(e,"x","reverse");return z(1===t.rank,(()=>"Error in reverse1D: x must be rank 1 but got rank ".concat(t.rank,"."))),Ns(t,0)}});const Es=It({reverse2d_:function(e,t){const n=Tt(e,"x","reverse");return z(2===n.rank,(()=>"Error in reverse2D: x must be rank 2 but got rank ".concat(n.rank,"."))),Ns(n,t)}});const _s=It({reverse3d_:function(e,t){const n=Tt(e,"x","reverse");return z(3===n.rank,(()=>"Error in reverse3D: x must be rank 3 but got rank ".concat(n.rank,"."))),Ns(n,t)}});const Is=It({reverse4d_:function(e,t){const n=Tt(e,"x","reverse");return z(4===n.rank,(()=>"Error in reverse4D: x must be rank 4 but got rank ".concat(n.rank,"."))),Ns(n,t)}});const Cs=It({round_:function(e){const t={x:Tt(e,"x","round")};return vt.runKernel("Round",t)}});const As=It({rsqrt_:function(e){const t={x:Tt(e,"x","rsqrt","float32")};return vt.runKernel("Rsqrt",t)}});const Ms=It({selu_:function(e){const t={x:Tt(e,"x","selu")};return vt.runKernel("Selu",t)}});const Os=It({separableConv2d_:function(e,t,n,r,a){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"NHWC";const i=Tt(e,"x","separableConv2d"),l=Tt(t,"depthwiseFilter","separableConv2d"),u=Tt(n,"pointwiseFilter","separableConv2d");let c=i,d=!1;if(3===i.rank&&(d=!0,c=ea(i,[1,i.shape[0],i.shape[1],i.shape[2]])),"NCHW"===s)throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");z(4===c.rank,(()=>"Error in separableConv2d: input must be rank 4, but got "+"rank ".concat(c.rank,"."))),z(4===l.rank,(()=>"Error in separableConv2d: depthwise filter must be rank 4, but "+"got rank ".concat(l.rank,"."))),z(4===u.rank,(()=>"Error in separableConv2d: pointwise filter must be rank 4, but "+"got rank ".concat(l.rank,"."))),z(1===u.shape[0],(()=>"Error in separableConv2d: the first dimension of pointwise filter "+" must be 1, but got ".concat(u.shape[0],"."))),z(1===u.shape[1],(()=>"Error in separableConv2d: the second dimension of pointwise "+"filter must be 1, but got ".concat(u.shape[1],".")));const p=l.shape[2],h=l.shape[3];z(u.shape[2]===p*h,(()=>"Error in separableConv2d: the third dimension of pointwise filter "+"must be ".concat(p*h,", ")+"but got ".concat(u.shape[2],".")));const f=La(c,l,r,a,s,o),m=Na(f,u,1,"valid",s);return d?ea(m,[m.shape[1],m.shape[2],m.shape[3]]):m}});const Ds=async function(e,t){const n=Tt(e,"x","setdiff1d"),r=Tt(t,"y","setdiff1d");z(n.dtype===r.dtype,(()=>"x and y should have the same dtype, but got x (".concat(n.dtype,") and y (").concat(r.dtype,")."))),z(1===n.rank,(()=>"x should be 1D tensor, but got x (".concat(n.shape,")."))),z(1===r.rank,(()=>"y should be 1D tensor, but got y (".concat(r.shape,").")));const a=await n.data(),o=await r.data(),s=new Set(o);let i=0;for(let c=0;c<a.length;c++)s.has(a[c])||i++;const l=new Ye([i],n.dtype),u=new Ye([i],"int32");for(let c=0,d=0;c<a.length;c++)s.has(a[c])||(l.values[d]=a[c],u.values[d]=c,d++);return[l.toTensor(),u.toTensor()]};const Rs=It({sign_:function(e){const t={x:Tt(e,"x","sign")};return vt.runKernel("Sign",t)}});const Ps=It({sin_:function(e){const t={x:Tt(e,"x","sin","float32")};return vt.runKernel("Sin",t)}});const Fs=It({sinh_:function(e){const t={x:Tt(e,"x","sinh")};return vt.runKernel("Sinh",t)}});const Ls=It({slice1d_:function(e,t,n){const r=Tt(e,"x","slice1d");return z(1===r.rank,(()=>"slice1d expects a rank-1 tensor, but got a rank-".concat(r.rank," tensor"))),sa(r,[t],[n])}});const zs=It({slice2d_:function(e,t,n){const r=Tt(e,"x","slice2d");return z(2===r.rank,(()=>"slice2d expects a rank-2 tensor, but got a rank-".concat(r.rank," tensor"))),sa(r,t,n)}});const Bs=It({slice3d_:function(e,t,n){const r=Tt(e,"x","slice3d");return z(3===r.rank,(()=>"slice3d expects a rank-3 tensor, but got a rank-".concat(r.rank," tensor"))),sa(r,t,n)}});const Vs=It({slice4d_:function(e,t,n){const r=Tt(e,"x","slice4d");return z(4===r.rank,(()=>"slice4d expects a rank-4 tensor, but got a rank-".concat(r.rank," tensor"))),sa(r,t,n)}});const js=It({softmax_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;const n=Tt(e,"logits","softmax","float32");if(-1===t&&(t=n.rank-1),t!==n.rank-1)throw Error("Softmax along a non-last dimension is not yet supported. "+"Logits was rank ".concat(n.rank," and dim was ").concat(t));const r={logits:n},a={dim:t};return vt.runKernel("Softmax",r,a)}});const Us=It({fft_:function(e){z("complex64"===e.dtype,(()=>"The dtype for tf.spectral.fft() must be complex64 "+"but got ".concat(e.dtype,".")));const t={input:e};return vt.runKernel("FFT",t)}});const Ws=It({ifft_:function(e){z("complex64"===e.dtype,(()=>"The dtype for tf.spectral.ifft() must be complex64 "+"but got ".concat(e.dtype,".")));const t={input:e};return vt.runKernel("IFFT",t)}});const qs=It({irfft_:function(e){const t=e.shape[e.shape.length-1],n=e.size/t;let r;if(t<=2){const a=ea(e,[n,t]);r=Ws(a)}else{const a=[n,2*(t-1)],o=ea(ws(e),[n,t]),s=ea(co(e),[n,t]),i=Ns(sa(o,[0,1],[n,t-2]),1),l=Gn(Ns(sa(s,[0,1],[n,t-2]),1),Xn(-1)),u=ra([o,i],1),c=ra([s,l],1),d=ea(Ct(u,c),[a[0],a[1]]);r=Ws(d)}if(r=ws(r),3===e.rank&&0!==e.shape[0]){const t=r,n=e.shape[0];r=ea(r,[n,r.shape[0]/n,r.shape[1]]),t.dispose()}return r}});const Hs=It({split_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r={x:Tt(e,"x","split")},a={numOrSizeSplits:t,axis:n};return vt.runKernel("SplitV",r,a)}});const Ks=It({rfft_:function(e,t){z("float32"===e.dtype,(()=>"The dtype for rfft() must be real value but got ".concat(e.dtype)));let n=e.shape[e.shape.length-1];const r=e.size/n;let a;if(null!=t&&t<n){const r=e.shape.map((e=>0)),o=e.shape.map((e=>e));o[e.shape.length-1]=t,a=sa(e,r,o),n=t}else if(null!=t&&t>n){const r=e.shape.map((e=>e));r[e.shape.length-1]=t-n,a=ra([e,zo(r)],e.shape.length-1),n=t}else a=e;const o=Yn(a),s=ea(Ct(a,o),[r,n]),i=Us(s),l=Math.floor(n/2)+1,u=ws(i),c=co(i),d=Hs(u,[l,n-l],u.shape.length-1),p=Hs(c,[l,n-l],c.shape.length-1),h=a.shape.slice();return h[a.shape.length-1]=l,ea(Ct(d[0],p[0]),h)}});const Gs=It({squaredDifference_:function(e,t){let n=Tt(e,"a","squaredDifference"),r=Tt(t,"b","squaredDifference");[n,r]=pt(n,r),ur(n.shape,r.shape);const a={a:n,b:r};return vt.runKernel("SquaredDifference",a,{})}});const Qs=It({squeeze_:function(e,t){const n=Tt(e,"x","squeeze","string_or_numeric");return ea(n,function(e,t){const n=[],r=[],a=null!=t&&Array.isArray(t)&&0===t.length,o=null==t||a?null:H(t,e).sort();let s=0;for(let i=0;i<e.length;++i){if(null!=o){if(o[s]===i&&1!==e[i])throw new Error("Can't squeeze axis ".concat(i," since its dim '").concat(e[i],"' is not 1"));(null==o[s]||o[s]>i)&&1===e[i]&&(n.push(e[i]),r.push(i)),o[s]<=i&&s++}1!==e[i]&&(n.push(e[i]),r.push(i))}return{newShape:n,keptDims:r}}(n.shape,t).newShape)}});const $s=It({stack_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=Et(e,"tensors","stack","string_or_numeric");z(n.length>=1,(()=>"Pass at least one tensor to tf.stack")),n.length>0&&z(t<=n[0].rank,(()=>"Axis must be <= rank of the tensor"));const r=n,a={axis:t};return vt.runKernel("Pack",r,a)}});const Ys=It({step_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n={x:Tt(e,"x","step")},r={alpha:t};return vt.runKernel("Step",n,r)}});const Js=It({stridedSlice_:function(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,i=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0;const u={x:Tt(e,"x","stridedSlice","string_or_numeric")},c={begin:t,end:n,strides:r,beginMask:a,endMask:o,ellipsisMask:s,newAxisMask:i,shrinkAxisMask:l};return vt.runKernel("StridedSlice",u,c)}});const Xs=It({tan_:function(e){const t={x:Tt(e,"x","tan","float32")};return vt.runKernel("Tan",t)}});function Zs(e,t){V(e);const n=xt(e,t);if(1!==n.length)throw new Error("tensor1d() requires values to be a flat/TypedArray");return At(e,null,n,t)}function ei(e,t,n){if(V(e),null!=t&&2!==t.length)throw new Error("tensor2d() requires shape to have two numbers");const r=xt(e,n);if(2!==r.length&&1!==r.length)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return At(e,t,r,n)}function ti(e,t,n){if(V(e),null!=t&&3!==t.length)throw new Error("tensor3d() requires shape to have three numbers");const r=xt(e,n);if(3!==r.length&&1!==r.length)throw new Error("tensor3d() requires values to be number[][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor3d() requires shape to be provided when `values` are a flat array");return At(e,t,r,n)}function ni(e,t,n){if(V(e),null!=t&&4!==t.length)throw new Error("tensor4d() requires shape to have four numbers");const r=xt(e,n);if(4!==r.length&&1!==r.length)throw new Error("tensor4d() requires values to be number[][][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor4d() requires shape to be provided when `values` are a flat array");return At(e,t,r,n)}function ri(e,t,n){if(V(e),null!=t&&5!==t.length)throw new Error("tensor5d() requires shape to have five numbers");const r=xt(e,n);if(5!==r.length&&1!==r.length)throw new Error("tensor5d() requires values to be number[][][][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor5d() requires shape to be provided when `values` are a flat array");return At(e,t,r,n)}function ai(e,t,n){if(V(e),null!=t&&6!==t.length)throw new Error("tensor6d() requires shape to have six numbers");const r=xt(e,n);if(6!==r.length&&1!==r.length)throw new Error("tensor6d() requires values to be number[][][][][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor6d() requires shape to be provided when `values` are a flat array");return At(e,t=t||r,r,n)}function oi(e,t,n){if(t.rank<1)throw new Error("tf.scatterND() expects the indices to be rank 1 or higher,"+" but the rank was ".concat(t.rank,"."));if(e.rank<1)throw new Error("tf.scatterND() expects the updates to be rank 1 or higher,"+" but the rank was ".concat(e.rank,"."));if("int32"!==t.dtype)throw new Error("The dtype of 'indices' should be int32, but got dtype: ".concat(t.dtype));if(n.length<1)throw new Error("Output rank must be greater or equal to 1, but got shape: ".concat(n));if(0===n.length){if(0===t.size)throw new Error("Indices specified for empty output. indices shape: ".concat(t.shape));if(0===e.size)throw new Error("Updates specified for empty output. updates shape: ".concat(e.shape))}!function(e,t,n){const r=t.rank>1?t.shape[t.rank-1]:1,a=t.rank>1?t.rank-1:1,o="Must have updates.shape = indices.shape[:batchDim] + "+"shape[sliceDim:], got updates.shape: ".concat(n.shape)+", indices.shape: ".concat(t.shape,", shape: ").concat(e)+", sliceDim: ".concat(r,", and batchDim: ").concat(a,".");if(n.rank<a)throw new Error(o+" update.rank < ".concat(a,". "));if(e.length<r+(n.rank-a))throw new Error(o+" Output shape length < ".concat(r+(n.rank-a)));if(n.rank!==a+e.length-r)throw new Error(o+" update.rank != ".concat(a+e.length-r));for(let s=0;s<a;++s)if(n.shape[s]!==t.shape[s])throw new Error(o+" updates.shape[".concat(s,"] (").concat(n.shape[s],") != indices.shape[").concat(s,"] (").concat(t.shape[s],")."));for(let s=0;s<n.rank-a;++s)if(n.shape[s+a]!==e[s+r])throw new Error(o+" updates.shape[".concat(s+a,"] (").concat(n.shape[s+a],") != shape[").concat(s+a,"] (").concat(e[s+a],")"))}(n,t,e)}const si=It({tensorScatterUpdate_:function(e,t,n){const r=Tt(e,"tensor","tensorScatterupdate"),a=Tt(t,"indices","tensorScatterupdate","int32"),o=Tt(n,"updates","tensorScatterupdate");if(oi(o,a,r.shape),r.dtype!==o.dtype)throw new Error("tensor and updates must have the same dtype, instead they are ".concat(r.dtype," and ").concat(o.dtype,"."));const s={tensor:r,indices:a,updates:o};return vt.runKernel("TensorScatterUpdate",s,{})}});const ii=It({topk_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=Tt(e,"x","topk");if(0===r.rank)throw new Error("topk() expects the input to be of rank 1 or higher");const a=r.shape[r.shape.length-1];if(t<0)throw new Error("'k' passed to topk() must be >= 0 but got ".concat(t));if(t>a)throw new Error("'k' passed to topk() must be <= the last dimension (".concat(a,") ")+"but got ".concat(t));const o={x:r},s={k:t,sorted:n},[i,l]=vt.runKernel("TopK",o,s);return{values:i,indices:l}}});const li=It({truncatedNormal_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0;if(ne(e),null!=r&&"bool"===r)throw new Error("Unsupported data type $ { dtype }");const o=new ds(t,n,r,!0,a),s=Vn(e,r);for(let i=0;i<s.values.length;i++)s.values[i]=o.nextValue();return s.toTensor()}});const ui=It({unique_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=Tt(e,"x","unique","string_or_numeric");z(n.rank>0,(()=>"The input tensor must be at least 1D"));const r={x:n},a={axis:t},[o,s]=vt.runKernel("Unique",r,a);return{values:o,indices:s}}});const ci=It({unsortedSegmentSum_:function(e,t,n){const r=Tt(e,"x","unsortedSegmentSum"),a=Tt(t,"segmentIds","unsortedSegmentSum","int32");z(W(n),(()=>"numSegments must be of dtype int"));const o={x:r,segmentIds:a},s={numSegments:n};return vt.runKernel("UnsortedSegmentSum",o,s)}});const di=It({unstack_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=Tt(e,"x","unstack","string_or_numeric");z(t>=-n.shape.length&&t<n.shape.length,(()=>"Axis = ".concat(t," is not in [-").concat(n.shape.length,", ").concat(n.shape.length,")")));const r={value:n},a={axis:t};return vt.runKernel("Unpack",r,a)}});function pi(e,t){return Oo(e,t,"right")}function hi(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;return vt.makeVariable(e,t,n,r)}const fi=async function(e){const t=Tt(e,"condition","whereAsync","bool"),n=await t.data(),r=function(e,t){const n=[];for(let o=0;o<t.length;o++)t[o]&&n.push(o);const r=Vn(e,"int32"),a=Vn([n.length,e.length],"int32");for(let o=0;o<n.length;o++){const t=r.indexToLoc(n[o]),s=o*e.length;a.values.set(t,s)}return a.toTensor()}(t.shape,n);return e!==t&&t.dispose(),r};const mi=async function(e,t,n){const r=Tt(e,"tensor","boolMask"),a=Tt(t,"mask","boolMask","bool"),o=null==n?0:n,s=a.rank,i=r.shape;z(s>0,(()=>"mask cannot be scalar")),B(i.slice(o,o+s),a.shape,"mask's shape must match the first K dimensions of tensor's shape,");let l=1;for(let m=o;m<o+s;m++)l*=i[m];const u=i.slice(0,o).concat([l],i.slice(o+s)),c=ea(r,u),d=ea(a,[-1]),p=await fi(d),h=Qs(p,[1]),f=io(c,h,o);return e!==r&&r.dispose(),t!==a&&a.dispose(),h.dispose(),c.dispose(),d.dispose(),p.dispose(),f};const gi=It({transpose_:function(e,t,n){const r=Tt(e,"x","transpose");if(null==t&&(t=r.shape.map(((e,t)=>t)).reverse()),z(r.rank===t.length,(()=>"Error in transpose: rank of input ".concat(r.rank," ")+"must match length of perm ".concat(t,"."))),t.forEach((e=>{z(e>=0&&e<r.rank,(()=>"All entries in 'perm' must be between 0 and ".concat(r.rank-1)+" but got ".concat(t)))})),r.rank<=1)return r.clone();const a={x:r},o={perm:t};return"complex64"===r.dtype?Rt((()=>{let e=ws(r),t=co(r);return e=vt.runKernel(be,{x:e},o),t=vt.runKernel(be,{x:t},o),n&&(t=xo(t)),Ct(e,t)})):vt.runKernel(be,a,o)}});const yi=It({movingAverage_:function(e,t,n,r){let a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];const o=Tt(e,"v","movingAverage"),s=Tt(t,"x","movingAverage"),i=Tt(n,"decay","movingAverage");var l,u;u=s,z((l=o).dtype===u.dtype,(()=>"The dtypes of the first(".concat(l.dtype,") and")+" second(".concat(u.dtype,") input must match"))),z(U(o.shape,s.shape),(()=>"Shape mismatch in v and x"));const c=Xn(1),d=ir(c,i);let p=Gn(ir(s,o),d);if(a){z(null!=r,(()=>"When using zeroDebias: true, step is required."));const e=Tt(r,"step","movingAverage");p=Kn(p,ir(c,sr(i,e)))}return qn(o,p)}});const bi=It({scatterND_:function(e,t,n){ne(n);const r=Tt(e,"indices","scatterND","int32"),a=Tt(t,"updates","scatterND");oi(a,r,n);const o={indices:r,updates:a},s={shape:n};return vt.runKernel("ScatterNd",o,s)}});const vi=It({sparseToDense_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;ne(n);const a=Tt(e,"sparseIndices","sparseToDense","int32"),o=Tt(t,"sparseValues","sparseToDense","string_or_numeric"),s=Tt(r,"defaultValue","sparseToDense",o.dtype);!function(e,t,n,r){if("int32"!==e.dtype)throw new Error("tf.sparseToDense() expects the indices to be int32 type,"+" but the dtype was ".concat(e.dtype,"."));if(e.rank>2)throw new Error("sparseIndices should be a scalar, vector, or matrix,"+" but got shape ".concat(e.shape,"."));const a=e.rank>0?e.shape[0]:1,o=e.rank>1?e.shape[1]:1;if(n.length!==o)throw new Error("outputShape has incorrect number of elements:,"+" ".concat(n.length,", should be: ").concat(o,"."));const s=t.size;if(0!==t.rank&&(1!==t.rank||s!==a))throw new Error("sparseValues has incorrect shape "+"".concat(t.shape,", should be [] or [").concat(a,"]"));if(t.dtype!==r.dtype)throw new Error("sparseValues.dtype must match defaultValues.dtype")}(a,o,n,s);const i={sparseIndices:a,sparseValues:o,defaultValue:s},l={outputShape:n};return vt.runKernel("SparseToDense",i,l)}});const wi=It({gatherND_:function(e,t){const n=Tt(t,"indices","gatherND","int32"),r={params:Tt(e,"x","gatherND","string_or_numeric"),indices:n};return vt.runKernel("GatherNd",r)}});const ki=It({dropout_:function(e,t,n,r){const a=Tt(e,"x","dropout");if(z("float32"===a.dtype,(()=>"x has to be a floating point tensor since it's going to be "+"scaled, but got a ".concat(a.dtype," tensor instead."))),z(t>=0&&t<1,(()=>"rate must be a float in the range [0, 1), but got ".concat(t,"."))),0===t)return e instanceof et?a.clone():a;const o=function(e,t){if(null==t)return e.shape.slice();if(U(e.shape,t))return t;if(e.shape.length===t.length){const n=[];for(let r=0;r<e.shape.length;r++)null==t[r]&&null!=e.shape[r]?n.push(e.shape[r]):n.push(t[r]);return n}return t}(a,n),s=1-t,i=Kn(so(qn(ys(o,0,1,"float32",r),s)),s);return Gn(a,i)}});function xi(e){return Math.floor(Math.pow(2,Math.ceil(Math.log(e)/Math.log(2))))}function Si(e,t,n){const r=1-e%2,a=new Float32Array(e);for(let o=0;o<e;++o){const s=2*Math.PI*o/(e+r-1);a[o]=t-n*Math.cos(s)}return Zs(a,"float32")}const Ni=async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;const r=Tt(e,"predictions","inTopK"),a=Tt(t,"targets","inTopK");z(r.rank>1,(()=>"inTopK() expects the predictions to be of rank 2 or higher, "+"but got ".concat(r.rank))),z(r.rank-1===a.rank,(()=>"predictions rank should be 1 larger than targets rank, but got predictions rank "+"".concat(r.rank," and targets rank ").concat(a.rank))),B(r.shape.slice(0,r.shape.length-1),a.shape,"predictions's shape should be align with the targets' shape, except the last dimension.");const o=r.shape[r.shape.length-1];z(n>0&&n<=o,(()=>"'k' passed to inTopK() must be > 0 && <= the predictions last "+"dimension (".concat(o,"), but got ").concat(n)));const s=await r.data(),i=await a.data(),[l,u]=[s.length/o,o],c=function(e,t){return K(e,t)}("bool",l);for(let d=0;d<l;d++){const e=d*u,t=s.subarray(e,e+u),r=[];for(let n=0;n<t.length;n++)r.push({value:t[n],index:n});r.sort(((e,t)=>t.value-e.value)),c[d]=0;for(let a=0;a<n;a++)if(r[a].index===i[d]){c[d]=1;break}}return e!==r&&r.dispose(),t!==a&&a.dispose(),Mt(c,a.shape,"bool")};const Ti=It({conv2DBackpropFilter_:function(e,t,n,r,a){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NHWC",s=arguments.length>6?arguments[6]:void 0,i=e;3===e.rank&&(i=ea(e,[1,e.shape[0],e.shape[1],e.shape[2]]));let l=t;3===l.rank&&(l=ea(t,[1,t.shape[0],t.shape[1],t.shape[2]])),z(4===i.rank,(()=>"Error in conv2dDerFilter: input must be rank 4, but got shape "+"".concat(i.shape,"."))),z(4===l.rank,(()=>"Error in conv2dDerFilter: dy must be rank 4, but got shape "+"".concat(l.shape,"."))),z(4===n.length,(()=>"Error in conv2dDerFilter: filterShape must be length 4, but got "+"".concat(n,".")));const u="NHWC"===o?i.shape[3]:i.shape[1],c="NHWC"===o?l.shape[3]:l.shape[1];z(u===n[2],(()=>"Error in conv2dDerFilter: depth of input ".concat(u,") must ")+"match input depth in filter (".concat(n[2],"."))),z(c===n[3],(()=>"Error in conv2dDerFilter: depth of dy (".concat(c,") must ")+"match output depth for filter (".concat(n[3],")."))),Zr("conv2dDerFilter",a,s);const d={x:i,dy:l},p={strides:r,pad:a,dataFormat:o,dimRoundingMode:s,filterShape:n};return vt.runKernel("Conv2DBackpropFilter",d,p)}});function Ei(e,t,n){if(null==n||"linear"===n)return e;if("relu"===n)return Gn(e,Ys(t));throw new Error("Cannot compute gradient for fused activation ".concat(n,"."))}function _i(e,t){let n=t;const r=function(e,t){const n=[];for(let r=0;r<t.length;r++){const a=e[e.length-r-1],o=t.length-r-1,s=t[o];(null==a||1===a&&s>1)&&n.unshift(o)}return n}(e.shape,t.shape);return r.length>0&&(n=Ja(n,r)),ea(n,e.shape)}function Ii(e,t,n,r){if("linear"===t)return e;if("relu"===t)return xs(e);if("elu"===t)return Ha(e);if("relu6"===t)return Ss(e);if("prelu"===t)return as(e,n);if("leakyrelu"===t)return mo(e,r);if("sigmoid"===t)return oa(e);throw new Error("Unknown fused activation ".concat(t,"."))}const Ci=(e,t)=>!(e>0)||"linear"===t;const Ai=It({fusedConv2d_:function(e){let{x:t,filter:n,strides:r,pad:a,dataFormat:o="NHWC",dilations:s=[1,1],dimRoundingMode:i,bias:l,activation:u="linear",preluActivationWeights:c,leakyreluAlpha:d}=e;if(u=u||"linear",!1===Ci(vt.state.gradientDepth,u)){z("NHWC"===o,(()=>"Error in fused conv2d: got dataFormat of ".concat(o," but ")+"only NHWC is currently supported for the case of gradient depth is 0 and the activation is not linear."));let e=Na(t,n,r,a,o,s,i);return null!=l&&(e=qn(e,l)),Ii(e,u,c,d)}const p=Tt(t,"x","conv2d","float32"),h=Tt(n,"filter","conv2d","float32");let f=p,m=!1;3===p.rank&&(m=!0,f=ea(p,[1,p.shape[0],p.shape[1],p.shape[2]])),z(4===f.rank,(()=>"Error in fused conv2d: input must be rank 4, but got rank "+"".concat(f.rank,"."))),z(4===h.rank,(()=>"Error in fused conv2d: filter must be rank 4, but got rank "+"".concat(h.rank,"."))),Zr("fused conv2d",a,i);const g="NHWC"===o?f.shape[3]:f.shape[1];z(h.shape[2]===g,(()=>"Error in conv2d: depth of input (".concat(g,") must match ")+"input depth for filter ".concat(h.shape[2],"."))),z(Jr(r,s),(()=>"Error in conv2D: Either strides or dilations must be 1. "+"Got strides ".concat(r," and dilations '").concat(s,"'")));const y=Hr(f.shape,h.shape,r,s,a,i);let b,v;if(null!=l&&(b=Tt(l,"bias","fused conv2d"),[b]=pt(b,p),"NHWC"===o?ur(y.outShape,b.shape):(z(b.shape.length<=1,(()=>"Error in fused conv2d: only supports scalar or 1-D Tensor bias for NCHW format but got the bias of "+"rank-".concat(b.shape.length,"."))),z(0===b.shape.length||b.shape[0]===y.outChannels||1===b.shape[0],(()=>"Error in fused conv2d: bias shape (".concat(b.shape,") is not ")+"compatible with the number of output channels "+"(".concat(y.outChannels,")"))))),null!=c){const e=c.shape;if(z(e.length<=1||3===e.length,(()=>"Error in fused conv2d: only supports scalar, 1-D Tensor or 3-D Tensor PReLU activation weights but got a tensor of "+"rank-".concat(e.length,"."))),1===e.length)z(1===e[0]||e[0]===y.outChannels,(()=>"Error in fused conv2d: PReLU activation weights "+"(".concat(e,") is not compatible with the number of output ")+"channels (".concat(y.outChannels,").")));else if(3===e.length)try{ur(e,y.outShape)}catch(S){const t="Error in fused conv2d: PReLU activation weights (".concat(e,") ")+"is not compatible with the output shape of the conv2d "+"(".concat(y.outShape,").");throw Error(t)}v=Tt(c,"prelu weights","fused conv2d")}const w=(e,t)=>{z("NHWC"===o,(()=>"Error in gradient of fused conv2D: got dataFormat of ".concat(o," but only NHWC is currently supported.")));const[n,i,l,c]=t,d=Ei(e,l,u);z(Yr(s),(()=>"Error in gradient of fused conv2D: dilation rates greater than 1 "+"are not yet supported in gradients. Got dilations '".concat(s,"'")));const p=[Ea(i.shape,d,n,r,a),Ti(i,d,n.shape,r,a)];if(null!=c){const e=_i(c,d);p.push(e)}return p},k={x:f,filter:h,bias:b,preluActivationWeights:v},x={strides:r,pad:a,dataFormat:o,dilations:s,dimRoundingMode:i,activation:u,leakyreluAlpha:d};if(null==l){const e=Jn(((e,t,n)=>{let r=vt.runKernel(we,k,x);return n([t,e,r]),m&&(r=ea(r,[r.shape[1],r.shape[2],r.shape[3]])),{value:r,gradFunc:w}}));return e(f,h)}{const e=Jn(((e,t,n,r)=>{let a=vt.runKernel(we,k,x);return r([t,e,a,n]),m&&(a=ea(a,[a.shape[1],a.shape[2],a.shape[3]])),{value:a,gradFunc:w}}));return e(f,h,b)}}});const Mi=It({depthwiseConv2dNativeBackpropFilter_:function(e,t,n,r,a){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],s=arguments.length>6?arguments[6]:void 0,i=e;3===e.rank&&(i=ea(e,[1,e.shape[0],e.shape[1],e.shape[2]]));let l=t;3===l.rank&&(l=ea(t,[1,t.shape[0],t.shape[1],t.shape[2]]));const u={x:i,dy:l},c={strides:r,pad:a,dimRoundingMode:s,dilations:o,filterShape:n};return vt.runKernel("DepthwiseConv2dNativeBackpropFilter",u,c)}});const Oi=It({depthwiseConv2dNativeBackpropInput_:function(e,t,n,r,a){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],s=arguments.length>6?arguments[6]:void 0,i=t,l=!1;3===t.rank&&(l=!0,i=ea(t,[1,t.shape[0],t.shape[1],t.shape[2]]));const u={dy:i,filter:n},c={strides:r,pad:a,dimRoundingMode:s,dilations:o,inputShape:e},d=vt.runKernel("DepthwiseConv2dNativeBackpropInput",u,c);return l?ea(d,[d.shape[1],d.shape[2],d.shape[3]]):d}});const Di=It({fusedDepthwiseConv2d_:function(e){let{x:t,filter:n,strides:r,pad:a,dataFormat:o="NHWC",dilations:s=[1,1],dimRoundingMode:i,bias:l,activation:u="linear",preluActivationWeights:c,leakyreluAlpha:d}=e;if(!1===Ci(vt.state.gradientDepth,u)){let e=La(t,n,r,a,o,s,i);return null!=l&&(e=qn(e,l)),Ii(e,u,c,d)}const p=Tt(t,"x","depthwiseConv2d","float32"),h=Tt(n,"filter","depthwiseConv2d","float32");let f=p,m=!1;3===p.rank&&(m=!0,f=ea(p,[1,p.shape[0],p.shape[1],p.shape[2]])),z(4===f.rank,(()=>"Error in fused depthwiseConv2d: input must be rank 4, but got "+"rank ".concat(f.rank,"."))),z(4===h.rank,(()=>"Error in fused depthwiseConv2d: filter must be rank 4, "+"but got rank ".concat(h.rank,"."))),z(f.shape[3]===h.shape[2],(()=>"Error in fused depthwiseConv2d: number of input channels "+"(".concat(f.shape[3],") must match the inChannels dimension in ")+"filter ".concat(h.shape[2],"."))),null==s&&(s=[1,1]),z(Jr(r,s),(()=>"Error in fused depthwiseConv2d: Either strides or dilations must "+"be 1. Got strides ".concat(r," and dilations '").concat(s,"'"))),Zr("fused depthwiseConv2d",a,i);const g=Hr(f.shape,h.shape,r,s,a,i,!0);let y,b;null!=l&&(y=Tt(l,"bias","fused conv2d"),[y]=pt(y,p),ur(g.outShape,y.shape)),null!=c&&(b=Tt(c,"prelu weights","fused depthwiseConv2d"));const v=(e,t)=>{z(Yr(s),(()=>"Error in gradient of fused depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations "+"'".concat(s,"'")));const[n,o,l,c]=t,d=Ei(e,l,u),p=Oi(o.shape,d,n,r,a,s,i),h=Mi(o,d,n.shape,r,a,s,i);if(null!=c){return[p,h,_i(y,d)]}return[p,h]},w={x:f,filter:h,bias:y,preluActivationWeights:b},k={strides:r,pad:a,dataFormat:o,dilations:s,dimRoundingMode:i,activation:u,leakyreluAlpha:d};if(null==l){const e=Jn(((e,t,n)=>{let r=vt.runKernel(ke,w,k);return n([t,e,r]),m&&(r=ea(r,[r.shape[1],r.shape[2],r.shape[3]])),{value:r,gradFunc:v}}));return e(f,h)}{const e=Jn(((e,t,n,r)=>{let a=vt.runKernel(ke,w,k);return r([t,e,a,n]),m&&(a=ea(a,[a.shape[1],a.shape[2],a.shape[3]])),{value:a,gradFunc:v}}));return e(f,h,y)}}});const Ri=It({fusedMatMul_:function(e){let{a:t,b:n,transposeA:r=!1,transposeB:a=!1,bias:o,activation:s="linear",preluActivationWeights:i,leakyreluAlpha:l=.2}=e;if(!1===Ci(vt.state.gradientDepth,s)){let e=aa(t,n,r,a);return null!=o&&(e=qn(e,o)),Ii(e,s,i,l)}let u=Tt(t,"a","fused matMul"),c=Tt(n,"b","fused matMul");[u,c]=pt(u,c);const d=r?u.shape[u.rank-2]:u.shape[u.rank-1],p=a?c.shape[c.rank-1]:c.shape[c.rank-2],h=r?u.shape[u.rank-1]:u.shape[u.rank-2],f=a?c.shape[c.rank-2]:c.shape[c.rank-1],m=u.shape.slice(0,-2),g=c.shape.slice(0,-2),y=j(m),b=j(g);z(d===p,(()=>"Error in fused matMul: inner shapes (".concat(d,") and (")+"".concat(p,") of Tensors with shapes ").concat(u.shape," and ")+"".concat(c.shape," and transposeA=").concat(r)+" and transposeB=".concat(a," must match.")));const v=ur(u.shape.slice(0,-2),c.shape.slice(0,-2)).concat([h,f]),w=ea(u,r?[y,d,h]:[y,h,d]),k=ea(c,a?[b,f,p]:[b,p,f]);let x,S;null!=o&&(x=Tt(o,"bias","fused matMul"),[x]=pt(x,u),ur(v,x.shape)),null!=i&&(S=Tt(i,"prelu weights","fused matMul"));const N=(e,t)=>{const[n,i,l,u]=t,c=Ei(ea(e,l.shape),l,s);let d,p;if(r||a?!r&&a?(d=aa(c,i,!1,!1),p=aa(c,n,!0,!1)):r&&!a?(d=aa(i,c,!1,!0),p=aa(n,c,!1,!1)):(d=aa(i,c,!0,!0),p=aa(c,n,!0,!0)):(d=aa(c,i,!1,!0),p=aa(n,c,!0,!1)),null!=o){return[d,p,_i(u,c)]}return[d,p]},T={a:w,b:k,bias:x,preluActivationWeights:S},E={transposeA:r,transposeB:a,activation:s,leakyreluAlpha:l};if(null==o){const e=Jn(((e,t,n)=>{const r=vt.runKernel(ve,T,E);return n([e,t,r]),{value:ea(r,v),gradFunc:N}}));return e(w,k)}{const e=Jn(((e,t,n,r)=>{const a=vt.runKernel(ve,T,E);return r([e,t,a,n]),{value:ea(a,v),gradFunc:N}}));return e(w,k,x)}}});const Pi=It({hammingWindow_:function(e){return Si(e,.54,.46)}});const Fi=It({hannWindow_:function(e){return Si(e,.5,.5)}});const Li=It({frame_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=0;const s=[];for(;o+t<=e.size;)s.push(sa(e,o,t)),o+=n;if(r)for(;o<e.size;){const r=o+t-e.size,i=ra([sa(e,o,t-r),or([r],a)]);s.push(i),o+=n}return 0===s.length?ei([],[0,t]):ea(ra(s),[s.length,t])}});const zi=It({stft_:function(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Fi;null==r&&(r=xi(t));const o=Li(e,t,n),s=Gn(o,a(t));return Ks(s,r)}});const Bi=It({cropAndResize_:function(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"bilinear",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;const s=Tt(e,"image","cropAndResize"),i=Tt(t,"boxes","cropAndResize","float32"),l=Tt(n,"boxInd","cropAndResize","int32"),u=i.shape[0];z(4===s.rank,(()=>"Error in cropAndResize: image must be rank 4,"+"but got rank ".concat(s.rank,"."))),z(2===i.rank&&4===i.shape[1],(()=>"Error in cropAndResize: boxes must be have size [".concat(u,",4] ")+"but had shape ".concat(i.shape,"."))),z(1===l.rank&&l.shape[0]===u,(()=>"Error in cropAndResize: boxInd must be have size [".concat(u,"] ")+"but had shape ".concat(i.shape,"."))),z(2===r.length,(()=>"Error in cropAndResize: cropSize must be of length 2, but got "+"length ".concat(r.length,"."))),z(r[0]>=1&&r[1]>=1,(()=>"cropSize must be atleast [1,1], but was ".concat(r))),z("bilinear"===a||"nearest"===a,(()=>"method must be bilinear or nearest, but was ".concat(a)));const c={image:s,boxes:i,boxInd:l},d={method:a,extrapolationValue:o,cropSize:r};return vt.runKernel("CropAndResize",c,d)}});const Vi=It({flipLeftRight_:function(e){const t=Tt(e,"image","flipLeftRight","float32");z(4===t.rank,(()=>"Error in flipLeftRight: image must be rank 4,"+"but got rank ".concat(t.rank,".")));const n={image:t};return vt.runKernel("FlipLeftRight",n,{})}});const ji=It({grayscaleToRGB_:function(e){const t=Tt(e,"image","grayscaleToRGB"),n=t.rank-1,r=t.shape[n];z(t.rank>=2,(()=>"Error in grayscaleToRGB: images must be at least rank 2, "+"but got rank ".concat(t.rank,"."))),z(1===r,(()=>"Error in grayscaleToRGB: last dimension of a grayscale image "+"should be size 1, but got size ".concat(r,".")));const a=new Array(t.rank);return a.fill(1,0,n),a[n]=3,ao(t,a)}});const Ui=It({rgbToGrayscale_:function(e){const t=Tt(e,"image","RGBToGrayscale"),n=t.rank-1,r=t.shape[n];z(t.rank>=2,(()=>"Error in RGBToGrayscale: images must be at least rank 2, "+"but got rank ".concat(t.rank,"."))),z(3===r,(()=>"Error in RGBToGrayscale: last dimension of an RGB image "+"should be size 3, but got size ".concat(r,".")));const a=t.dtype,o=jn(t,"float32"),s=Zs([.2989,.587,.114]);let i;switch(t.rank){case 2:i=qa("ij,j->i",o,s);break;case 3:i=qa("ijk,k->ij",o,s);break;case 4:i=qa("ijkl,l->ijk",o,s);break;case 5:i=qa("ijklm,m->ijkl",o,s);break;case 6:i=qa("ijklmn,n->ijklm",o,s);break;default:throw new Error("Not a valid tensor rank.")}return i=no(i,-1),jn(i,a)}});const Wi=It({rotateWithOffset_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;const a=Tt(e,"image","rotateWithOffset","float32");z(4===a.rank,(()=>"Error in rotateWithOffset: image must be rank 4,"+"but got rank ".concat(a.rank,".")));const o={image:a},s={radians:t,fillValue:n,center:r};return vt.runKernel("RotateWithOffset",o,s)}});function qi(e,t,n,r,a,o){null==r&&(r=.5),null==a&&(a=Number.NEGATIVE_INFINITY),null==o&&(o=0);const s=e.shape[0];return n=Math.min(n,s),z(0<=r&&r<=1,(()=>"iouThreshold must be in [0, 1], but was '".concat(r,"'"))),z(2===e.rank,(()=>"boxes must be a 2D tensor, but was of rank '".concat(e.rank,"'"))),z(4===e.shape[1],(()=>"boxes must have 4 columns, but 2nd dimension was ".concat(e.shape[1]))),z(1===t.rank,(()=>"scores must be a 1D tensor")),z(t.shape[0]===s,(()=>"scores has incompatible shape with boxes. Expected ".concat(s,", ")+"but was ".concat(t.shape[0]))),z(0<=o&&o<=1,(()=>"softNmsSigma must be in [0, 1], but was '".concat(o,"'"))),{maxOutputSize:n,iouThreshold:r,scoreThreshold:a,softNmsSigma:o}}const Hi=It({nonMaxSuppression_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY;const o=Tt(e,"boxes","nonMaxSuppression","float32"),s=Tt(t,"scores","nonMaxSuppression","float32"),i=qi(o,s,n,r,a);n=i.maxOutputSize,r=i.iouThreshold,a=i.scoreThreshold;const l={maxOutputSize:n,iouThreshold:r,scoreThreshold:a};return vt.runKernel("NonMaxSuppressionV3",{boxes:o,scores:s},l)}});function Ki(e,t,n){const r=function(e,t,n){return function(e,t,n){let r=0,a=e.length,o=0,s=!1;for(;r<a;){o=r+(a-r>>>1);const i=n(t,e[o]);i>0?r=o+1:(a=o,s=!i)}return s?r:-r-1}(e,t,n||Gi)}(e,t,n),a=r<0?-(r+1):r;e.splice(a,0,t)}function Gi(e,t){return e>t?1:e<t?-1:0}function Qi(e,t,n,r,a,o){let s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],i=arguments.length>7&&void 0!==arguments[7]&&arguments[7],l=arguments.length>8&&void 0!==arguments[8]&&arguments[8];const u=[];for(let g=0;g<t.length;g++)t[g]>a&&u.push({score:t[g],boxIndex:g,suppressBeginIndex:0});u.sort(Ji);const c=o>0?-.5/o:0,d=[],p=[];for(;d.length<n&&u.length>0;){const t=u.pop(),{score:n,boxIndex:o,suppressBeginIndex:s}=t;if(n<a)break;let i=!1;for(let l=d.length-1;l>=s;--l){const n=$i(e,o,d[l]);if(n>=r){i=!0;break}if(t.score=t.score*Yi(r,c,n),t.score<=a)break}t.suppressBeginIndex=d.length,i||(t.score===n?(d.push(o),p.push(t.score)):t.score>a&&Ki(u,t,Ji))}const h=d.length,f=n-h;i&&f>0&&(d.push(...new Array(f).fill(0)),p.push(...new Array(f).fill(0)));const m={selectedIndices:d};return s&&(m.selectedScores=p),l&&(m.validOutputs=h),m}function $i(e,t,n){const r=e.subarray(4*t,4*t+4),a=e.subarray(4*n,4*n+4),o=Math.min(r[0],r[2]),s=Math.min(r[1],r[3]),i=Math.max(r[0],r[2]),l=Math.max(r[1],r[3]),u=Math.min(a[0],a[2]),c=Math.min(a[1],a[3]),d=Math.max(a[0],a[2]),p=Math.max(a[1],a[3]),h=(i-o)*(l-s),f=(d-u)*(p-c);if(h<=0||f<=0)return 0;const m=Math.max(o,u),g=Math.max(s,c),y=Math.min(i,d),b=Math.min(l,p),v=Math.max(y-m,0)*Math.max(b-g,0);return v/(h+f-v)}function Yi(e,t,n){const r=Math.exp(t*n*n);return n<=e?r:0}function Ji(e,t){return e.score-t.score||e.score===t.score&&t.boxIndex-e.boxIndex}const Xi=async function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY;const o=Tt(e,"boxes","nonMaxSuppressionAsync"),s=Tt(t,"scores","nonMaxSuppressionAsync"),i=qi(o,s,n,r,a);n=i.maxOutputSize,r=i.iouThreshold,a=i.scoreThreshold;const l=await Promise.all([o.data(),s.data()]),u=l[0],c=l[1],{selectedIndices:d}=function(e,t,n,r,a){return Qi(e,t,n,r,a,0)}(u,c,n,r,a);return o!==e&&o.dispose(),s!==t&&s.dispose(),Zs(d,"int32")};const Zi=It({nonMaxSuppressionWithScore_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;const s=Tt(e,"boxes","nonMaxSuppression"),i=Tt(t,"scores","nonMaxSuppression"),l=qi(s,i,n,r,a,o);n=l.maxOutputSize,r=l.iouThreshold,a=l.scoreThreshold,o=l.softNmsSigma;const u={boxes:s,scores:i},c={maxOutputSize:n,iouThreshold:r,scoreThreshold:a,softNmsSigma:o},d=vt.runKernel("NonMaxSuppressionV5",u,c);return{selectedIndices:d[0],selectedScores:d[1]}}});const el=async function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;const s=Tt(e,"boxes","nonMaxSuppressionAsync"),i=Tt(t,"scores","nonMaxSuppressionAsync"),l=qi(s,i,n,r,a,o);n=l.maxOutputSize,r=l.iouThreshold,a=l.scoreThreshold,o=l.softNmsSigma;const u=await Promise.all([s.data(),i.data()]),c=u[0],d=u[1],{selectedIndices:p,selectedScores:h}=function(e,t,n,r,a,o){return Qi(e,t,n,r,a,o,!0)}(c,d,n,r,a,o);return s!==e&&s.dispose(),i!==t&&i.dispose(),{selectedIndices:Zs(p,"int32"),selectedScores:Zs(h)}};const tl=It({nonMaxSuppressionPadded_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY,o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];const s=Tt(e,"boxes","nonMaxSuppression"),i=Tt(t,"scores","nonMaxSuppression"),l=qi(s,i,n,r,a,null),u={boxes:s,scores:i},c={maxOutputSize:l.maxOutputSize,iouThreshold:l.iouThreshold,scoreThreshold:l.scoreThreshold,padToMaxOutputSize:o},d=vt.runKernel("NonMaxSuppressionV4",u,c);return{selectedIndices:d[0],validOutputs:d[1]}}});const nl=async function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY,o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];const s=Tt(e,"boxes","nonMaxSuppressionAsync"),i=Tt(t,"scores","nonMaxSuppressionAsync"),l=qi(s,i,n,r,a,null),u=l.maxOutputSize,c=l.iouThreshold,d=l.scoreThreshold,[p,h]=await Promise.all([s.data(),i.data()]),{selectedIndices:f,validOutputs:m}=function(e,t,n,r,a,o){return Qi(e,t,n,r,a,0,!1,o,!0)}(p,h,u,c,d,o);return s!==e&&s.dispose(),i!==t&&i.dispose(),{selectedIndices:Zs(f,"int32"),validOutputs:Xn(m,"int32")}};const rl=It({resizeBilinear_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const a=Tt(e,"images","resizeBilinear");z(3===a.rank||4===a.rank,(()=>"Error in resizeBilinear: x must be rank 3 or 4, but got "+"rank ".concat(a.rank,"."))),z(2===t.length,(()=>"Error in resizeBilinear: new shape must 2D, but got shape "+"".concat(t,"."))),z(!1===r||!1===n,(()=>"Error in resizeBilinear: If halfPixelCenters is true, alignCorners must be false."));let o=a,s=!1;3===a.rank&&(s=!0,o=ea(a,[1,a.shape[0],a.shape[1],a.shape[2]]));const[]=t,i={images:o},l={alignCorners:n,halfPixelCenters:r,size:t},u=vt.runKernel("ResizeBilinear",i,l);return s?ea(u,[u.shape[1],u.shape[2],u.shape[3]]):u}});const al=It({resizeNearestNeighbor_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const a=Tt(e,"images","resizeNearestNeighbor");z(3===a.rank||4===a.rank,(()=>"Error in resizeNearestNeighbor: x must be rank 3 or 4, but got "+"rank ".concat(a.rank,"."))),z(2===t.length,(()=>"Error in resizeNearestNeighbor: new shape must 2D, but got shape "+"".concat(t,"."))),z("float32"===a.dtype||"int32"===a.dtype,(()=>"`images` must have `int32` or `float32` as dtype")),z(!1===r||!1===n,(()=>"Error in resizeNearestNeighbor: If halfPixelCenters is true, alignCorners must be false."));let o=a,s=!1;3===a.rank&&(s=!0,o=ea(a,[1,a.shape[0],a.shape[1],a.shape[2]]));const[]=t,i={images:o},l={alignCorners:n,halfPixelCenters:r,size:t},u=vt.runKernel("ResizeNearestNeighbor",i,l);return s?ea(u,[u.shape[1],u.shape[2],u.shape[3]]):u}});const ol=It({threshold_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"binary",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;const a=Tt(e,"image","threshold"),o=a.shape[0]*a.shape[1];let s,i,l,u,c=Gn(Zs([r]),255);if(z(3===a.rank,(()=>"Error in threshold: image must be rank 3,"+"but got rank ".concat(a.rank,"."))),z(3===a.shape[2]||1===a.shape[2],(()=>"Error in threshold: image color channel must be equal to 3 or 1"+"but got ".concat(a.shape[2],"."))),z("int32"===a.dtype||"float32"===a.dtype,(()=>"Error in dtype: image dtype must be int32 or float32,"+"but got dtype ".concat(a.dtype,"."))),z("otsu"===t||"binary"===t,(()=>"Method must be binary or otsu, but was ".concat(t))),3===a.shape[2]){[s,i,l]=Hs(a,[1,1,1],-1);const e=Gn(s,.2989),t=Gn(i,.587),n=Gn(l,.114);u=qn(qn(e,t),n)}else u=e;if("otsu"===t){c=function(e,t){let n,r,a,o,s,i,l=Zs([-1]),u=Zs([0]),c=Zs([0]);for(let d=0;d<e.size-1;d++){n=sa(e,0,d+1),r=sa(e,d+1),s=Kn(Ja(n),t),i=Kn(Ja(r),t);const p=Ja(Gn(n,vs(0,n.size)));a=Kn(p,Ja(n));const h=or(r.shape,n.size),f=qn(vs(0,r.size),h),m=Gn(r,f);o=Kn(Ja(m),Ja(r));const g=ir(a,o),y=ir(a,o),b=Gn(s,i);c=Gn(Gn(b,g),y);const v=lo(c,u);u=ja(v,c,u),l=ja(v,Zs([d]),l)}return l}(fa(jn(Cs(u),"int32"),Mt([]),256),o)}const d=n?yo(u,c):lo(u,c);return jn(Gn(d,255),"int32")}});const sl=It({transform_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"nearest",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"constant",a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5?arguments[5]:void 0;const s=Tt(e,"image","transform","float32"),i=Tt(t,"transforms","transform","float32");z(4===s.rank,(()=>"Error in transform: image must be rank 4,"+"but got rank ".concat(s.rank,"."))),z(2===i.rank&&(i.shape[0]===s.shape[0]||1===i.shape[0])&&8===i.shape[1],(()=>"Error in transform: Input transform should be batch x 8 or 1 x 8")),z(null==o||2===o.length,(()=>"Error in transform: outputShape must be [height, width] or null, "+"but got ".concat(o,".")));const l={image:s,transforms:i},u={interpolation:n,fillMode:r,fillValue:a,outputShape:o};return vt.runKernel("Transform",l,u)}});const il=It({bandPart_:function(e,t,n){const r=Tt(e,"a","bandPart");z(r.rank>=2,(()=>"bandPart(): Rank must be at least 2, got ".concat(r.rank,".")));const a=r.shape,[o,s]=r.shape.slice(-2);let i,l;"number"===typeof t?(z(t%1===0,(()=>"bandPart(): numLower must be an integer, got ".concat(t,"."))),z(t<=o,(()=>"bandPart(): numLower (".concat(t,")")+" must not be greater than the number of rows (".concat(o,")."))),i=Tt(t<0?o:t,"numLower","bandPart")):(z("int32"===t.dtype,(()=>"bandPart(): numLower's dtype must be an int32.")),i=ja(go(t,0),o,jo(t,o))),"number"===typeof n?(z(n%1===0,(()=>"bandPart(): numUpper must be an integer, got ".concat(n,"."))),z(n<=s,(()=>"bandPart(): numUpper (".concat(n,")")+" must not be greater than the number of columns (".concat(s,")."))),l=Tt(n<0?s:n,"numUpper","bandPart")):(z("int32"===n.dtype,(()=>"bandPart(): numUpper's dtype must be an int32.")),l=ja(go(n,0),s,jo(n,s)));const u=ea(vs(0,o,1,"int32"),[-1,1]),c=vs(0,s,1,"int32"),d=ir(u,c),p=_o(yo(d,i),uo(d,xo(l))),h=zo([o,s],r.dtype);return ea($s(di(ea(r,[-1,o,s])).map((e=>ja(p,e,h)))),a)}});const ll=It({gramSchmidt_:function(e){let t;if(Array.isArray(e)){t=!1,z(null!=e&&e.length>0,(()=>"Gram-Schmidt process: input must not be null, undefined, or empty"));const n=e[0].shape[0];for(let t=1;t<e.length;++t)z(e[t].shape[0]===n,(()=>"Gram-Schmidt: Non-unique lengths found in the input vectors: "+"(".concat(e[t].shape[0]," vs. ").concat(n,")")))}else t=!0,e=Hs(e,e.shape[0],0).map((e=>Qs(e,[0])));z(e.length<=e[0].shape[0],(()=>"Gram-Schmidt: Number of vectors (".concat(e.length,") exceeds ")+"number of dimensions (".concat(e[0].shape[0],").")));const n=[],r=e;for(let a=0;a<e.length;++a)n.push(vt.tidy((()=>{let e=r[a];if(a>0)for(let t=0;t<a;++t){const r=Gn(Ja(Gn(n[t],e)),n[t]);e=ir(e,r)}return Kn(e,Za(e,"euclidean"))})));return t?$s(n,0):n}});function ul(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return vt.tidy((()=>{z(2===e.shape.length,(()=>"qr2d() requires a 2D Tensor, but got a ".concat(e.shape.length,"D Tensor.")));const n=e.shape[0],r=e.shape[1];let a=oo(n),o=Un(e);const s=ei([[1]],[1,1]);let i=Un(s);const l=n>=r?r:n;for(let e=0;e<l;++e){const t=o,l=i,u=a;[i,o,a]=vt.tidy((()=>{const t=sa(o,[e,e],[n-e,1]),l=Za(t),u=sa(o,[e,e],[1,1]),c=ja(lo(u,0),ei([[-1]]),ei([[1]])),d=ir(u,Gn(c,l)),p=Kn(t,d);i=1===p.shape[0]?Un(s):ra([s,sa(p,[1,0],[p.shape[0]-1,p.shape[1]])],0);const h=xo(Kn(aa(c,d),l)),f=sa(o,[e,0],[n-e,r]),m=Gn(h,i),g=gi(i);if(0===e)o=ir(f,aa(m,aa(g,f)));else{const t=ir(f,aa(m,aa(g,f)));o=ra([sa(o,[0,0],[e,r]),t],0)}const y=gi(m),b=sa(a,[0,e],[n,a.shape[1]-e]);if(0===e)a=ir(b,aa(aa(b,i),y));else{const t=ir(b,aa(aa(b,i),y));a=ra([sa(a,[0,0],[n,e]),t],1)}return[i,o,a]})),Pt([t,l,u])}return!t&&n>r&&(a=sa(a,[0,0],[n,r]),o=sa(o,[0,0],[r,r])),[a,o]}))}const cl=It({qr_:function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(z(e.rank>=2,(()=>"qr() requires input tensor to have a rank >= 2, but got rank ".concat(e.rank))),2===e.rank)return ul(e,t);{const n=e.shape.slice(0,e.shape.length-2).reduce(((e,t)=>e*t)),r=di(ea(e,[n,e.shape[e.shape.length-2],e.shape[e.shape.length-1]]),0),a=[],o=[];r.forEach((e=>{const[n,r]=ul(e,t);a.push(n),o.push(r)}));return[ea($s(a,0),e.shape),ea($s(o,0),e.shape)]}}});var dl;!function(e){e[e.NONE=0]="NONE",e[e.MEAN=1]="MEAN",e[e.SUM=2]="SUM",e[e.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS"}(dl||(dl={}));const pl=It({computeWeightedLoss_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:dl.SUM_BY_NONZERO_WEIGHTS;const r=Tt(e,"losses","computeWeightedLoss");let a=null;null!=t&&(a=Tt(t,"weights","computeWeightedLoss"));const o=null==a?r:Gn(r,a);if(n===dl.NONE)return o;if(n===dl.SUM)return Ja(o);if(n===dl.MEAN){if(null==a)return Lo(o);{const e=r.size/a.size,t=Kn(Ja(o),Ja(a));return e>1?Kn(t,Xn(e)):t}}if(n===dl.SUM_BY_NONZERO_WEIGHTS){if(null==a)return Kn(Ja(o),Xn(r.size));{const e=Gn(a,Bo(r.shape)),t=jn(Ja(Go(e,Xn(0))),"float32");return Kn(Ja(o),t)}}throw Error("Unknown reduction: ".concat(n))}});const hl=It({absoluteDifference_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:dl.SUM_BY_NONZERO_WEIGHTS;const a=Tt(e,"labels","absoluteDifference"),o=Tt(t,"predictions","absoluteDifference");let s=null;null!=n&&(s=Tt(n,"weights","absoluteDifference")),B(a.shape,o.shape,"Error in absoluteDifference: ");const i=lr(ir(a,o));return pl(i,s,r)}});const fl=It({cosineDistance_:function(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:dl.SUM_BY_NONZERO_WEIGHTS;const o=Tt(e,"labels","cosineDistance"),s=Tt(t,"predictions","cosineDistance");let i=null;null!=r&&(i=Tt(r,"weights","cosineDistance")),B(o.shape,s.shape,"Error in cosineDistance: ");const l=Xn(1),u=ir(l,Ja(Gn(o,s),n,!0));return pl(u,i,a)}});const ml=It({hingeLoss_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:dl.SUM_BY_NONZERO_WEIGHTS,a=Tt(e,"labels","hingeLoss");const o=Tt(t,"predictions","hingeLoss");let s=null;null!=n&&(s=Tt(n,"weights","hingeLoss")),B(a.shape,o.shape,"Error in hingeLoss: ");const i=Xn(1);a=ir(Gn(Xn(2),a),i);const l=xs(ir(i,Gn(a,o)));return pl(l,s,r)}});const gl=It({huberLoss_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:dl.SUM_BY_NONZERO_WEIGHTS;const o=Tt(e,"labels","huberLoss"),s=Tt(t,"predictions","huberLoss");let i=null;null!=n&&(i=Tt(n,"weights","huberLoss")),B(o.shape,s.shape,"Error in huberLoss: ");const l=Xn(r),u=lr(ir(s,o)),c=jo(u,l),d=ir(u,c),p=qn(Gn(Xn(.5),$n(c)),Gn(l,d));return pl(p,i,a)}});const yl=It({logLoss_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e-7,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:dl.SUM_BY_NONZERO_WEIGHTS;const o=Tt(e,"labels","logLoss"),s=Tt(t,"predictions","logLoss");let i=null;null!=n&&(i=Tt(n,"weights","logLoss")),B(o.shape,s.shape,"Error in logLoss: ");const l=Xn(1),u=Xn(r),c=xo(Gn(o,wo(qn(s,u)))),d=Gn(ir(l,o),wo(qn(ir(l,s),u))),p=ir(c,d);return pl(p,i,a)}});const bl=It({meanSquaredError_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:dl.SUM_BY_NONZERO_WEIGHTS;const a=Tt(e,"labels","meanSquaredError"),o=Tt(t,"predictions","meanSquaredError");let s=null;null!=n&&(s=Tt(n,"weights","meanSquaredError")),B(a.shape,o.shape,"Error in meanSquaredError: ");const i=Gs(a,o);return pl(i,s,r)}});const vl=It({sigmoidCrossEntropy_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:dl.SUM_BY_NONZERO_WEIGHTS,o=Tt(e,"multiClassLabels","sigmoidCrossEntropy");const s=Tt(t,"logits","sigmoidCrossEntropy");let i=null;if(null!=n&&(i=Tt(n,"weights","sigmoidCrossEntropy")),B(o.shape,s.shape,"Error in sigmoidCrossEntropy: "),r>0){const e=Xn(r),t=Xn(1),n=Xn(.5);o=qn(Gn(o,ir(t,e)),Gn(n,e))}const l=function(e,t){const n=Tt(e,"labels","sigmoidCrossEntropyWithLogits"),r=Tt(t,"logits","sigmoidCrossEntropyWithLogits");B(n.shape,r.shape,"Error in sigmoidCrossEntropyWithLogits: ");const a=xs(r),o=Gn(r,n),s=ko(to(xo(lr(r))));return qn(ir(a,o),s)}(o,s);return pl(l,i,a)}});const wl=It({softmaxCrossEntropy_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:dl.SUM_BY_NONZERO_WEIGHTS,o=Tt(e,"onehotLabels","softmaxCrossEntropy");const s=Tt(t,"logits","softmaxCrossEntropy");let i=null;if(null!=n&&(i=Tt(n,"weights","softmaxCrossEntropy")),B(o.shape,s.shape,"Error in softmaxCrossEntropy: "),r>0){const e=Xn(r),t=Xn(1),n=Xn(o.shape[1]);o=qn(Gn(o,ir(t,e)),Kn(e,n))}const l=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;if(-1===n&&(n=t.rank-1),n!==t.rank-1)throw Error("Softmax cross entropy along a non-last dimension is not yet "+"supported. Labels / logits was rank ".concat(t.rank," ")+"and dim was ".concat(n));const r=Jn(((e,t,r)=>{const a=Eo(t,[n],!0),o=ir(jn(t,"float32"),a);r([e,o]);const s=xo(Gn(o,e));return{value:Ja(s,[n]),gradFunc:(e,t)=>{const[r,a]=t,o=Qa(e.shape,[n]);return[Gn(ea(e,o),ir(jn(r,"float32"),to(a))),Gn(ea(e,o),ir(to(a),jn(r,"float32")))]}}}));return r(e,t)}(o,s);return pl(l,i,a)}});const kl=It({sparseFillEmptyRows_:function(e,t,n,r){const a=Tt(e,"indices","sparseFillEmptyRows","int32"),o=Tt(t,"values","sparseFillEmptyRows"),s=Tt(n,"denseShape","sparseFillEmptyRows","int32"),i=Tt(r,"defaultValue","sparseFillEmptyRows",o.dtype);if(2!==a.rank)throw new Error("Indices should be Tensor2D but received shape\n        ".concat(a.shape));if(1!==o.rank)throw new Error("Values should be Tensor1D but received shape ".concat(o.shape));if(1!==s.rank)throw new Error("Dense shape should be Tensor1D but received shape ".concat(s.shape));if(0!==i.rank)throw new Error("Default value should be a scalar but received shape ".concat(i.shape));const l={indices:a,values:o,denseShape:s,defaultValue:i},u=vt.runKernel("SparseFillEmptyRows",l);return{outputIndices:u[0],outputValues:u[1],emptyRowIndicator:u[2],reverseIndexMap:u[3]}}});const xl=It({sparseReshape_:function(e,t,n){const r=Tt(e,"inputIndices","sparseReshape","int32"),a=Tt(t,"inputShape","sparseReshape","int32"),o=Tt(n,"newShape","sparseReshape","int32");if(2!==r.rank)throw new Error("Input indices should be Tensor2D but received shape\n        ".concat(r.shape));if(1!==a.rank)throw new Error("Input shape should be Tensor1D but received shape ".concat(a.shape));if(1!==o.rank)throw new Error("New shape should be Tensor1D but received shape ".concat(o.shape));const s={inputIndices:r,inputShape:a,newShape:o},i=vt.runKernel("SparseReshape",s);return{outputIndices:i[0],outputShape:i[1]}}});const Sl=It({sparseSegmentMean_:function(e,t,n){const r=Tt(e,"data","sparseSegmentMean"),a=Tt(t,"indices","sparseSegmentMean","int32"),o=Tt(n,"segmentIds","sparseSegmentMean","int32");if(r.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==a.rank)throw new Error("Indices should be Tensor1D but received shape\n          ".concat(a.shape));if(1!==o.rank)throw new Error("Segment ids should be Tensor1D but received shape\n          ".concat(o.shape));const s={data:r,indices:a,segmentIds:o};return vt.runKernel("SparseSegmentMean",s)}});const Nl=It({sparseSegmentSum_:function(e,t,n){const r=Tt(e,"data","sparseSegmentSum"),a=Tt(t,"indices","sparseSegmentSum","int32"),o=Tt(n,"segmentIds","sparseSegmentSum","int32");if(r.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==a.rank)throw new Error("Indices should be Tensor1D but received shape\n         ".concat(a.shape));if(1!==o.rank)throw new Error("Segment ids should be Tensor1D but received shape\n         ".concat(o.shape));const s={data:r,indices:a,segmentIds:o};return vt.runKernel("SparseSegmentSum",s)}});const Tl=It({stringNGrams_:function(e,t,n,r,a,o,s,i){const l=Tt(e,"data","stringNGrams","string");if("string"!==l.dtype)throw new Error("Data must be of datatype string");if(1!==l.shape.length)throw new Error("Data must be a vector, saw: ".concat(l.shape));const u=Tt(t,"dataSplits","stringNGrams");if("int32"!==u.dtype)throw new Error("Data splits must be of datatype int32");const c={separator:n,nGramWidths:r,leftPad:a,rightPad:o,padWidth:s,preserveShortSequences:i},d={data:l,dataSplits:u},p=vt.runKernel("StringNGrams",d,c);return{nGrams:p[0],nGramsSplits:p[1]}}});const El={fft:Us,ifft:Ws,rfft:Ks,irfft:qs},_l={hammingWindow:Pi,hannWindow:Fi,frame:Li,stft:zi},Il={flipLeftRight:Vi,grayscaleToRGB:ji,resizeNearestNeighbor:al,resizeBilinear:rl,rgbToGrayscale:Ui,rotateWithOffset:Wi,cropAndResize:Bi,nonMaxSuppression:Hi,nonMaxSuppressionAsync:Xi,nonMaxSuppressionWithScore:Zi,nonMaxSuppressionWithScoreAsync:el,nonMaxSuppressionPadded:tl,nonMaxSuppressionPaddedAsync:nl,threshold:ol,transform:sl},Cl={bandPart:il,gramSchmidt:ll,qr:cl},Al={absoluteDifference:hl,computeWeightedLoss:pl,cosineDistance:fl,hingeLoss:ml,huberLoss:gl,logLoss:yl,meanSquaredError:bl,sigmoidCrossEntropy:vl,softmaxCrossEntropy:wl},Ml={sparseFillEmptyRows:kl,sparseReshape:xl,sparseSegmentMean:Sl,sparseSegmentSum:Nl},Ol={stringNGrams:Tl,stringSplit:It({stringSplit_:function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=Tt(e,"input","stringSplit","string"),a=Tt(t,"delimiter","stringSplit","string");if(1!==r.rank)throw new Error("Input should be Tensor1D but received shape ".concat(r.shape));if(0!==a.rank)throw new Error("Delimiter should be a scalar but received shape ".concat(a.shape));const o={skipEmpty:n},s={input:r,delimiter:a},i=vt.runKernel("StringSplit",s,o);return{indices:i[0],values:i[1],shape:i[2]}}}),stringToHashBucketFast:It({stringToHashBucketFast_:function(e,t){const n=Tt(e,"input","stringToHashBucketFast","string"),r={numBuckets:t};if(t<=0)throw new Error("Number of buckets must be at least 1");const a={input:n};return vt.runKernel("StringToHashBucketFast",a,r)}}),staticRegexReplace:It({staticRegexReplace_:function(e,t,n){let r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const a=Tt(e,"input","staticRegexReplace","string"),o={pattern:t,rewrite:n,replaceGlobal:r};return vt.runKernel("StaticRegexReplace",{x:a},o)}})};!function(){for(const e of pr)rr(e)}();var Dl,Rl;ie().registerFlag("KEEP_INTERMEDIATE_TENSORS",(()=>!1),(e=>{e&&console.warn("Keep intermediate tensors is ON. This will print the values of all intermediate tensors during model inference. Not all models support this mode. For details, check e2e/benchmarks/ model_config.js. This significantly impacts performance.")})),function(e){e[e.DT_INVALID=0]="DT_INVALID",e[e.DT_FLOAT=1]="DT_FLOAT",e[e.DT_DOUBLE=2]="DT_DOUBLE",e[e.DT_INT32=3]="DT_INT32",e[e.DT_UINT8=4]="DT_UINT8",e[e.DT_INT16=5]="DT_INT16",e[e.DT_INT8=6]="DT_INT8",e[e.DT_STRING=7]="DT_STRING",e[e.DT_COMPLEX64=8]="DT_COMPLEX64",e[e.DT_INT64=9]="DT_INT64",e[e.DT_BOOL=10]="DT_BOOL",e[e.DT_QINT8=11]="DT_QINT8",e[e.DT_QUINT8=12]="DT_QUINT8",e[e.DT_QINT32=13]="DT_QINT32",e[e.DT_BFLOAT16=14]="DT_BFLOAT16",e[e.DT_QINT16=15]="DT_QINT16",e[e.DT_QUINT16=16]="DT_QUINT16",e[e.DT_UINT16=17]="DT_UINT16",e[e.DT_COMPLEX128=18]="DT_COMPLEX128",e[e.DT_HALF=19]="DT_HALF",e[e.DT_RESOURCE=20]="DT_RESOURCE",e[e.DT_VARIANT=21]="DT_VARIANT",e[e.DT_UINT32=22]="DT_UINT32",e[e.DT_UINT64=23]="DT_UINT64",e[e.DT_FLOAT_REF=101]="DT_FLOAT_REF",e[e.DT_DOUBLE_REF=102]="DT_DOUBLE_REF",e[e.DT_INT32_REF=103]="DT_INT32_REF",e[e.DT_UINT8_REF=104]="DT_UINT8_REF",e[e.DT_INT16_REF=105]="DT_INT16_REF",e[e.DT_INT8_REF=106]="DT_INT8_REF",e[e.DT_STRING_REF=107]="DT_STRING_REF",e[e.DT_COMPLEX64_REF=108]="DT_COMPLEX64_REF",e[e.DT_INT64_REF=109]="DT_INT64_REF",e[e.DT_BOOL_REF=110]="DT_BOOL_REF",e[e.DT_QINT8_REF=111]="DT_QINT8_REF",e[e.DT_QUINT8_REF=112]="DT_QUINT8_REF",e[e.DT_QINT32_REF=113]="DT_QINT32_REF",e[e.DT_BFLOAT16_REF=114]="DT_BFLOAT16_REF",e[e.DT_QINT16_REF=115]="DT_QINT16_REF",e[e.DT_QUINT16_REF=116]="DT_QUINT16_REF",e[e.DT_UINT16_REF=117]="DT_UINT16_REF",e[e.DT_COMPLEX128_REF=118]="DT_COMPLEX128_REF",e[e.DT_HALF_REF=119]="DT_HALF_REF",e[e.DT_RESOURCE_REF=120]="DT_RESOURCE_REF",e[e.DT_VARIANT_REF=121]="DT_VARIANT_REF",e[e.DT_UINT32_REF=122]="DT_UINT32_REF",e[e.DT_UINT64_REF=123]="DT_UINT64_REF"}(Dl||(Dl={})),function(e){let t;!function(e){e[e.LEGACY=0]="LEGACY",e[e.V1=1]="V1",e[e.V2=2]="V2"}(t=e.CheckpointFormatVersion||(e.CheckpointFormatVersion={}))}(Rl||(Rl={}));const Pl={};function Fl(e){return Pl[e]}function Ll(e,t,n,r,a){const o=t.inputParams[e];if(o&&void 0!==o.inputIndexStart){const e=o.inputIndexStart,s=0===o.inputIndexEnd?void 0:void 0===o.inputIndexEnd?e+1:o.inputIndexEnd,i=e<0?t.inputNames.length+e:e;if("tensor"===o.type)return zl(t.inputNames[i],n,r,a);if("tensors"===o.type){const o=t.inputs.slice(e,s);return t.inputNames.slice(e,s).filter(((e,t)=>{var n;return"NoOp"!==(null===(n=o[t])||void 0===n?void 0:n.op)})).map((e=>zl(e,n,r,a)))}const l=zl(t.inputNames[i],n,r,a),u=l.dataSync();return"number"===o.type?u[0]:Z(l.shape,u)}const s=t.attrParams[e];return s&&s.value}function zl(e,t,n,r){const[a,o]=Ul(e,n);if(null!=r){const e=r.getHashTableHandleByName(a);if(null!=e)return e}const s=n.currentContextIds.find((e=>!!t[jl(a,e)]));return void 0!==s?t[jl(a,s)][o]:void 0}function Bl(e,t,n){return t[jl(e,n.currentContextId)]}function Vl(e,t){const[n,r,a]=Ul(e,t);return[jl(n,t&&t.currentContextId),r,a]}function jl(e,t){return t?"".concat(e,"-").concat(t):e}function Ul(e,t){if(""===e)return["",0,void 0];const n=null!=t&&null!=t.parseNodeNameCache;if(n){const n=t.parseNodeNameCache.get(e);if(null!=n)return n}const r=e.split(":");let a;if(1===r.length)a=[e,0,void 0];else{const e=r[0],t=3===r.length?r[1]:void 0;a=[e,Number(r[r.length-1]),t]}return n&&t.parseNodeNameCache.set(e,a),a}function Wl(e,t,n){let r=Ll("pad",e,t,n);if("explicit"===r){r=Ll("explicitPaddings",e,t,n);const a=[[0,0],[0,0],[0,0],[0,0]];for(let e=0;e<4;e++)a[e][0]=r[2*e],a[e][1]=r[2*e+1];return a}return r}function ql(e){return e.kept?e:Un(e)}const Hl=[{tfOpName:"Add",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddV2",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddN",category:"arithmetic",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"BiasAdd",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"Sub",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"RealDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Div",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"DivNoNan",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mul",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Maximum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Minimum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Pow",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SquaredDifference",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorMod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],Kl=[{tfOpName:"Abs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan2",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Ceil",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ClipByValue",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"clipValueMin",type:"number"},{start:2,name:"clipValueMax",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Complex",category:"basic_math",inputs:[{start:0,name:"real",type:"tensor"},{start:1,name:"imag",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ComplexAbs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Elu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Exp",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Floor",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Imag",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Neg",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Real",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Prelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"alpha",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu6",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Selu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sigmoid",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Rsqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Square",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sign",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Round",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Expm1",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log1p",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Reciprocal",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Softplus",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Erf",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LeakyRelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"alpha",name:"alpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsNan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsFinite",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsInf",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],Gl=[{tfOpName:"EmptyTensorList",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"maxNumElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"LoopCond",category:"control",inputs:[{start:0,name:"pred",type:"tensor"}]},{tfOpName:"Switch",category:"control",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"pred",type:"tensor"}]},{tfOpName:"Merge",category:"control",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"Enter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"frame_name",name:"frameName",type:"string"},{tfName:"is_constant",name:"isConstant",type:"bool"}]},{tfOpName:"Exit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NextIteration",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayV3",category:"control",inputs:[{start:0,name:"size",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"dynamic_size",name:"dynamicSize",type:"bool"},{tfName:"clear_after_read",name:"clearAfterRead",type:"bool"},{tfName:"identical_element_shapes",name:"identicalElementShapes",type:"bool"},{tfName:"tensor_array_name",name:"name",type:"string"}]},{tfOpName:"TensorArrayWriteV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayReadV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayGatherV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"}]},{tfOpName:"TensorArrayScatterV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArrayConcatV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape_except0",name:"elementShapeExcept0",type:"shape",notSupported:!0}]},{tfOpName:"TensorArraySplitV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"tensor",type:"tensor"},{start:2,name:"lengths",type:"number[]"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArraySizeV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}]},{tfOpName:"TensorArrayCloseV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"}]},{tfOpName:"StatelessIf",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"If",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"StatelessWhile",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"While",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"TensorListScatter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListScatterV2",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"},{start:3,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGather",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListSetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListReserve",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListFromTensor",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListStack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"},{tfName:"num_elements",name:"numElements",type:"dtype"}]},{tfOpName:"TensorListSplit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"},{start:2,name:"lengths",type:"number[]"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcat",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcatV2",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPopBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPushBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListLength",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}]},{tfOpName:"TensorListResize",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"size",type:"number"}]}],Ql=[{tfOpName:"AvgPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[],notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPoolWithArgmax",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"include_batch_in_index",name:"includeBatchInIndex",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AvgPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Conv1D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"stride",name:"stride",type:"number"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NWC"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"dilation",name:"dilation",type:"number",defaultValue:1}]},{tfOpName:"Conv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"useCudnnOnGpu",name:"useCudnnOnGpu",type:"bool"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"_FusedConv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"use_cudnn_on_gpu",name:"useCudnnOnGpu",type:"bool",defaultValue:!0},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number",defaultValue:.2}]},{tfOpName:"Conv2DBackpropInput",category:"convolution",inputs:[{start:2,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:0,name:"outputShape",type:"number[]"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]",notSupported:!0}]},{tfOpName:"DepthwiseConv2d",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"DepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"FusedDepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]}]},{tfOpName:"Conv3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"Dilation2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"rates",name:"dilations",type:"number[]"},{tfName:"padding",name:"pad",type:"string"}]}],$l=[{tfOpName:"Fill",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"},{start:1,name:"value",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"LinSpace",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"num",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"OneHot",category:"creation",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"depth",type:"number"},{start:2,name:"onValue",type:"number",defaultValue:1},{start:3,name:"offValue",type:"number",defaultValue:0}],attrs:[{tfName:"axis",name:"axis",type:"number",notSupported:!0},{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Ones",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"OnesLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"RandomStandardNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"RandomUniform",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"minval",name:"minval",type:"number",defaultValue:0},{tfName:"maxval",name:"maxval",type:"number",defaultValue:1},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"RandomUniformInt",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"minval",name:"minval",type:"number"},{tfName:"maxval",name:"maxval",type:"number"},{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Range",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"step",type:"number",defaultValue:0}],attrs:[{tfName:"Tidx",name:"dtype",type:"dtype"}]},{tfOpName:"TruncatedNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"means",name:"mean",type:"number",defaultValue:0},{tfName:"stddev",name:"stdDev",type:"number",defaultValue:1},{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"Zeros",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"ZerosLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Multinomial",category:"creation",inputs:[{start:0,name:"logits",type:"tensor"},{start:1,name:"numSamples",type:"number"}],attrs:[{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number"},{tfName:"T",name:"dtype",type:"dtype"},{tfName:"output_dtype",name:"output_dtype",type:"dtype"}]}],Yl=[{tfOpName:"NonMaxSuppressionV2",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV3",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV4",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"T_threshold",name:"threshold",type:"dtype",notSupported:!0},{tfName:"pad_to_max_output_size",name:"padToMaxOutputSize",type:"bool"}]},{tfOpName:"NonMaxSuppressionV5",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"},{start:5,name:"softNmsSigma",type:"number"}]},{tfOpName:"Where",category:"dynamic",inputs:[{start:0,name:"condition",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ListDiff",category:"dynamic",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],Jl=[{tfOpName:"LowerBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"TopKV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"k",type:"number"}],attrs:[{tfName:"sorted",name:"sorted",type:"bool"}]},{tfOpName:"UpperBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"Unique",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"UniqueV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]}],Xl=[{tfOpName:"PlaceholderWithDefault",category:"graph",inputs:[{start:0,name:"default",type:"tensor"}],attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Placeholder",category:"graph",attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Const",category:"graph"},{tfOpName:"Identity",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IdentityN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Snapshot",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Rank",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Size",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Shape",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"ShapeN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Print",category:"graph",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"data",type:"tensors"}],attrs:[{tfName:"message",name:"message",type:"string"},{tfName:"first_n",name:"firstN",type:"number",notSupported:!0},{tfName:"summarize",name:"summarize",type:"number",defaultValue:3}]},{tfOpName:"NoOp",category:"graph",inputs:[]},{tfOpName:"StopGradient",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"FakeQuantWithMinMaxVars",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"min",name:"min",type:"number"},{tfName:"max",name:"max",type:"number"}]}],Zl=[{tfOpName:"HashTable",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"HashTableV2",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"LookupTableImport",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableImportV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFind",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFindV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableSize",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]},{tfOpName:"LookupTableSizeV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]},{tfOpName:"InitializeTable",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}]},{tfOpName:"InitializeTableV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}]}],eu=[{tfOpName:"ResizeBilinear",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ResizeNearestNeighbor",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"CropAndResize",category:"image",inputs:[{start:0,name:"image",type:"tensor"},{start:1,name:"boxes",type:"tensor"},{start:2,name:"boxInd",type:"tensor"},{start:3,name:"cropSize",type:"number[]"}],attrs:[{tfName:"method",name:"method",type:"string"},{tfName:"extrapolation_value",name:"extrapolationValue",type:"number"}]},{tfOpName:"ImageProjectiveTransformV3",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"transforms",type:"tensor"},{start:2,name:"outputShape",type:"number[]"},{start:3,name:"fillValue",type:"number"}],attrs:[{tfName:"interpolation",name:"interpolation",type:"string"},{tfName:"fill_mode",name:"fillMode",type:"string"}]}],tu=[{tfOpName:"Equal",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NotEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Greater",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"GreaterEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Less",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LessEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalAnd",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalNot",category:"logical",inputs:[{start:0,name:"a",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalOr",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Select",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SelectV2",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BitwiseAnd",category:"logical",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}]}],nu=[{tfOpName:"_FusedMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMulV2",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Transpose",category:"matrices",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"perm",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Einsum",category:"matrices",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"equation",name:"equation",type:"string"},{tfName:"N",name:"n",type:"number",defaultValue:2},{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"MatrixBandPart",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"numLower",type:"tensor"},{start:1,name:"numUpper",type:"tensor"}]}],ru=[{tfOpName:"EuclideanNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool",defaultValue:!1}]},{tfOpName:"FusedBatchNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV2",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV3",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"LRN",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"depth_radius",name:"radius",type:"number",defaultValue:5},{tfName:"bias",name:"bias",type:"number",defaultValue:1},{tfName:"alpha",name:"alpha",type:"number",defaultValue:1},{tfName:"beta",name:"beta",type:"number",defaultValue:.5}]},{tfOpName:"Softmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"LogSoftmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]}],au=[{tfOpName:"Bincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}]},{tfOpName:"DenseBincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}],attrs:[{tfName:"binary_output",name:"binaryOutput",type:"bool"}]},{tfOpName:"Max",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Mean",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Min",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Sum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"All",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Any",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"ArgMax",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"ArgMin",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"Prod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cumprod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]},{tfOpName:"Cumsum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]}],ou=[{tfOpName:"ConcatV2",category:"slice_join",inputs:[{start:0,end:-1,name:"tensors",type:"tensors"},{start:-1,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"Concat",category:"slice_join",inputs:[{start:1,end:0,name:"tensors",type:"tensors"},{start:0,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"GatherV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"axis",type:"number",defaultValue:0}],attrs:[{tfName:"batch_dims",name:"batchDims",type:"number",defaultValue:0}]},{tfOpName:"Gather",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",notSupported:!0}]},{tfOpName:"Reverse",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"dims",type:"bool[]"}]},{tfOpName:"ReverseV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}]},{tfOpName:"Slice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"size",type:"number[]"}]},{tfOpName:"StridedSlice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"end",type:"number[]"},{start:3,name:"strides",type:"number[]"}],attrs:[{tfName:"begin_mask",name:"beginMask",type:"number",defaultValue:0},{tfName:"end_mask",name:"endMask",type:"number",defaultValue:0},{tfName:"new_axis_mask",name:"newAxisMask",type:"number",defaultValue:0},{tfName:"ellipsis_mask",name:"ellipsisMask",type:"number",defaultValue:0},{tfName:"shrink_axis_mask",name:"shrinkAxisMask",type:"number",defaultValue:0}]},{tfOpName:"Pack",category:"slice_join",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0}]},{tfOpName:"Unpack",category:"slice_join",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0},{tfName:"num",name:"num",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Tile",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"reps",type:"number[]"}]},{tfOpName:"Split",category:"slice_join",inputs:[{start:0,name:"axis",type:"number",defaultValue:0},{start:1,name:"x",type:"tensor"}],attrs:[{tfName:"num_split",name:"numOrSizeSplits",type:"number",defaultValue:1}]},{tfOpName:"SplitV",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"numOrSizeSplits",type:"number[]"},{start:2,name:"axis",type:"number",defaultValue:0}]},{tfOpName:"ScatterNd",category:"slice_join",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"shape",type:"number[]"}]},{tfOpName:"GatherNd",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}]},{tfOpName:"SparseToDense",category:"slice_join",inputs:[{start:0,name:"sparseIndices",type:"tensor"},{start:1,name:"outputShape",type:"number[]"},{start:2,name:"sparseValues",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",defaultValue:!1,notSupported:!0}]},{tfOpName:"TensorScatterUpdate",category:"slice_join",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"values",type:"tensor"}]}],su=[{tfOpName:"SparseFillEmptyRows",category:"sparse",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"denseShape",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}]},{tfOpName:"SparseReshape",category:"sparse",inputs:[{start:0,name:"inputIndices",type:"tensor"},{start:1,name:"inputShape",type:"tensor"},{start:2,name:"newShape",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SparseSegmentMean",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]},{tfOpName:"SparseSegmentSum",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]}],iu=[{tfOpName:"FFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"RFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]},{tfOpName:"IRFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]}],lu=[{tfOpName:"StaticRegexReplace",category:"string",inputs:[{start:0,name:"input",type:"tensor"}],attrs:[{tfName:"pattern",name:"pattern",type:"string"},{tfName:"rewrite",name:"rewrite",type:"string"},{tfName:"replace_global",name:"replaceGlobal",type:"bool"}]},{tfOpName:"StringNGrams",category:"string",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"dataSplits",type:"tensor"}],attrs:[{tfName:"separator",name:"separator",type:"string"},{tfName:"ngram_widths",name:"nGramWidths",type:"number[]"},{tfName:"left_pad",name:"leftPad",type:"string"},{tfName:"right_pad",name:"rightPad",type:"string"},{tfName:"pad_width",name:"padWidth",type:"number"},{tfName:"preserve_short_sequences",name:"preserveShortSequences",type:"bool"}],outputs:["ngrams","ngrams_splits"]},{tfOpName:"StringSplit",category:"string",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"delimiter",type:"tensor"}],attrs:[{tfName:"skip_empty",name:"skipEmpty",type:"bool"}],outputs:["indices","values","shape"]},{tfOpName:"StringToHashBucketFast",category:"string",inputs:[{start:0,name:"input",type:"tensor"}],attrs:[{tfName:"num_buckets",name:"numBuckets",type:"number"}]}],uu=[{tfOpName:"Cast",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"SrcT",name:"sdtype",type:"dtype",notSupported:!0},{tfName:"DstT",name:"dtype",type:"dtype"}]},{tfOpName:"ExpandDims",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"MirrorPad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"mode",name:"mode",type:"string"}]},{tfOpName:"Pad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"constant_value",name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"PadV2",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"},{start:2,name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"Reshape",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}]},{tfOpName:"EnsureShape",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}]},{tfOpName:"Squeeze",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"axis",tfDeprecatedName:"squeeze_dims",name:"axis",type:"number[]"}]},{tfOpName:"SpaceToBatchND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"paddings",type:"number[]"}]},{tfOpName:"BatchToSpaceND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"crops",type:"number[]"}]},{tfOpName:"DepthToSpace",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"block_size",name:"blockSize",type:"number"},{tfName:"data_format",name:"dataFormat",type:"string"}]},{tfOpName:"BroadcastTo",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}],attrs:[]},{tfOpName:"BroadcastArgs",category:"transformation",inputs:[{start:0,name:"s0",type:"tensor"},{start:1,name:"s1",type:"tensor"}],attrs:[]}];class cu{static get Instance(){return this._instance||(this._instance=new this)}constructor(){const e=[].concat(...[r,a,o,s,i,l,u,c,d,p,h,f,m,g,y,b,v,w,k].map((e=>e.json)));this.opMappers=e.reduce(((e,t)=>(e[t.tfOpName]=t,e)),{})}transformGraph(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=e.node,r=[],a=[],o=[],s=n.reduce(((e,t)=>(e[t.name]=this.mapNode(t),t.op.startsWith("Placeholder")?r.push(e[t.name]):"Const"===t.op?a.push(e[t.name]):null!=t.input&&0!==t.input.length||o.push(e[t.name]),e)),{});let i=[];const l=[];let u={},c={};null!=t&&(u=this.mapSignatureEntries(t.inputs),c=this.mapSignatureEntries(t.outputs));const d=Object.keys(s);d.forEach((e=>{const t=s[e];t.inputNames.forEach(((e,n)=>{const[r,,a]=Vl(e),o=s[r];if(null!=o.outputs){const e=o.outputs.indexOf(a);if(-1!==e){const a="".concat(r,":").concat(e);t.inputNames[n]=a}}t.inputs.push(o),o.children.push(t)}))})),0===Object.keys(c).length?d.forEach((e=>{const t=s[e];0===t.children.length&&l.push(t)})):Object.keys(c).forEach((e=>{const[t]=Vl(e),n=s[t];null!=n&&(n.signatureKey=c[e],l.push(n))})),Object.keys(u).length>0?Object.keys(u).forEach((e=>{const[t]=Vl(e),n=s[t];n&&(n.signatureKey=u[e],i.push(n))})):i=r;let p={};null!=e.library&&null!=e.library.function&&(p=e.library.function.reduce(((e,t)=>(e[t.signature.name]=this.mapFunction(t),e)),{}));const h={nodes:s,inputs:i,outputs:l,weights:a,placeholders:r,signature:t,functions:p};return o.length>0&&(h.initNodes=o),h}mapSignatureEntries(e){return Object.keys(e||{}).reduce(((t,n)=>(t[e[n].name]=n,t)),{})}mapNode(e){const t=Fl(e.op)||this.opMappers[e.op]||{};null==e.attr&&(e.attr={});const n={name:e.name,op:e.op,category:t.category,inputNames:(e.input||[]).map((e=>e.startsWith("^")?e.slice(1):e)),inputs:[],children:[],inputParams:{},attrParams:{},rawAttrs:e.attr,outputs:t.outputs};return null!=t.inputs&&(n.inputParams=t.inputs.reduce(((e,t)=>(e[t.name]={type:t.type,inputIndexStart:t.start,inputIndexEnd:t.end},e)),{})),null!=t.attrs&&(n.attrParams=t.attrs.reduce(((t,n)=>{const r=n.type;let a;switch(n.type){case"string":a=pu(e.attr,n.tfName,n.defaultValue),void 0===a&&n.tfDeprecatedName&&(a=pu(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"string[]":a=xu(e.attr,n.tfName,n.defaultValue),void 0===a&&n.tfDeprecatedName&&(a=xu(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"number":a=fu(e.attr,n.tfName,n.defaultValue||0),void 0===a&&n.tfDeprecatedName&&(a=fu(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"number[]":a=ku(e.attr,n.tfName,n.defaultValue),void 0===a&&n.tfDeprecatedName&&(a=ku(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"bool":a=hu(e.attr,n.tfName,n.defaultValue),void 0===a&&n.tfDeprecatedName&&(a=hu(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"bool[]":a=Nu(e.attr,n.tfName,n.defaultValue),void 0===a&&n.tfDeprecatedName&&(a=Nu(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"shape":a=wu(e.attr,n.tfName,n.defaultValue),void 0===a&&n.tfDeprecatedName&&(a=wu(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"shape[]":a=Su(e.attr,n.tfName,n.defaultValue),void 0===a&&n.tfDeprecatedName&&(a=Su(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"dtype":a=yu(e.attr,n.tfName,n.defaultValue),void 0===a&&n.tfDeprecatedName&&(a=yu(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"dtype[]":a=bu(e.attr,n.tfName,n.defaultValue),void 0===a&&n.tfDeprecatedName&&(a=bu(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"func":a=gu(e.attr,n.tfName,n.defaultValue),void 0===a&&n.tfDeprecatedName&&(a=gu(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"tensor":case"tensors":break;default:throw new Error("Unsupported param type: ".concat(n.type," for op: ").concat(e.op))}return t[n.name]={value:a,type:r},t}),{})),n}mapFunction(e){const t=e.nodeDef,n=[];let r={};null!=t&&(r=t.reduce(((e,t)=>(e[t.name]=this.mapNode(t),"Const"===t.op&&n.push(e[t.name]),e)),{}));const a=[],o=[];e.signature.inputArg.forEach((e=>{const[t]=Vl(e.name),n={name:t,op:"Placeholder",inputs:[],inputNames:[],category:"graph",inputParams:{},attrParams:{dtype:{value:mu(e.type),type:"dtype"}},children:[]};n.signatureKey=e.name,a.push(n),r[t]=n}));Object.keys(r).forEach((e=>{const t=r[e];t.inputNames.forEach(((e,n)=>{const[a,,o]=Vl(e),s=r[a];if(null!=s.outputs){const e=s.outputs.indexOf(o);if(-1!==e){const r="".concat(a,":").concat(e);t.inputNames[n]=r}}t.inputs.push(s),s.children.push(t)}))}));const s=e.ret;e.signature.outputArg.forEach((e=>{const[t,n]=Vl(s[e.name]),a=r[t];null!=a&&(a.defaultOutput=n,o.push(a))}));const i=this.mapArgsToSignature(e);return{nodes:r,inputs:a,outputs:o,weights:n,placeholders:[],signature:i}}mapArgsToSignature(e){return{methodName:e.signature.name,inputs:e.signature.inputArg.reduce(((e,t)=>(e[t.name]=this.mapArgToTensorInfo(t),e)),{}),outputs:e.signature.outputArg.reduce(((t,n)=>(t[n.name]=this.mapArgToTensorInfo(n,e.ret),t)),{})}}mapArgToTensorInfo(e,t){let n=e.name;return null!=t&&(n=t[n]),{name:n,dtype:e.type}}}function du(e,t){const n=Array.isArray(e)?String.fromCharCode.apply(null,e):function(e){const t=ie().global;if("undefined"!==typeof t.atob)return t.atob(e);if("undefined"!==typeof Buffer)return new Buffer(e,"base64").toString();throw new Error("Unable to decode base64 in this environment. Missing built-in atob() or Buffer()")}(e);return t?n:n.toLowerCase()}function pu(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const a=e[t];return null!=a?du(a.s,r):n}function hu(e,t,n){const r=e[t];return r?r.b:n}function fu(e,t,n){const r=e[t]||{},a=null!=r.i?r.i:null!=r.f?r.f:n;return"number"===typeof a?a:parseInt(a,10)}function mu(e){switch("string"===typeof e&&(e=Dl[e]),e){case Dl.DT_FLOAT:case Dl.DT_HALF:return"float32";case Dl.DT_INT32:case Dl.DT_INT64:case Dl.DT_INT8:case Dl.DT_UINT8:return"int32";case Dl.DT_BOOL:return"bool";case Dl.DT_DOUBLE:return"float32";case Dl.DT_STRING:return"string";case Dl.DT_COMPLEX64:case Dl.DT_COMPLEX128:return"complex64";default:return null}}function gu(e,t,n){const r=e[t];return r&&r.func?r.func.name:n}function yu(e,t,n){const r=e[t];return r&&r.type?mu(r.type):n}function bu(e,t,n){const r=e[t];return r&&r.list&&r.list.type?r.list.type.map((e=>mu(e))):n}function vu(e){if(!e.unknownRank)return null!=e.dim?e.dim.map((e=>"number"===typeof e.size?e.size:parseInt(e.size,10))):[]}function wu(e,t,n){const r=e[t];return r&&r.shape?vu(r.shape):n}function ku(e,t,n){const r=e[t];return r?((r.list.f&&r.list.f.length?r.list.f:r.list.i)||[]).map((e=>"number"===typeof e?e:parseInt(e,10))):n}function xu(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const a=e[t];return a&&a.list&&a.list.s?a.list.s.map((e=>du(e,r))):n}function Su(e,t,n){const r=e[t];return r&&r.list&&r.list.shape?r.list.shape.map((e=>vu(e))):n}function Nu(e,t,n){const r=e[t];return r&&r.list&&r.list.b?r.list.b:n}class Tu{constructor(e,t,n){this.node=e,this.tensorMap=t,this.context=n,this.inputs=[],this.attrs={},this.inputs=e.inputNames.map((e=>this.getInput(e))),null!=e.rawAttrs&&(this.attrs=Object.keys(e.rawAttrs).reduce(((e,t)=>(e[t]=this.getAttr(t),e)),{}))}getInput(e){return zl(e,this.tensorMap,this.context)}getAttr(e,t){const n=this.node.rawAttrs[e];if(null!=n.tensor)return zl(e,this.tensorMap,this.context);if(null!=n.i||null!=n.f)return fu(this.node.rawAttrs,e,t);if(null!=n.s)return pu(this.node.rawAttrs,e,t);if(null!=n.b)return hu(this.node.rawAttrs,e,t);if(null!=n.shape)return wu(this.node.rawAttrs,e,t);if(null!=n.type)return yu(this.node.rawAttrs,e,t);if(null!=n.list){if(null!=n.list.i||null!=n.list.f)return ku(this.node.rawAttrs,e,t);if(null!=n.list.s)return xu(this.node.rawAttrs,e,t);if(null!=n.list.shape)return Su(this.node.rawAttrs,e,t);if(null!=n.list.b)return Nu(this.node.rawAttrs,e,t);if(null!=n.list.type)return bu(this.node.rawAttrs,e,t)}return t}}function Eu(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if("number"!==typeof e&&"number"!==typeof t){z(e.length===t.length,(()=>n+" Shapes ".concat(e," and ").concat(t," must match")));for(let r=0;r<e.length;r++){const a=e[r],o=t[r];z(a<0||o<0||a===o,(()=>n+" Shapes ".concat(e," and ").concat(t," must match")))}}}function _u(e){return"number"!==typeof e&&!e.some((e=>e<0))}function Iu(e,t,n){let r=Cu(e,n);const a=!_u(r);if(a&&0===t.length)throw new Error("Tried to calculate elements of an empty list"+" with non-fully-defined elementShape: ".concat(r));if(a&&t.forEach((e=>{r=Cu(e.shape,r)})),!_u(r))throw new Error("Non-fully-defined elementShape: ".concat(r));return r}function Cu(e,t){if("number"===typeof e)return t;if("number"===typeof t)return e;if(e.length!==t.length)throw new Error("Incompatible ranks during merge: ".concat(e," vs. ").concat(t));const n=[];for(let r=0;r<e.length;++r){const a=e[r],o=t[r];if(a>=0&&o>=0&&a!==o)throw new Error("Incompatible shape during merge: ".concat(e," vs. ").concat(t));n[r]=a>=0?a:o}return n}class Au{constructor(e,t,n,r,a,o,s){this.name=e,this.dtype=t,this.maxSize=n,this.elementShape=r,this.identicalElementShapes=a,this.dynamicSize=o,this.clearAfterRead=s,this.tensors=[],this.closed_=!1,this.idTensor=Xn(0),Ft(this.idTensor)}get id(){return this.idTensor.id}get closed(){return this.closed_}clearAndClose(e){this.tensors.forEach((t=>{null!=e&&e.has(t.tensor.id)||t.tensor.dispose()})),this.tensors=[],this.closed_=!0,this.idTensor.dispose()}size(){return this.tensors.length}read(e){if(this.closed_)throw new Error("TensorArray ".concat(this.name," has already been closed."));if(e<0||e>=this.size())throw new Error("Tried to read from index ".concat(e,", but array size is: ").concat(this.size()));const t=this.tensors[e];if(t.cleared)throw new Error("TensorArray ".concat(this.name,": Could not read index ").concat(e," twice because it was cleared after a previous read ")+"(perhaps try setting clear_after_read = false?).");return this.clearAfterRead&&(t.cleared=!0),t.read=!0,t.tensor}readMany(e){return e.map((e=>this.read(e)))}write(e,t){if(this.closed_)throw new Error("TensorArray ".concat(this.name," has already been closed."));if(e<0||!this.dynamicSize&&e>=this.maxSize)throw new Error("Tried to write to index ".concat(e,", but array is not resizeable and size is: ").concat(this.maxSize));const n=this.tensors[e]||{};if(t.dtype!==this.dtype)throw new Error("TensorArray ".concat(this.name,": Could not write to TensorArray index ").concat(e,",\n          because the value dtype is ").concat(t.dtype,", but TensorArray dtype is ").concat(this.dtype,"."));if(0!==this.size()||null!=this.elementShape&&0!==this.elementShape.length||(this.elementShape=t.shape),Eu(this.elementShape,t.shape,"TensorArray ".concat(this.name,": Could not write to TensorArray index ").concat(e,".")),n.read)throw new Error("TensorArray ".concat(this.name,": Could not write to TensorArray index ").concat(e,", because it has already been read."));if(n.written)throw new Error("TensorArray ".concat(this.name,": Could not write to TensorArray index ").concat(e,", because it has already been written."));n.tensor=t,Ft(t),n.written=!0,this.tensors[e]=n}writeMany(e,t){if(e.length!==t.length)throw new Error("TensorArray ".concat(this.name,": could not write multiple tensors,")+"because the index size: ".concat(e.length," is not the same as tensors size: ").concat(t.length,"."));e.forEach(((e,n)=>this.write(e,t[n])))}gather(e,t){if(t&&t!==this.dtype)throw new Error("TensorArray dtype is ".concat(this.dtype," but gather requested dtype ").concat(t));if(e)e=e.slice(0,this.size());else{e=[];for(let t=0;t<this.size();t++)e.push(t)}if(0===e.length)return Mt([],[0].concat(this.elementShape));const n=this.readMany(e);return Eu(this.elementShape,n[0].shape,"TensorArray shape mismatch: "),$s(n,0)}concat(e){if(e&&e!==this.dtype)throw new Error("TensorArray dtype is ".concat(this.dtype," but concat requested dtype ").concat(e));if(0===this.size())return Mt([],[0].concat(this.elementShape));const t=[];for(let r=0;r<this.size();r++)t.push(r);const n=this.readMany(t);return Eu(this.elementShape,n[0].shape,"TensorArray shape mismatch: tensor array shape (".concat(this.elementShape,") vs first tensor shape (").concat(n[0].shape,")")),ra(n,0)}scatter(e,t){if(t.dtype!==this.dtype)throw new Error("TensorArray dtype is ".concat(this.dtype," but tensor has dtype ").concat(t.dtype));if(e.length!==t.shape[0])throw new Error("Expected len(indices) == tensor.shape[0], but saw: ".concat(e.length," vs. ").concat(t.shape[0]));const n=Math.max(...e);if(!this.dynamicSize&&n>=this.maxSize)throw new Error("Max index must be < array size (".concat(n,"  vs. ").concat(this.maxSize,")"));this.writeMany(e,di(t,0))}split(e,t){if(t.dtype!==this.dtype)throw new Error("TensorArray dtype is ".concat(this.dtype," but tensor has dtype ").concat(t.dtype));let n=0;const r=e.map((e=>(n+=e,n)));if(n!==t.shape[0])throw new Error("Expected sum of lengths to be equal to\n          tensor.shape[0], but sum of lengths is\n        ".concat(n,", and tensor's shape is: ").concat(t.shape));if(!this.dynamicSize&&e.length!==this.maxSize)throw new Error("TensorArray's size is not equal to the size of lengths (".concat(this.maxSize," vs. ").concat(e.length,"), ")+"and the TensorArray is not marked as dynamically resizeable");const a=0===n?0:t.size/n,o=[];Rt((()=>{t=ea(t,[1,n,a]);for(let n=0;n<e.length;++n){const s=[0,0===n?0:r[n-1],0],i=[1,e[n],a];o[n]=ea(sa(t,s,i),this.elementShape)}return o}));const s=[];for(let i=0;i<e.length;i++)s[i]=i;this.writeMany(s,o)}}class Mu{get id(){return this.idTensor.id}constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1;this.tensors=e,this.elementShape=t,this.elementDtype=n,null!=e&&e.forEach((e=>{if(n!==e.dtype)throw new Error("Invalid data types; op elements ".concat(n,", but list elements ").concat(e.dtype));Eu(t,e.shape,"TensorList shape mismatch: "),Ft(e)})),this.idTensor=Xn(0),this.maxNumElements=r,Ft(this.idTensor)}copy(){return new Mu([...this.tensors],this.elementShape,this.elementDtype)}clearAndClose(e){this.tensors.forEach((t=>{null!=e&&e.has(t.id)||t.dispose()})),this.tensors.length=0,this.idTensor.dispose()}size(){return this.tensors.length}stack(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;if(t!==this.elementDtype)throw new Error("Invalid data types; op elements ".concat(t,", but list elements ").concat(this.elementDtype));if(-1!==n&&this.tensors.length!==n)throw new Error("Operation expected a list with ".concat(n," elements but got a list with ").concat(this.tensors.length," elements."));Eu(e,this.elementShape,"TensorList shape mismatch: ");const r=Iu(this.elementShape,this.tensors,e);return Rt((()=>{const e=this.tensors.map((e=>ea(e,r)));return $s(e,0)}))}popBack(e,t){if(t!==this.elementDtype)throw new Error("Invalid data types; op elements ".concat(t,", but list elements ").concat(this.elementDtype));if(0===this.size())throw new Error("Trying to pop from an empty list.");const n=Iu(this.elementShape,this.tensors,e),r=this.tensors.pop();return r.kept=!1,Eu(r.shape,e,"TensorList shape mismatch: "),ea(r,n)}pushBack(e){if(e.dtype!==this.elementDtype)throw new Error("Invalid data types; op elements ".concat(e.dtype,", but list elements ").concat(this.elementDtype));if(Eu(e.shape,this.elementShape,"TensorList shape mismatch: "),this.maxNumElements===this.size())throw new Error("Trying to push element into a full list.");Ft(e),this.tensors.push(e)}resize(e){if(e<0)throw new Error("TensorListResize expects size to be non-negative. Got: ".concat(e));if(-1!==this.maxNumElements&&e>this.maxNumElements)throw new Error("TensorListResize input size ".concat(e," is greater maxNumElement ").concat(this.maxNumElements,"."));const t=new Mu([],this.elementShape,this.elementDtype,this.maxNumElements);t.tensors.length=e;for(let n=0;n<Math.min(this.tensors.length,e);++n)t.tensors[n]=this.tensors[n];return t}getItem(e,t,n){if(n!==this.elementDtype)throw new Error("Invalid data types; op elements ".concat(n,", but list elements ").concat(this.elementDtype));if(e<0||e>this.tensors.length)throw new Error("Trying to access element ".concat(e," in a list with ").concat(this.tensors.length," elements."));if(null==this.tensors[e])throw new Error("element at index ".concat(e," is null."));Eu(this.tensors[e].shape,t,"TensorList shape mismatch: ");const r=Iu(this.elementShape,this.tensors,t);return ea(this.tensors[e],r)}setItem(e,t){if(t.dtype!==this.elementDtype)throw new Error("Invalid data types; op elements ".concat(t.dtype,", but list elements ").concat(this.elementDtype));if(e<0||-1!==this.maxNumElements&&e>=this.maxNumElements)throw new Error("Trying to set element ".concat(e," in a list with max ").concat(this.maxNumElements," elements."));Eu(this.elementShape,t.shape,"TensorList shape mismatch: "),Ft(t),null!=this.tensors[e]&&(this.tensors[e].kept=!1),this.tensors[e]=t}gather(e,t,n){if(t!==this.elementDtype)throw new Error("Invalid data types; op elements ".concat(t,", but list elements ").concat(this.elementDtype));Eu(this.elementShape,n,"TensorList shape mismatch: "),e=e.slice(0,this.size());const r=Iu(this.elementShape,this.tensors,n);return 0===e.length?Mt([],[0].concat(r)):Rt((()=>{const t=e.map((e=>ea(this.tensors[e],r)));return $s(t,0)}))}concat(e,t){if(e&&e!==this.elementDtype)throw new Error("TensorList dtype is ".concat(this.elementDtype," but concat requested dtype ").concat(e));Eu(this.elementShape,t,"TensorList shape mismatch: ");const n=Iu(this.elementShape,this.tensors,t);return 0===this.size()?Mt([],[0].concat(n)):Rt((()=>{const e=this.tensors.map((e=>ea(e,n)));return ra(e,0)}))}}const Ou=async(e,t,n)=>{switch(e.op){case"If":case"StatelessIf":{const r=Ll("thenBranch",e,t,n),a=Ll("elseBranch",e,t,n),o=Ll("cond",e,t,n),s=Ll("args",e,t,n);return(await o.data())[0]?n.functionMap[r].executeFunctionAsync(s,n.tensorArrayMap,n.tensorListMap):n.functionMap[a].executeFunctionAsync(s,n.tensorArrayMap,n.tensorListMap)}case"While":case"StatelessWhile":{const r=Ll("body",e,t,n),a=Ll("cond",e,t,n),o=Ll("args",e,t,n),s=await n.functionMap[a].executeFunctionAsync(o,n.tensorArrayMap,n.tensorListMap),i=o.map((e=>e.id));let l=await s[0].data();s.forEach((e=>{e.kept||-1!==i.indexOf(e.id)||e.dispose()}));let u=o;for(;l[0];){const e=u;u=await n.functionMap[r].executeFunctionAsync(u,n.tensorArrayMap,n.tensorListMap);const t=u.map((e=>e.id));e.forEach((e=>{e.kept||-1!==i.indexOf(e.id)||-1!==t.indexOf(e.id)||e.dispose()}));const o=await n.functionMap[a].executeFunctionAsync(u,n.tensorArrayMap,n.tensorListMap);l=await o[0].data(),o.forEach((e=>{e.kept||-1!==i.indexOf(e.id)||-1!==t.indexOf(e.id)||e.dispose()}))}return u}case"LoopCond":return[ql(Ll("pred",e,t,n))];case"Switch":{const r=Ll("pred",e,t,n);let a=Ll("data",e,t,n);return a.kept||(a=ql(a)),(await r.data())[0]?[void 0,a]:[a,void 0]}case"Merge":{const r=e.inputNames.find((e=>void 0!==zl(e,t,n)));if(r){return[ql(zl(r,t,n))]}return}case"Enter":{const r=Ll("frameName",e,t,n),a=Ll("tensor",e,t,n);return n.enterFrame(r),[ql(a)]}case"Exit":{const r=Ll("tensor",e,t,n);return n.exitFrame(),[ql(r)]}case"NextIteration":{const r=Ll("tensor",e,t,n);return n.nextIteration(),[ql(r)]}case"TensorArrayV3":{const r=Ll("size",e,t,n),a=Ll("dtype",e,t,n),o=Ll("elementShape",e,t,n),s=Ll("dynamicSize",e,t,n),i=Ll("clearAfterRead",e,t,n),l=Ll("identicalElementShapes",e,t,n),u=Ll("name",e,t,n),c=new Au(u,a,r,o,l,s,i);return n.addTensorArray(c),[c.idTensor,Xn(1)]}case"TensorArrayWriteV3":{const r=Ll("tensorArrayId",e,t,n),a=Ll("index",e,t,n),o=Ll("tensor",e,t,n),s=n.getTensorArray(r.id);return s.write(a,o),[s.idTensor]}case"TensorArrayReadV3":{const r=Ll("tensorArrayId",e,t,n),a=Ll("index",e,t,n);return[n.getTensorArray(r.id).read(a)]}case"TensorArrayGatherV3":{const r=Ll("tensorArrayId",e,t,n),a=Ll("indices",e,t,n),o=Ll("dtype",e,t,n);return[n.getTensorArray(r.id).gather(a,o)]}case"TensorArrayScatterV3":{const r=Ll("tensorArrayId",e,t,n),a=Ll("indices",e,t,n),o=Ll("tensor",e,t,n),s=n.getTensorArray(r.id);return s.scatter(a,o),[s.idTensor]}case"TensorArrayConcatV3":{const r=Ll("tensorArrayId",e,t,n),a=n.getTensorArray(r.id),o=Ll("dtype",e,t,n);return[a.concat(o)]}case"TensorArraySplitV3":{const r=Ll("tensorArrayId",e,t,n),a=Ll("tensor",e,t,n),o=Ll("lengths",e,t,n),s=n.getTensorArray(r.id);return s.split(o,a),[s.idTensor]}case"TensorArraySizeV3":{const r=Ll("tensorArrayId",e,t,n);return[Xn(n.getTensorArray(r.id).size(),"int32")]}case"TensorArrayCloseV3":{const r=Ll("tensorArrayId",e,t,n),a=n.getTensorArray(r.id);return a.clearAndClose(),[a.idTensor]}case"TensorListSetItem":{const r=Ll("tensorListId",e,t,n),a=Ll("index",e,t,n),o=Ll("tensor",e,t,n),s=n.getTensorList(r.id);return s.setItem(a,o),[s.idTensor]}case"TensorListGetItem":{const r=Ll("tensorListId",e,t,n),a=Ll("index",e,t,n),o=Ll("elementShape",e,t,n),s=Ll("elementDType",e,t,n);return[n.getTensorList(r.id).getItem(a,o,s)]}case"TensorListScatterV2":case"TensorListScatter":{const r=Ll("indices",e,t,n),a=function(e,t,n,r){if(t.length!==e.shape[0])throw new Error("Expected len(indices) == tensor.shape[0], but saw: ".concat(t.length," vs. ").concat(e.shape[0]));const a=Math.max(...t);if(null!=r&&-1!==r&&a>=r)throw new Error("Max index must be < array size (".concat(a,"  vs. ").concat(r,")"));const o=new Mu([],n,e.dtype,r),s=di(e,0);return t.forEach(((e,t)=>{o.setItem(e,s[t])})),o}(Ll("tensor",e,t,n),r,Ll("elementShape",e,t,n),Ll("numElements",e,t,n));return n.addTensorList(a),[a.idTensor]}case"TensorListReserve":case"EmptyTensorList":{const r=Ll("elementShape",e,t,n),a=Ll("elementDType",e,t,n);let o;o="TensorListReserve"===e.op?"numElements":"maxNumElements";const s=Ll(o,e,t,n),i=function(e,t,n,r){return new Mu([],e,t,r)}(r,a,0,"TensorListReserve"===e.op?-1:s);return n.addTensorList(i),[i.idTensor]}case"TensorListGather":{const r=Ll("tensorListId",e,t,n),a=Ll("indices",e,t,n),o=Ll("elementShape",e,t,n),s=Ll("elementDType",e,t,n);return[n.getTensorList(r.id).gather(a,s,o)]}case"TensorListStack":{const r=Ll("tensorListId",e,t,n),a=Ll("elementShape",e,t,n),o=Ll("elementDType",e,t,n),s=Ll("numElements",e,t,n);return[n.getTensorList(r.id).stack(a,o,s)]}case"TensorListFromTensor":{const r=function(e,t,n){const r=e.dtype;if(e.shape.length<1)throw new Error("Tensor must be at least a vector, but saw shape: ".concat(e.shape));if(e.dtype!==n)throw new Error("Invalid data types; op elements ".concat(e.dtype,", but list elements ").concat(n));Eu(e.shape.slice(1),t,"TensorList shape mismatch: ");const a=di(e);return new Mu(a,t,r)}(Ll("tensor",e,t,n),Ll("elementShape",e,t,n),Ll("elementDType",e,t,n));return n.addTensorList(r),[r.idTensor]}case"TensorListConcat":case"TensorListConcatV2":{const r=Ll("tensorListId",e,t,n),a=n.getTensorList(r.id),o=Ll("dtype",e,t,n),s=Ll("elementShape",e,t,n);return[a.concat(o,s)]}case"TensorListPushBack":{const r=Ll("tensorListId",e,t,n),a=Ll("tensor",e,t,n),o=n.getTensorList(r.id);return o.pushBack(a),[o.idTensor]}case"TensorListPopBack":{const r=Ll("tensorListId",e,t,n),a=Ll("elementShape",e,t,n),o=Ll("elementDType",e,t,n);return[n.getTensorList(r.id).popBack(a,o)]}case"TensorListSplit":{const r=Ll("tensor",e,t,n),a=Ll("elementShape",e,t,n),o=function(e,t,n){let r=0;const a=t.map((e=>(r+=e,r)));if(r!==e.shape[0])throw new Error("Expected sum of lengths to be equal to\n          tensor.shape[0], but sum of lengths is\n        ".concat(r,", and tensor's shape is: ").concat(e.shape));const o=Cu(e.shape.slice(1),n),s=0===r?0:e.size/r,i=Rt((()=>{const n=[];e=ea(e,[1,r,s]);for(let r=0;r<t.length;++r){const i=[0,0===r?0:a[r-1],0],l=[1,t[r],s];n[r]=ea(sa(e,i,l),o)}return e.dispose(),n})),l=new Mu([],n,e.dtype,t.length);for(let u=0;u<i.length;u++)l.setItem(u,i[u]);return l}(r,Ll("lengths",e,t,n),a);return n.addTensorList(o),[o.idTensor]}case"TensorListLength":{const r=Ll("tensorListId",e,t,n);return[Xn(n.getTensorList(r.id).size(),"int32")]}case"TensorListResize":{const r=Ll("tensorListId",e,t,n),a=Ll("size",e,t,n),o=n.getTensorList(r.id).resize(a);return n.addTensorList(o),[o.idTensor]}default:throw TypeError("Node type ".concat(e.op," is not implemented"))}};function Du(e,t,n){const[r,a]=Ll("fusedOps",e,t,n),o="biasadd"===r,s=!o,i="prelu"===a,l="fusedbatchnorm"===r,u=Ll("numArgs",e,t,n);if(o){if(i&&2!==u)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!i&&o&&1!==u)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd must have one extra argument: bias.")}if(l)throw new Error("FusedConv2d and DepthwiseConv2d with FusedBatchNorm is not supported");const c=Ll("strides",e,t,n),d=Wl(e,t,n),p=Ll("dataFormat",e,t,n).toUpperCase(),h=Ll("dilations",e,t,n);let[f,m]=Ll("args",e,t,n);s&&(m=f,f=void 0);return{stride:c,pad:d,dataFormat:p,dilations:h,biasArg:f,preluArg:m,activationFunc:a,leakyreluAlpha:Ll("leakyreluAlpha",e,t,n)}}function Ru(e,t,n){return{boxes:Ll("boxes",e,t,n),scores:Ll("scores",e,t,n),maxOutputSize:Ll("maxOutputSize",e,t,n),iouThreshold:Ll("iouThreshold",e,t,n),scoreThreshold:Ll("scoreThreshold",e,t,n),softNmsSigma:Ll("softNmsSigma",e,t,n)}}class Pu{get id(){return this.handle.id}constructor(e,t){this.keyDType=e,this.valueDType=t,this.handle=Xn(0),this.tensorMap=new Map,Ft(this.handle)}clearAndClose(){this.tensorMap.forEach((e=>e.dispose())),this.tensorMap.clear(),this.handle.dispose()}size(){return this.tensorMap.size}tensorSize(){return Xn(this.size(),"int32")}async import(e,t){this.checkKeyAndValueTensor(e,t);const n=await e.data();return this.tensorMap.forEach((e=>e.dispose())),this.tensorMap.clear(),Rt((()=>{const e=di(t),r=n.length,a=e.length;z(r===a,(()=>"The number of elements doesn't match, keys has "+"".concat(r," elements, the values has ").concat(a," ")+"elements."));for(let t=0;t<r;t++){const r=n[t],a=e[t];Ft(a),this.tensorMap.set(r,a)}return this.handle}))}async find(e,t){this.checkKeyAndValueTensor(e,t);const n=await e.data();return Rt((()=>{const e=[];for(let r=0;r<n.length;r++){const a=n[r],o=this.findWithDefault(a,t);e.push(o)}return $s(e)}))}findWithDefault(e,t){const n=this.tensorMap.get(e);return null!=n?n:t}checkKeyAndValueTensor(e,t){if(e.dtype!==this.keyDType)throw new Error("Expect key dtype ".concat(this.keyDType,", but got ")+"".concat(e.dtype));if(t.dtype!==this.valueDType)throw new Error("Expect value dtype ".concat(this.valueDType,", but got ")+"".concat(t.dtype))}}function Fu(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Rt;const o=((e,t,n)=>{switch(e.category){case"arithmetic":return a((()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:x;switch(e.op){case"BiasAdd":case"AddV2":case"Add":return[r.add(Ll("a",e,t,n),Ll("b",e,t,n))];case"AddN":return[r.addN(Ll("tensors",e,t,n))];case"FloorMod":case"Mod":return[r.mod(Ll("a",e,t,n),Ll("b",e,t,n))];case"Mul":return[r.mul(Ll("a",e,t,n),Ll("b",e,t,n))];case"RealDiv":case"Div":return[r.div(Ll("a",e,t,n),Ll("b",e,t,n))];case"DivNoNan":return[r.divNoNan(Ll("a",e,t,n),Ll("b",e,t,n))];case"FloorDiv":return[r.floorDiv(Ll("a",e,t,n),Ll("b",e,t,n))];case"Sub":return[r.sub(Ll("a",e,t,n),Ll("b",e,t,n))];case"Minimum":return[r.minimum(Ll("a",e,t,n),Ll("b",e,t,n))];case"Maximum":return[r.maximum(Ll("a",e,t,n),Ll("b",e,t,n))];case"Pow":return[r.pow(Ll("a",e,t,n),Ll("b",e,t,n))];case"SquaredDifference":return[r.squaredDifference(Ll("a",e,t,n),Ll("b",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)));case"basic_math":return a((()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:x;switch(e.op){case"Abs":case"ComplexAbs":return[r.abs(Ll("x",e,t,n))];case"Acos":return[r.acos(Ll("x",e,t,n))];case"Acosh":return[r.acosh(Ll("x",e,t,n))];case"Asin":return[r.asin(Ll("x",e,t,n))];case"Asinh":return[r.asinh(Ll("x",e,t,n))];case"Atan":return[r.atan(Ll("x",e,t,n))];case"Atan2":return[r.atan2(Ll("x",e,t,n),Ll("y",e,t,n))];case"Atanh":return[r.atanh(Ll("x",e,t,n))];case"Ceil":return[r.ceil(Ll("x",e,t,n))];case"Complex":return[r.complex(Ll("real",e,t,n),Ll("imag",e,t,n))];case"Cos":return[r.cos(Ll("x",e,t,n))];case"Cosh":return[r.cosh(Ll("x",e,t,n))];case"Elu":return[r.elu(Ll("x",e,t,n))];case"Erf":return[r.erf(Ll("x",e,t,n))];case"Exp":return[r.exp(Ll("x",e,t,n))];case"Expm1":return[r.expm1(Ll("x",e,t,n))];case"Floor":return[r.floor(Ll("x",e,t,n))];case"Log":return[r.log(Ll("x",e,t,n))];case"Log1p":return[r.log1p(Ll("x",e,t,n))];case"Imag":return[r.imag(Ll("x",e,t,n))];case"Neg":return[r.neg(Ll("x",e,t,n))];case"Reciprocal":return[r.reciprocal(Ll("x",e,t,n))];case"Real":return[r.real(Ll("x",e,t,n))];case"Relu":return[r.relu(Ll("x",e,t,n))];case"Round":return[r.round(Ll("x",e,t,n))];case"Selu":return[r.selu(Ll("x",e,t,n))];case"Sigmoid":return[r.sigmoid(Ll("x",e,t,n))];case"Sin":return[r.sin(Ll("x",e,t,n))];case"Sign":return[r.sign(Ll("x",e,t,n))];case"Sinh":return[r.sinh(Ll("x",e,t,n))];case"Softplus":return[r.softplus(Ll("x",e,t,n))];case"Sqrt":return[r.sqrt(Ll("x",e,t,n))];case"Square":return[r.square(Ll("x",e,t,n))];case"Tanh":return[r.tanh(Ll("x",e,t,n))];case"Tan":return[r.tan(Ll("x",e,t,n))];case"ClipByValue":return[r.clipByValue(Ll("x",e,t,n),Ll("clipValueMin",e,t,n),Ll("clipValueMax",e,t,n))];case"Relu6":return[r.relu6(Ll("x",e,t,n))];case"Rsqrt":return[r.rsqrt(zl(e.inputNames[0],t,n))];case"LeakyRelu":return[r.leakyRelu(Ll("x",e,t,n),Ll("alpha",e,t,n))];case"Prelu":return[r.prelu(Ll("x",e,t,n),Ll("alpha",e,t,n))];case"IsNan":return[r.isNaN(zl(e.inputNames[0],t,n))];case"IsInf":return[r.isInf(zl(e.inputNames[0],t,n))];case"IsFinite":return[r.isFinite(zl(e.inputNames[0],t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)));case"control":return Ou(e,t,n);case"convolution":return a((()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:x;switch(e.op){case"Conv1D":{const a=Ll("stride",e,t,n),o=Ll("pad",e,t,n),s=Ll("dataFormat",e,t,n).toUpperCase(),i=Ll("dilation",e,t,n);return[r.conv1d(Ll("x",e,t,n),Ll("filter",e,t,n),a,o,s,i)]}case"Conv2D":{const a=Ll("strides",e,t,n),o=Wl(e,t,n),s=Ll("dataFormat",e,t,n).toUpperCase(),i=Ll("dilations",e,t,n);return[r.conv2d(Ll("x",e,t,n),Ll("filter",e,t,n),[a[1],a[2]],o,s,[i[1],i[2]])]}case"_FusedConv2D":{const{stride:a,pad:o,dataFormat:s,dilations:i,biasArg:l,preluArg:u,activationFunc:c,leakyreluAlpha:d}=Du(e,t,n);return[r.fused.conv2d({x:Ll("x",e,t,n),filter:Ll("filter",e,t,n),strides:[a[1],a[2]],pad:o,dataFormat:s,dilations:[i[1],i[2]],bias:l,activation:c,preluActivationWeights:u,leakyreluAlpha:d})]}case"FusedDepthwiseConv2dNative":{const{stride:a,pad:o,dataFormat:s,dilations:i,biasArg:l,preluArg:u,activationFunc:c,leakyreluAlpha:d}=Du(e,t,n);return[r.fused.depthwiseConv2d({x:Ll("x",e,t,n),filter:Ll("filter",e,t,n),strides:[a[1],a[2]],pad:o,dataFormat:s,dilations:[i[1],i[2]],bias:l,activation:c,preluActivationWeights:u,leakyreluAlpha:d})]}case"Conv2DBackpropInput":case"Conv2dTranspose":{const a=Ll("outputShape",e,t,n),o=Ll("strides",e,t,n),s=Wl(e,t,n);return[r.conv2dTranspose(Ll("x",e,t,n),Ll("filter",e,t,n),a,[o[1],o[2]],s)]}case"DepthwiseConv2dNative":case"DepthwiseConv2d":{const a=Ll("strides",e,t,n),o=Wl(e,t,n),s=Ll("dilations",e,t,n),i=Ll("dataFormat",e,t,n).toUpperCase();return[r.depthwiseConv2d(Ll("input",e,t,n),Ll("filter",e,t,n),[a[1],a[2]],o,i,[s[1],s[2]])]}case"Conv3D":{const a=Ll("strides",e,t,n),o=Ll("pad",e,t,n),s=Ll("dataFormat",e,t,n).toUpperCase(),i=Ll("dilations",e,t,n);return[r.conv3d(Ll("x",e,t,n),Ll("filter",e,t,n),[a[1],a[2],a[3]],o,s,[i[1],i[2],i[3]])]}case"AvgPool":{const a=Ll("strides",e,t,n),o=Ll("pad",e,t,n),s=Ll("kernelSize",e,t,n);return[r.avgPool(Ll("x",e,t,n),[s[1],s[2]],[a[1],a[2]],o)]}case"MaxPool":{const a=Ll("strides",e,t,n),o=Ll("pad",e,t,n),s=Ll("kernelSize",e,t,n);return[r.maxPool(Ll("x",e,t,n),[s[1],s[2]],[a[1],a[2]],o)]}case"MaxPoolWithArgmax":{const a=Ll("strides",e,t,n),o=Ll("pad",e,t,n),s=Ll("kernelSize",e,t,n),i=Ll("includeBatchInIndex",e,t,n),{result:l,indexes:u}=r.maxPoolWithArgmax(Ll("x",e,t,n),[s[1],s[2]],[a[1],a[2]],o,i);return[l,u]}case"AvgPool3D":{const a=Ll("strides",e,t,n),o=Ll("pad",e,t,n),s=Ll("kernelSize",e,t,n);return[r.avgPool3d(Ll("x",e,t,n),[s[1],s[2],s[3]],[a[1],a[2],a[3]],o)]}case"MaxPool3D":{const a=Ll("strides",e,t,n),o=Ll("pad",e,t,n),s=Ll("kernelSize",e,t,n);return[r.maxPool3d(Ll("x",e,t,n),[s[1],s[2],s[3]],[a[1],a[2],a[3]],o)]}case"Dilation2D":{const a=Ll("strides",e,t,n),o=Ll("pad",e,t,n),s=Ll("dilations",e,t,n),i=a[1],l=a[2],u=s[1],c=s[2];return[r.dilation2d(Ll("x",e,t,n),Ll("filter",e,t,n),[i,l],o,[u,c],"NHWC")]}default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)));case"creation":return a((()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:x;switch(e.op){case"Fill":{const a=Ll("shape",e,t,n),o=Ll("dtype",e,t,n),s=Ll("value",e,t,n);return[r.fill(a,s,o)]}case"LinSpace":{const a=Ll("start",e,t,n),o=Ll("stop",e,t,n),s=Ll("num",e,t,n);return[r.linspace(a,o,s)]}case"Multinomial":{const a=Ll("logits",e,t,n),o=Ll("numSamples",e,t,n),s=Ll("seed",e,t,n);return[r.multinomial(a,o,s)]}case"OneHot":{const a=Ll("indices",e,t,n),o=Ll("depth",e,t,n),s=Ll("onValue",e,t,n),i=Ll("offValue",e,t,n),l=Ll("dtype",e,t,n);return[r.oneHot(a,o,s,i,l)]}case"Ones":return[r.ones(Ll("shape",e,t,n),Ll("dtype",e,t,n))];case"OnesLike":return[r.onesLike(Ll("x",e,t,n))];case"RandomStandardNormal":return[r.randomStandardNormal(Ll("shape",e,t,n),Ll("dtype",e,t,n),Ll("seed",e,t,n))];case"RandomUniform":return[r.randomUniform(Ll("shape",e,t,n),Ll("minval",e,t,n),Ll("maxval",e,t,n),Ll("dtype",e,t,n))];case"RandomUniformInt":return[r.randomUniformInt(Ll("shape",e,t,n),Ll("minval",e,t,n),Ll("maxval",e,t,n),Ll("seed",e,t,n))];case"Range":{const a=Ll("start",e,t,n),o=Ll("stop",e,t,n),s=Ll("step",e,t,n);return[r.range(a,o,s,Ll("dtype",e,t,n))]}case"TruncatedNormal":{const a=Ll("shape",e,t,n),o=Ll("mean",e,t,n),s=Ll("stdDev",e,t,n),i=Ll("seed",e,t,n);return[r.truncatedNormal(a,o,s,Ll("dtype",e,t,n),i)]}case"Zeros":return[r.zeros(Ll("shape",e,t,n),Ll("dtype",e,t,n))];case"ZerosLike":return[r.zerosLike(Ll("x",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)));case"dynamic":return async function(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:x;switch(e.op){case"NonMaxSuppressionV5":{const{boxes:r,scores:o,maxOutputSize:s,iouThreshold:i,scoreThreshold:l,softNmsSigma:u}=Ru(e,t,n),c=await a.image.nonMaxSuppressionWithScoreAsync(r,o,s,i,l,u);return[c.selectedIndices,c.selectedScores]}case"NonMaxSuppressionV4":{const{boxes:r,scores:o,maxOutputSize:s,iouThreshold:i,scoreThreshold:l}=Ru(e,t,n),u=Ll("padToMaxOutputSize",e,t,n),c=await a.image.nonMaxSuppressionPaddedAsync(r,o,s,i,l,u);return[c.selectedIndices,c.validOutputs]}case"NonMaxSuppressionV3":case"NonMaxSuppressionV2":{const{boxes:r,scores:o,maxOutputSize:s,iouThreshold:i,scoreThreshold:l}=Ru(e,t,n);return[await a.image.nonMaxSuppressionAsync(r,o,s,i,l)]}case"Where":{const r=a.cast(Ll("condition",e,t,n),"bool"),o=[await a.whereAsync(r)];return r.dispose(),o}case"ListDiff":return a.setdiff1dAsync(Ll("x",e,t,n),Ll("y",e,t,n));default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n);case"evaluation":return a((()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:x;switch(e.op){case"LowerBound":{const a=Ll("sortedSequence",e,t,n),o=Ll("values",e,t,n);return[r.lowerBound(a,o)]}case"TopKV2":{const a=Ll("x",e,t,n),o=Ll("k",e,t,n),s=Ll("sorted",e,t,n),i=r.topk(a,o,s);return[i.values,i.indices]}case"UpperBound":{const a=Ll("sortedSequence",e,t,n),o=Ll("values",e,t,n);return[r.upperBound(a,o)]}case"Unique":{const a=Ll("x",e,t,n),o=r.unique(a);return[o.values,o.indices]}case"UniqueV2":{const a=Ll("x",e,t,n),o=Ll("axis",e,t,n),s=r.unique(a,o);return[s.values,s.indices]}default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)));case"image":return a((()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:x;switch(e.op){case"ResizeBilinear":{const a=Ll("images",e,t,n),o=Ll("size",e,t,n),s=Ll("alignCorners",e,t,n),i=Ll("halfPixelCenters",e,t,n);return[r.image.resizeBilinear(a,[o[0],o[1]],s,i)]}case"ResizeNearestNeighbor":{const a=Ll("images",e,t,n),o=Ll("size",e,t,n),s=Ll("alignCorners",e,t,n),i=Ll("halfPixelCenters",e,t,n);return[r.image.resizeNearestNeighbor(a,[o[0],o[1]],s,i)]}case"CropAndResize":{const a=Ll("image",e,t,n),o=Ll("boxes",e,t,n),s=Ll("boxInd",e,t,n),i=Ll("cropSize",e,t,n),l=Ll("method",e,t,n),u=Ll("extrapolationValue",e,t,n);return[r.image.cropAndResize(a,o,s,i,l,u)]}case"ImageProjectiveTransformV3":{const a=Ll("images",e,t,n),o=Ll("transforms",e,t,n),s=Ll("outputShape",e,t,n),i=Ll("fillValue",e,t,n),l=Ll("interpolation",e,t,n),u=Ll("fillMode",e,t,n);return[r.image.transform(a,o,l.toLowerCase(),u.toLowerCase(),i,s)]}default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)));case"graph":return a((()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:x;switch(e.op){case"Const":return t[e.name];case"PlaceholderWithDefault":const a=Ll("default",e,t,n);return[zl(e.name,t,n)||a];case"Placeholder":return[zl(e.name,t,n)];case"Identity":case"StopGradient":case"FakeQuantWithMinMaxVars":case"Snapshot":return[ql(Ll("x",e,t,n))];case"IdentityN":return Ll("x",e,t,n).map((e=>ql(e)));case"Shape":return[r.tensor1d(Ll("x",e,t,n).shape,"int32")];case"ShapeN":return Ll("x",e,t,n).map((e=>r.tensor1d(e.shape)));case"Size":return[r.scalar(Ll("x",e,t,n).size,"int32")];case"Rank":return[r.scalar(Ll("x",e,t,n).rank,"int32")];case"NoOp":return[r.scalar(1)];case"Print":const o=Ll("x",e,t,n),s=Ll("data",e,t,n),i=Ll("message",e,t,n),l=Ll("summarize",e,t,n);console.warn("The graph has a tf.print() operation,usually used for debugging, which slows down performance."),console.log(i);for(let e=0;e<s.length;e++)console.log(Array.prototype.slice.call(s[e].dataSync()).slice(0,l));return[o];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)));case"logical":return a((()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:x;switch(e.op){case"Equal":return[r.equal(Ll("a",e,t,n),Ll("b",e,t,n))];case"NotEqual":return[r.notEqual(Ll("a",e,t,n),Ll("b",e,t,n))];case"Greater":return[r.greater(Ll("a",e,t,n),Ll("b",e,t,n))];case"GreaterEqual":return[r.greaterEqual(Ll("a",e,t,n),Ll("b",e,t,n))];case"Less":return[r.less(Ll("a",e,t,n),Ll("b",e,t,n))];case"LessEqual":return[r.lessEqual(Ll("a",e,t,n),Ll("b",e,t,n))];case"LogicalAnd":return[r.logicalAnd(Ll("a",e,t,n),Ll("b",e,t,n))];case"LogicalNot":return[r.logicalNot(Ll("a",e,t,n))];case"LogicalOr":return[r.logicalOr(Ll("a",e,t,n),Ll("b",e,t,n))];case"Select":case"SelectV2":return[r.where(Ll("condition",e,t,n),Ll("a",e,t,n),Ll("b",e,t,n))];case"BitwiseAnd":return[r.bitwiseAnd(Ll("a",e,t,n),Ll("b",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)));case"matrices":return a((()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:x;switch(e.op){case"BatchMatMul":case"BatchMatMulV2":case"MatMul":return[r.matMul(Ll("a",e,t,n),Ll("b",e,t,n),Ll("transposeA",e,t,n),Ll("transposeB",e,t,n))];case"Einsum":return[r.einsum(Ll("equation",e,t,n),...Ll("tensors",e,t,n))];case"Transpose":return[r.transpose(Ll("x",e,t,n),Ll("perm",e,t,n))];case"_FusedMatMul":const[a,o]=Ll("fusedOps",e,t,n),s="biasadd"===a,i="prelu"===o,l=Ll("numArgs",e,t,n),u=Ll("leakyreluAlpha",e,t,n);if(s){if(i&&2!==l)throw new Error("Fused MatMul with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!i&&1!==l)throw new Error("Fused MatMul with BiasAdd must have one extra argument: bias.")}const[c,d]=Ll("args",e,t,n);return[r.fused.matMul({a:Ll("a",e,t,n),b:Ll("b",e,t,n),transposeA:Ll("transposeA",e,t,n),transposeB:Ll("transposeB",e,t,n),bias:c,activation:o,preluActivationWeights:d,leakyreluAlpha:u})];case"MatrixBandPart":return[r.linalg.bandPart(Ll("a",e,t,n),Ll("numLower",e,t,n),Ll("numUpper",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)));case"normalization":return a((()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:x;switch(e.op){case"EuclideanNorm":return[r.euclideanNorm(Ll("x",e,t,n),Ll("axis",e,t,n),Ll("keepDims",e,t,n))];case"FusedBatchNorm":case"FusedBatchNormV2":case"FusedBatchNormV3":return[r.batchNorm(Ll("x",e,t,n),Ll("mean",e,t,n),Ll("variance",e,t,n),Ll("offset",e,t,n),Ll("scale",e,t,n),Ll("epsilon",e,t,n))];case"LRN":return[r.localResponseNormalization(Ll("x",e,t,n),Ll("radius",e,t,n),Ll("bias",e,t,n),Ll("alpha",e,t,n),Ll("beta",e,t,n))];case"Softmax":return[r.softmax(Ll("x",e,t,n))];case"LogSoftmax":return[r.logSoftmax(Ll("x",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)));case"ragged":return a((()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:x;switch(e.op){case"RaggedGather":{const{outputNestedSplits:a,outputDenseValues:o}=r.raggedGather(Ll("paramsNestedSplits",e,t,n),Ll("paramsDenseValues",e,t,n),Ll("indices",e,t,n),Ll("outputRaggedRank",e,t,n));return a.concat(o)}case"RaggedRange":{const{rtNestedSplits:a,rtDenseValues:o}=r.raggedRange(Ll("starts",e,t,n),Ll("limits",e,t,n),Ll("splits",e,t,n));return[a,o]}case"RaggedTensorToTensor":return[r.raggedTensorToTensor(Ll("shape",e,t,n),Ll("values",e,t,n),Ll("defaultValue",e,t,n),Ll("rowPartitionTensors",e,t,n),Ll("rowPartitionTypes",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)));case"reduction":return a((()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:x;switch(e.op){case"Max":{const a=Ll("axis",e,t,n),o=Ll("keepDims",e,t,n);return[r.max(Ll("x",e,t,n),a,o)]}case"Mean":{const a=Ll("axis",e,t,n),o=Ll("keepDims",e,t,n);return[r.mean(Ll("x",e,t,n),a,o)]}case"Min":{const a=Ll("axis",e,t,n),o=Ll("keepDims",e,t,n);return[r.min(Ll("x",e,t,n),a,o)]}case"Sum":{const a=Ll("axis",e,t,n),o=Ll("keepDims",e,t,n);return[r.sum(Ll("x",e,t,n),a,o)]}case"All":{const a=Ll("axis",e,t,n),o=Ll("keepDims",e,t,n);return[r.all(Ll("x",e,t,n),a,o)]}case"Any":{const a=Ll("axis",e,t,n),o=Ll("keepDims",e,t,n);return[r.any(Ll("x",e,t,n),a,o)]}case"ArgMax":{const a=Ll("axis",e,t,n);return[r.argMax(Ll("x",e,t,n),a)]}case"ArgMin":{const a=Ll("axis",e,t,n);return[r.argMin(Ll("x",e,t,n),a)]}case"Prod":{const a=Ll("axis",e,t,n),o=Ll("keepDims",e,t,n);return[r.prod(Ll("x",e,t,n),a,o)]}case"Cumprod":{const a=Ll("axis",e,t,n),o=Ll("exclusive",e,t,n),s=Ll("reverse",e,t,n);return[r.cumprod(Ll("x",e,t,n),a,o,s)]}case"Cumsum":{const a=Ll("axis",e,t,n),o=Ll("exclusive",e,t,n),s=Ll("reverse",e,t,n);return[r.cumsum(Ll("x",e,t,n),a,o,s)]}case"Bincount":const a=Ll("x",e,t,n),o=Ll("weights",e,t,n),s=Ll("size",e,t,n);return[r.bincount(a,o,s)];case"DenseBincount":{const a=Ll("x",e,t,n),o=Ll("weights",e,t,n),s=Ll("size",e,t,n),i=Ll("binaryOutput",e,t,n);return[r.denseBincount(a,o,s,i)]}default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)));case"slice_join":return a((()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:x;switch(e.op){case"ConcatV2":case"Concat":{const a=Ll("n",e,t,n),o=Ll("axis",e,t,n);let s=Ll("tensors",e,t,n);return s=s.slice(0,a),[r.concat(s,o)]}case"Gather":{const a=Ll("x",e,t,n),o=Ll("indices",e,t,n);return[r.gather(a,r.cast(o,"int32"),0)]}case"GatherV2":{const a=Ll("axis",e,t,n),o=Ll("batchDims",e,t,n),s=Ll("x",e,t,n),i=Ll("indices",e,t,n);return[r.gather(s,r.cast(i,"int32"),a,o)]}case"Reverse":{const a=Ll("dims",e,t,n),o=[];for(let e=0;e<a.length;e++)a[e]&&o.push(e);const s=Ll("x",e,t,n);return[r.reverse(s,o)]}case"ReverseV2":{const a=Ll("axis",e,t,n),o=Ll("x",e,t,n);return[r.reverse(o,a)]}case"Slice":{const a=Ll("begin",e,t,n),o=Ll("size",e,t,n);return[r.slice(Ll("x",e,t,n),a,o)]}case"StridedSlice":{const a=Ll("begin",e,t,n),o=Ll("end",e,t,n),s=Ll("strides",e,t,n),i=Ll("beginMask",e,t,n),l=Ll("endMask",e,t,n),u=Ll("ellipsisMask",e,t,n),c=Ll("newAxisMask",e,t,n),d=Ll("shrinkAxisMask",e,t,n),p=Ll("x",e,t,n);return[r.stridedSlice(p,a,o,s,i,l,u,c,d)]}case"Pack":return Rt((()=>{const a=Ll("axis",e,t,n),o=Ll("tensors",e,t,n),s=o[0].shape,i=r.squeeze(o[0]).shape,l=o.map((e=>{const t=U(e.shape,s);if(!t&&!U(r.squeeze(e).shape,i))throw new Error("the input tensors shape does not match");return t?e:r.reshape(e,s)}));return[r.stack(l,a)]}));case"Unpack":{const a=Ll("axis",e,t,n),o=Ll("tensor",e,t,n);return r.unstack(o,a)}case"Tile":{const a=Ll("reps",e,t,n);return[r.tile(Ll("x",e,t,n),a)]}case"Split":case"SplitV":{const a=Ll("axis",e,t,n),o=Ll("numOrSizeSplits",e,t,n),s=Ll("x",e,t,n);return r.split(s,o,a)}case"ScatterNd":{const a=Ll("indices",e,t,n),o=Ll("values",e,t,n),s=Ll("shape",e,t,n);return[r.scatterND(a,o,s)]}case"GatherNd":{const a=Ll("x",e,t,n),o=Ll("indices",e,t,n);return[r.gatherND(a,o)]}case"SparseToDense":{const a=Ll("sparseIndices",e,t,n),o=Ll("outputShape",e,t,n),s=Ll("sparseValues",e,t,n),i=Ll("defaultValue",e,t,n);return[r.sparseToDense(a,s,o,s.dtype===i.dtype?i:r.cast(i,s.dtype))]}case"TensorScatterUpdate":{const a=Ll("indices",e,t,n),o=Ll("values",e,t,n),s=Ll("tensor",e,t,n);return[r.tensorScatterUpdate(s,a,o)]}default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)));case"sparse":return a((()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:x;switch(e.op){case"SparseFillEmptyRows":{const{outputIndices:a,outputValues:o,emptyRowIndicator:s,reverseIndexMap:i}=r.sparse.sparseFillEmptyRows(Ll("indices",e,t,n),Ll("values",e,t,n),Ll("denseShape",e,t,n),Ll("defaultValue",e,t,n));return[a,o,s,i]}case"SparseReshape":{const{outputIndices:a,outputShape:o}=r.sparse.sparseReshape(Ll("inputIndices",e,t,n),Ll("inputShape",e,t,n),Ll("newShape",e,t,n));return[a,o]}case"SparseSegmentMean":return[r.sparse.sparseSegmentMean(Ll("data",e,t,n),Ll("indices",e,t,n),Ll("segmentIds",e,t,n))];case"SparseSegmentSum":return[r.sparse.sparseSegmentSum(Ll("data",e,t,n),Ll("indices",e,t,n),Ll("segmentIds",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)));case"spectral":return a((()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:x;switch(e.op){case"FFT":return[r.fft(Ll("x",e,t,n))];case"IFFT":return[r.ifft(Ll("x",e,t,n))];case"RFFT":return[r.rfft(Ll("x",e,t,n))];case"IRFFT":return[r.irfft(Ll("x",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)));case"string":return a((()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:x;switch(e.op){case"StaticRegexReplace":return[r.string.staticRegexReplace(Ll("input",e,t,n),Ll("pattern",e,t,n),Ll("rewrite",e,t,n),Ll("replaceGlobal",e,t,n))];case"StringNGrams":{const{nGrams:a,nGramsSplits:o}=r.string.stringNGrams(Ll("data",e,t,n),Ll("dataSplits",e,t,n),Ll("separator",e,t,n),Ll("nGramWidths",e,t,n),Ll("leftPad",e,t,n),Ll("rightPad",e,t,n),Ll("padWidth",e,t,n),Ll("preserveShortSequences",e,t,n));return[a,o]}case"StringSplit":{const{indices:a,values:o,shape:s}=r.string.stringSplit(Ll("input",e,t,n),Ll("delimiter",e,t,n),Ll("skipEmpty",e,t,n));return[a,o,s]}case"StringToHashBucketFast":return[r.string.stringToHashBucketFast(Ll("input",e,t,n),Ll("numBuckets",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)));case"transformation":return a((()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:x;switch(e.op){case"Cast":return[r.cast(Ll("x",e,t,n),Ll("dtype",e,t,n))];case"ExpandDims":{const a=Ll("axis",e,t,n);return[r.expandDims(Ll("x",e,t,n),a)]}case"Squeeze":{const a=Ll("axis",e,t,n);return[r.squeeze(Ll("x",e,t,n),a)]}case"Reshape":return[r.reshape(Ll("x",e,t,n),Ll("shape",e,t,n))];case"EnsureShape":return[r.ensureShape(Ll("x",e,t,n),Ll("shape",e,t,n))];case"MirrorPad":return[r.mirrorPad(Ll("x",e,t,n),Ll("padding",e,t,n),Ll("mode",e,t,n))];case"PadV2":case"Pad":return[r.pad(Ll("x",e,t,n),Ll("padding",e,t,n),Ll("constantValue",e,t,n))];case"SpaceToBatchND":{const a=Ll("blockShape",e,t,n),o=Ll("paddings",e,t,n);return[r.spaceToBatchND(Ll("x",e,t,n),a,o)]}case"BatchToSpaceND":{const a=Ll("blockShape",e,t,n),o=Ll("crops",e,t,n);return[r.batchToSpaceND(Ll("x",e,t,n),a,o)]}case"DepthToSpace":{const a=Ll("blockSize",e,t,n),o=Ll("dataFormat",e,t,n).toUpperCase();return[r.depthToSpace(Ll("x",e,t,n),a,o)]}case"BroadcastTo":return[r.broadcastTo(Ll("x",e,t,n),Ll("shape",e,t,n))];case"BroadcastArgs":return[r.broadcastArgs(Ll("s0",e,t,n),Ll("s1",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)));case"hash_table":return(async(e,t,n,r)=>{switch(e.op){case"HashTable":case"HashTableV2":{const a=r.getHashTableHandleByName(e.name);if(null!=a)return[a];{const a=Ll("keyDType",e,t,n),o=Ll("valueDType",e,t,n),s=new Pu(a,o);return r.addHashTable(e.name,s),[s.handle]}}case"InitializeTable":case"InitializeTableV2":case"LookupTableImport":case"LookupTableImportV2":{const a=Ll("tableHandle",e,t,n,r),o=Ll("keys",e,t,n),s=Ll("values",e,t,n),i=r.getHashTableById(a.id);return[await i.import(o,s)]}case"LookupTableFind":case"LookupTableFindV2":{const a=Ll("tableHandle",e,t,n,r),o=Ll("keys",e,t,n),s=Ll("defaultValue",e,t,n),i=r.getHashTableById(a.id);return[await i.find(o,s)]}case"LookupTableSize":case"LookupTableSizeV2":{const a=Ll("tableHandle",e,t,n,r);return[r.getHashTableById(a.id).tensorSize()]}default:throw TypeError("Node type ".concat(e.op," is not implemented"))}})(e,t,n,r);case"custom":const o=Fl(e.op);if(o&&o.customExecutor)return o.customExecutor(new Tu(e,t,n));throw TypeError("Custom op ".concat(e.op," is not registered."));default:throw TypeError("Unknown op '".concat(e.op,"'. File an issue at ")+"https://github.com/tensorflow/tfjs/issues so we can add it, or register a custom execution with tf.registerOp()")}})(e,t,n);return re(o)?o.then((e=>[].concat(e))):[].concat(o)}class Lu{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=arguments.length>4?arguments[4]:void 0;this.weightMap=e,this.tensorArrayMap=t,this.tensorListMap=n,this.functionMap=r,this.parseNodeNameCache=a,this.rootContext={id:0,frameName:"",iterationId:0},this.contexts=[this.rootContext],this.lastId=0,this.generateCurrentContextIds()}newFrame(e,t){return{id:e,frameName:t,iterationId:0}}set currentContext(e){this.contexts!==e&&(this.contexts=e,this.generateCurrentContextIds())}get currentContext(){return this.contexts}get currentContextId(){return this._currentContextIds[0]}get currentContextIds(){return this._currentContextIds}generateCurrentContextIds(){const e=[];for(let t=0;t<this.contexts.length-1;t++){const n=this.contexts.slice(0,this.contexts.length-t);e.push(this.contextIdforContexts(n))}e.push(""),this._currentContextIds=e}contextIdforContexts(e){return e?e.map((e=>0===e.id&&0===e.iterationId?"":"".concat(e.frameName,"-").concat(e.iterationId))).join("/"):""}enterFrame(e){this.contexts&&(this.lastId++,this.contexts=this.contexts.slice(),this.contexts.push(this.newFrame(this.lastId,e)),this._currentContextIds.unshift(this.contextIdforContexts(this.contexts)))}exitFrame(){if(!(this.contexts&&this.contexts.length>1))throw new Error("Cannot exit frame, the context is empty");this.contexts=this.contexts.slice(),this.contexts.splice(-1),this.currentContextIds.shift()}nextIteration(){if(!(this.contexts&&this.contexts.length>0))throw new Error("Cannot increase frame iteration, the context is empty");{this.contexts=this.contexts.slice(),this.lastId++;const e=Object.assign({},this.contexts[this.contexts.length-1]);e.iterationId+=1,e.id=this.lastId,this.contexts.splice(-1,1,e),this._currentContextIds.splice(0,1,this.contextIdforContexts(this.contexts))}}getWeight(e){return this.weightMap[e]}addTensorArray(e){this.tensorArrayMap[e.id]=e}getTensorArray(e){return this.tensorArrayMap[e]}addTensorList(e){this.tensorListMap[e.id]=e}getTensorList(e){return this.tensorListMap[e]}dispose(e){for(const t in this.tensorArrayMap)this.tensorArrayMap[t].clearAndClose(e);for(const t in this.tensorListMap)this.tensorListMap[t].clearAndClose(e)}}function zu(e,t,n,r){const a=new Set,o=[];let s=null,i=null;const l=new Set,u=new Set(Object.keys(e).map((e=>Ul(e)[0])));r=r||[];const c=new Set(r.map((e=>Ul(e.name)[0]))),d=[...t];for(;d.length>0;){const e=d.pop();(qu(e)||Hu(e)||Ku(e))&&null==s&&(s=e,i=s.children.map((e=>e.name)).filter((e=>a.has(e)))),a.add(e.name),null==n[e.name]&&(u.has(e.name)||c.has(e.name)||(0!==e.inputs.length?e.inputs.forEach((e=>{l.has(e.name)||(l.add(e.name),d.push(e))})):o.push(e.name)))}return{inputs:e,outputs:t,usedNodes:a,missingInputs:o,dynamicNode:s,syncInputs:i}}function Bu(e,t){const{usedNodes:n,inputs:r}=t,a=Object.keys(r).map((e=>Ul(e)[0])).map((t=>e.nodes[t])),o=e.initNodes||[],s=e=>n.has("string"===typeof e?e:e.name);function i(e){return[...new Map(e.map((e=>[e.name,e]))).values()]}const l=i([...a,...e.weights,...o]).filter(s),u=i([...l,...Object.values(e.nodes)]).filter(s),c=new Map(u.map((e=>[e.name,e]))),d={};for(const m of u){d[m.name]=d[m.name]||0;for(const e of m.children)s(e)||(d[e.name]=Number.POSITIVE_INFINITY),d[e.name]=(d[e.name]||0)+1}const p=Object.entries(d).filter((e=>{let[,t]=e;return 0===t})).map((e=>{let[t]=e;return t})),h=[...p];for(;p.length>0;){const e=p.pop(),t=c.get(e);for(const n of t.children.filter(s))0===--d[n.name]&&(h.push(n.name),p.push(n.name))}const f=function(e,t){const n=new Map(e.map((e=>[e.name,e]))),r=t.map((e=>e.name)),a=new Set(r);for(;r.length>0;){const e=r.pop(),t=n.get(e);for(const o of t.children)n.has(o.name)&&!a.has(o.name)&&(a.add(o.name),r.push(o.name))}const o=e.filter((e=>a.has(e.name)));return o}(h.map((e=>c.get(e))),l);return function(e,t){const n=new Map(e.map(((e,t)=>[e.name,t]))),r=new Set(t.map((e=>e.name))),a=e=>r.has("string"===typeof e?e:e.name),o=new Set(e.map((e=>e.name))),s=e=>o.has("string"===typeof e?e:e.name);for(const i of e){for(const e of i.children.filter(s)){if(!n.has(e.name))throw new Vu("Child ".concat(e.name," of node ").concat(i.name," is unreachable."));if(n.get(i.name)>n.get(e.name))throw new Vu("Node ".concat(i.name," is scheduled to run after its child ").concat(e.name,"."))}if(!a(i))for(const e of i.inputs){if(!n.has(e.name))throw new Vu("Input ".concat(e.name," of node ").concat(i.name," is unreachable."));if(n.get(e.name)>n.get(i.name))throw new Vu("Node ".concat(i.name," is scheduled to run before its input ").concat(e.name,"."))}}}(f,l),f}class Vu extends Error{constructor(e){super("NodesExecutionOrderError: ".concat(e))}}const ju=new Set(["Switch","Merge","Enter","Exit","NextIteration","StatelessIf","StatelessWhile","if","While"]),Uu=new Set(["NonMaxSuppressionV2","NonMaxSuppressionV3","NonMaxSuppressionV5","Where"]),Wu=new Set(["HashTable","HashTableV2","LookupTableImport","LookupTableImportV2","LookupTableFind","LookupTableFindV2","LookupTableSize","LookupTableSizeV2"]);function qu(e){return ju.has(e.op)}function Hu(e){return Uu.has(e.op)}function Ku(e){return Wu.has(e.op)}class Gu{get weightIds(){return this.parent?this.parent.weightIds:this._weightIds}get functionExecutorMap(){return this.parent?this.parent.functionExecutorMap:this._functionExecutorMap}get weightMap(){return this.parent?this.parent.weightMap:this._weightMap}set weightMap(e){const t=Object.keys(e).map((t=>e[t].map((e=>e.id))));this._weightIds=[].concat(...t),this._weightMap=e}set resourceManager(e){this._resourceManager=e}get inputs(){return this._inputs.map((e=>({name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0})))}get outputs(){return this._outputs.map((e=>({name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0})))}get inputNodes(){return this._inputs.map((e=>e.signatureKey||e.name))}get outputNodes(){return this._outputs.map((e=>{const t=e.signatureKey||e.name;return e.defaultOutput?"".concat(t,":").concat(e.defaultOutput):t}))}get functions(){return Object.keys(this._functions).reduce(((e,t)=>(e[t]=this._functions[t].signature,e)),{})}constructor(e,t){this.graph=e,this.parent=t,this.compiledMap=new Map,this.parseNodeNameCache=new Map,this._weightMap={},this.SEPARATOR=",",this._functions={},this._functionExecutorMap={},this.keepIntermediateTensors=!1,this._outputs=e.outputs,this._inputs=e.inputs,this._initNodes=e.initNodes,this._signature=e.signature,this._functions=e.functions,null!=e.functions&&Object.keys(e.functions).forEach((t=>{this._functionExecutorMap[t]=new Gu(e.functions[t],this)}))}getCompilationKey(e,t){const n=e.map((e=>e.name)).sort(),r=t.map((e=>e.name)).sort();return n.join(this.SEPARATOR)+"--"+r.join(this.SEPARATOR)}compile(e,t){const n=zu(e,t,this.weightMap,this._initNodes),{missingInputs:r,dynamicNode:a,syncInputs:o}=n;if(null!=a)throw new Error("This execution contains the node '".concat(a.name,"', which has ")+"the dynamic op '".concat(a.op,"'. Please use ")+"model.executeAsync() instead. Alternatively, to avoid the "+"dynamic ops, specify the inputs [".concat(o,"]"));if(r.length>0){const n=t.map((e=>e.name)),a=Object.keys(e);throw new Error("Cannot compute the outputs [".concat(n,"] from the provided inputs ")+"[".concat(a,"]. Missing the following inputs: [").concat(r,"]"))}const s=Bu(this.graph,n),i=function(e){const t=new Map(e.map(((e,t)=>[e.name,t]))),n=Number.MAX_SAFE_INTEGER,r=e.map(((e,t)=>qu(e)?n:t)),a=e=>{const n=r[t.get(e.name)];return null==n?-1:n},o=e.map(((e,t)=>e.children.map(a).reduce(((e,t)=>Math.max(e,t)),r[t]))),s=new Map;for(let i=0;i<e.length;++i){const t=o[i];if(t===n)continue;const r=e[i],a=e[t];s.has(a.name)||s.set(a.name,[]),s.get(a.name).push(r)}return s}(s);return{orderedNodes:s,nodeLiveUntilMap:i}}cloneAndKeepTensor(e){if(null==e)return null;const t=e.clone();return Ft(t),t}cloneTensorList(e){if(!e)return null;const t=e.map((e=>this.cloneAndKeepTensor(e)));return t}cloneTensorMap(e){return Object.fromEntries(Object.entries(e).map((e=>{let[t,n]=e;return[t,this.cloneTensorList(n)]})))}execute(e,t){this.disposeIntermediateTensors(),e=this.mapInputs(e);const n=Object.keys(e).sort();this.checkInputs(e),this.checkInputShapeAndType(e),t=this.mapOutputs(t),this.checkOutputs(t);const r=n.map((e=>this.graph.nodes[Ul(e)[0]])),a=t.map((e=>Ul(e)[0])),o=new Set(a);let s=a.map((e=>this.graph.nodes[e]));0===s.length&&(s=this._outputs);const i=this.getCompilationKey(r,s);let l=this.compiledMap.get(i);null==l&&(l=this.compile(e,s),this.compiledMap.set(i,l));try{this.keepIntermediateTensors=ie().getBool("KEEP_INTERMEDIATE_TENSORS")}catch(d){this.keepIntermediateTensors=!1,console.warn(d.message)}const u={},c={};return Rt((()=>{const n=new Lu(this.weightMap,u,c,this.functionExecutorMap,this.parseNodeNameCache),r=Object.assign({},this.weightMap);this.keepIntermediateTensors&&(this.clonedTensorsMap=this.cloneTensorMap(this.weightMap)),Object.keys(e).forEach((t=>{const[a,o]=Ul(t,n),s=[];s[o]=e[t],r[a]=s,this.keepIntermediateTensors&&(this.clonedTensorsMap[a]=this.cloneTensorList(s))}));const a=this.getFrozenTensorIds(r),{orderedNodes:s,nodeLiveUntilMap:i}=l;for(const e of s){if(r[e.name])continue;const t=Fu(e,r,n,this._resourceManager);if(re(t))throw new Error("The execution of the op '".concat(e.op,"' returned a promise. ")+"Please use model.executeAsync() instead.");r[e.name]=t,this.keepIntermediateTensors&&(this.clonedTensorsMap[e.name]=this.cloneTensorList(t)),this.checkTensorForDisposalWithNodeLiveUntilInfo(e,r,n,a,o,i.get(e.name))}return null==this.parent&&n.dispose(a),t.map((e=>zl(e,r,n)))}))}getFrozenTensorIds(e){const t=[].concat.apply([],Object.keys(e).map((t=>e[t])).map((e=>e.map((e=>e.id)))));return new Set(t)}checkTensorForDisposal(e,t,n,r,a,o,s){if(!qu(t)&&!o.has(e)){for(const r of n[e])null!=r&&(s[r.id]=(s[r.id]||0)+t.children.length);for(const e of t.inputs){if(qu(e))continue;const t=Bl(e.name,n,r);if(null!=t)for(const e of t){if(!e||e.kept||a.has(e.id))continue;const t=s[e.id];1===t?(e.dispose(),delete s[e.id]):null!=t&&s[e.id]--}}}}checkTensorForDisposalWithNodeLiveUntilInfo(e,t,n,r,a,o){function s(e){return qu(e)||a.has(e.name)}if(!qu(e)&&null!=o)for(const i of o){if(s(i))continue;const e=Bl(i.name,t,n);for(const t of e)!t||t.kept||r.has(t.id)||t.dispose()}}async executeAsync(e,t){return this._executeAsync(e,t)}disposeIntermediateTensors(){this.clonedTensorsMap&&(Object.values(this.clonedTensorsMap).forEach((e=>{for(const t of e)t&&!t.isDisposed&&t.dispose()})),this.clonedTensorsMap=null)}getIntermediateTensors(){return this.clonedTensorsMap}async _executeAsync(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};this.disposeIntermediateTensors(),n||(e=this.mapInputs(e),this.checkInputs(e),this.checkInputShapeAndType(e),t=this.mapOutputs(t),this.checkOutputs(t));try{this.keepIntermediateTensors=ie().getBool("KEEP_INTERMEDIATE_TENSORS")}catch(d){this.keepIntermediateTensors=!1,console.warn(d.message)}const o=new Lu(this.weightMap,r,a,this.functionExecutorMap,this.parseNodeNameCache);this.keepIntermediateTensors&&(this.clonedTensorsMap=this.cloneTensorMap(this.weightMap));const s=await this.executeWithControlFlow(e,o,t,n),i=t.map((e=>zl(e,s,o))),l=i.map((e=>e.id)),u=Object.keys(e).map((t=>e[t].id)),c=new Set([...l,...u,...this.weightIds]);return Object.values(s).forEach((e=>{e.forEach((e=>{!e||e.isDisposed||c.has(e.id)||e.dispose()}))})),null==this.parent&&o.dispose(c),i}async executeFunctionAsync(e,t,n){const r=e.reduce(((e,t,n)=>(e[this.inputs[n].name]=t,e)),{});return this._executeAsync(r,this.outputNodes,!0,t,n)}async executeWithControlFlow(e,t,n,r){const a=Object.keys(e),o=a.map((e=>this.graph.nodes[Ul(e)[0]])),s=n.map((e=>Ul(e)[0])),i=new Set(s);let l=s.map((e=>this.graph.nodes[e]));0===l.length&&(l=this._outputs);const{usedNodes:u,missingInputs:c,dynamicNode:d,syncInputs:p}=zu(e,l,this.weightMap,this._initNodes),h=[...o,...this.graph.weights,...this._initNodes||[]].map((e=>({node:e,contexts:t.currentContext}))),f=Object.assign({},this.weightMap);Object.keys(e).forEach((t=>{const[n,r]=Ul(t),a=[];a[r]=e[t],f[n]=a}));const m={},g=this.getFrozenTensorIds(f),y={};for(;h.length>0;){const e=this.processStack(o,h,t,f,y,g,i,m,u);await Promise.all(e)}null!=d||r||console.warn("This model execution did not contain any nodes with control flow or dynamic output shapes. You can use model.execute() instead.");const b=l.filter((e=>!qu(e)&&!zl(e.name,f,t))).map((e=>e.name));if(b.length>0){let e="";throw null!=d&&(e="Alternatively, to avoid the dynamic ops, use model.execute() "+"and specify the inputs [".concat(p,"]")),new Error("Cannot compute the outputs [".concat(b,"] from the provided ")+"inputs [".concat(a,"]. Consider providing the following inputs: ")+"[".concat(c,"]. ").concat(e))}return f}processStack(e,t,n,r,a,o,s,i,l){const u=[];for(;t.length>0;){const e=t.pop();n.currentContext=e.contexts;let c="";if("Enter"===e.node.op&&Ll("isConstant",e.node,r,n)&&([c]=Vl(e.node.name,n)),null==r[e.node.name]){const d=Fu(e.node,r,n,this._resourceManager);c||([c]=Vl(e.node.name,n));const p=n.currentContext;re(d)?u.push(d.then((u=>(r[c]=u,this.keepIntermediateTensors&&(this.clonedTensorsMap[c]=this.cloneTensorList(u)),n.currentContext=p,this.checkTensorForDisposal(c,e.node,r,n,o,s,i),this.processChildNodes(e.node,t,n,r,a,l),u)))):(r[c]=d,this.keepIntermediateTensors&&(this.clonedTensorsMap[c]=this.cloneTensorList(d)),this.checkTensorForDisposal(c,e.node,r,n,o,s,i),this.processChildNodes(e.node,t,n,r,a,l))}else this.processChildNodes(e.node,t,n,r,a,l)}return u}processChildNodes(e,t,n,r,a,o){e.children.forEach((e=>{const[s]=Vl(e.name,n);!a[s]&&o.has(e.name)&&("Merge"===e.op?e.inputNames.some((e=>!!zl(e,r,n)))&&(a[s]=!0,t.push({contexts:n.currentContext,node:e})):e.inputNames.every((e=>!!zl(e,r,n)))&&(a[s]=!0,t.push({contexts:n.currentContext,node:e})))}))}dispose(){Object.keys(this.weightMap).forEach((e=>this.weightMap[e].forEach((e=>e.dispose()))))}checkInputShapeAndType(e){Object.keys(e).forEach((t=>{const n=e[t],[r]=Ul(t),a=this.graph.nodes[r];if(a.attrParams.shape&&a.attrParams.shape.value){const e=a.attrParams.shape.value;z(e.length===n.shape.length&&n.shape.every(((t,n)=>-1===e[n]||e[n]===t)),(()=>"The shape of dict['".concat(a.name,"'] provided in ")+"model.execute(dict) must be [".concat(e,"], but was ")+"[".concat(n.shape,"]")))}a.attrParams.dtype&&a.attrParams.dtype.value&&z(n.dtype===a.attrParams.dtype.value,(()=>"The dtype of dict['".concat(a.name,"'] provided in ")+"model.execute(dict) must be "+"".concat(a.attrParams.dtype.value,", but was ").concat(n.dtype)))}))}mapInputs(e){var t,n;const r={};for(const a in e){const o=null===(n=null===(t=this._signature)||void 0===t?void 0:t.inputs)||void 0===n?void 0:n[a];null!=o?r[o.name]=e[a]:r[a]=e[a]}return r}checkInputs(e){const t=Object.keys(e).filter((e=>{const[t]=Ul(e);return null==this.graph.nodes[t]}));if(t.length>0)throw new Error("The dict provided in model.execute(dict) has "+"keys: [".concat(t,"] that are not part of graph"))}mapOutputs(e){return e.map((e=>{var t,n;const r=null===(n=null===(t=this._signature)||void 0===t?void 0:t.outputs)||void 0===n?void 0:n[e];return null!=r?r.name:e}),{})}checkOutputs(e){e.forEach((e=>{const[t]=Ul(e);if(!this.graph.nodes[t])throw new Error("The output '".concat(e,"' is not found in the graph"))}))}}class Qu{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.hashTableNameToHandle=e,this.hashTableMap=t}addHashTable(e,t){this.hashTableNameToHandle[e]=t.handle,this.hashTableMap[t.id]=t}getHashTableHandleByName(e){return this.hashTableNameToHandle[e]}getHashTableById(e){return this.hashTableMap[e]}dispose(){for(const e in this.hashTableMap)this.hashTableMap[e].clearAndClose(),delete this.hashTableMap[e];for(const e in this.hashTableNameToHandle)this.hashTableNameToHandle[e].dispose(),delete this.hashTableNameToHandle[e]}}const $u="?tfjs-format=file",Yu="model.json";class Ju{get modelVersion(){return this.version}get inputNodes(){return this.executor.inputNodes}get outputNodes(){return this.executor.outputNodes}get inputs(){return this.executor.inputs}get outputs(){return this.executor.outputs}get weights(){return this.executor.weightMap}get metadata(){return this.artifacts.userDefinedMetadata}get modelSignature(){return this.signature}get modelStructuredOutputKeys(){return this.structuredOutputKeys}constructor(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;this.modelUrl=t,this.loadOptions=n,this.version="n/a",this.io=r,null==n&&(this.loadOptions={}),this.resourceManager=new Qu}findIOHandler(){const e=this.modelUrl;if(null!=e.load)this.handler=e;else if(null!=this.loadOptions.requestInit)this.handler=this.io.browserHTTPRequest(e,this.loadOptions);else{const t=this.io.getLoadHandlers(e,this.loadOptions);if(0===t.length)t.push(this.io.browserHTTPRequest(e,this.loadOptions));else if(t.length>1)throw new Error("Found more than one (".concat(t.length,") load handlers for ")+"URL '".concat([e],"'"));this.handler=t[0]}}load(){if(this.findIOHandler(),null==this.handler.load)throw new Error("Cannot proceed with model loading because the IOHandler provided does not have the `load` method implemented.");const e=this.handler.load();return re(e)?e.then((e=>null==e.getWeightStream?this.loadSync(e):this.loadStreaming(e))):this.loadSync(e)}loadSync(e){const t=this.io.decodeWeights(e.weightData,e.weightSpecs);return this.loadWithWeightMap(e,t)}async loadStreaming(e){if(null==e.getWeightStream)throw new Error("Model artifacts missing streamWeights function");const t=await qt(e.getWeightStream(),e.weightSpecs);return this.loadWithWeightMap(e,t)}loadWithWeightMap(e,t){this.artifacts=e;const n=this.artifacts.modelTopology;let r=this.artifacts.signature;if(null!=this.artifacts.userDefinedMetadata){const e=this.artifacts.userDefinedMetadata;null!=e.signature&&(r=e.signature),null!=e.structuredOutputKeys&&(this.structuredOutputKeys=e.structuredOutputKeys)}if(this.signature=r,this.version="".concat(n.versions.producer,".").concat(n.versions.minConsumer),this.executor=new Gu(cu.Instance.transformGraph(n,this.signature)),this.executor.weightMap=this.convertTensorMapToTensorsMap(t),this.executor.resourceManager=this.resourceManager,null!=e.modelInitializer&&null!=e.modelInitializer.node){const t=cu.Instance.transformGraph(e.modelInitializer);this.initializer=new Gu(t),this.initializer.weightMap=this.executor.weightMap,this.initializer.resourceManager=this.resourceManager,this.initializerSignature=e.initializerSignature}return!0}async save(e,t){if("string"===typeof e){const t=this.io.getSaveHandlers(e);if(0===t.length)throw new Error("Cannot find any save handlers for URL '".concat(e,"'"));if(t.length>1)throw new Error("Found more than one (".concat(t.length,") save handlers for ")+"URL '".concat(e,"'"));e=t[0]}if(null==e.save)throw new Error("GraphModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");return e.save(this.artifacts)}addStructuredOutputNames(e){if(this.structuredOutputKeys){const t={};return(e instanceof et?[e]:e).forEach(((e,n)=>t[this.structuredOutputKeys[n]]=e)),t}return e}predict(e,t){const n=this.execute(e,this.outputNodes);return this.addStructuredOutputNames(n)}async predictAsync(e,t){const n=await this.executeAsync(e,this.outputNodes);return this.addStructuredOutputNames(n)}normalizeInputs(e){var t;if(!(e instanceof et)&&!Array.isArray(e)){const n=null===(t=this.signature)||void 0===t?void 0:t.inputs;if(null!=n)for(const t in n){const r=n[t];null!=r.resourceId&&(e[t]=this.resourceIdToCapturedInput[r.resourceId])}return e}e=Array.isArray(e)?e:[e];const n=Object.keys(this.resourceIdToCapturedInput).length;if(e.length+n!==this.inputNodes.length)throw new Error("Input tensor count mismatch, the graph model has ".concat(this.inputNodes.length-n," non-resource placeholders, while there are ").concat(e.length," input tensors provided."));let r=0;return this.inputNodes.reduce(((t,n)=>{var a,o,s;const i=null===(s=null===(o=null===(a=this.signature)||void 0===a?void 0:a.inputs)||void 0===o?void 0:o[n])||void 0===s?void 0:s.resourceId;return t[n]=null!=i?this.resourceIdToCapturedInput[i]:e[r++],t}),{})}normalizeOutputs(e){return e=e||this.outputNodes,Array.isArray(e)?e:[e]}executeInitializerGraph(){return null==this.initializer?[]:null==this.initializerSignature?this.initializer.execute({},[]):this.initializer.execute({},Object.keys(this.initializerSignature.outputs))}async executeInitializerGraphAsync(){return null==this.initializer?[]:null==this.initializerSignature?this.initializer.executeAsync({},[]):this.initializer.executeAsync({},Object.keys(this.initializerSignature.outputs))}setResourceIdToCapturedInput(e){if(this.resourceIdToCapturedInput={},this.initializerSignature){const t=this.initializerSignature.outputs,n=Object.keys(t);for(let r=0;r<n.length;r++){const a=t[n[r]];this.resourceIdToCapturedInput[a.resourceId]=e[r]}}}execute(e,t){null==this.resourceIdToCapturedInput&&this.setResourceIdToCapturedInput(this.executeInitializerGraph()),e=this.normalizeInputs(e),t=this.normalizeOutputs(t);const n=this.executor.execute(e,t);return n.length>1?n:n[0]}async executeAsync(e,t){null==this.resourceIdToCapturedInput&&this.setResourceIdToCapturedInput(await this.executeInitializerGraphAsync()),e=this.normalizeInputs(e),t=this.normalizeOutputs(t);const n=await this.executor.executeAsync(e,t);return n.length>1?n:n[0]}getIntermediateTensors(){return this.executor.getIntermediateTensors()}disposeIntermediateTensors(){this.executor.disposeIntermediateTensors()}convertTensorMapToTensorsMap(e){return Object.keys(e).reduce(((t,n)=>(t[n]=[e[n]],t)),{})}dispose(){this.executor.dispose(),this.initializer&&(this.initializer.dispose(),this.resourceIdToCapturedInput&&Pt(this.resourceIdToCapturedInput)),this.resourceManager.dispose()}}async function Xu(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;if(null==t)throw new Error("modelUrl in loadGraphModel() cannot be null. Please provide a url or an IOHandler that loads the model");null==n&&(n={}),n.fromTFHub&&"string"===typeof t&&(t=function(e){e.endsWith("/")||(e+="/");return"".concat(e).concat(Yu).concat($u)}(t));const a=new Ju(t,n,r);return await a.load(),a}function Zu(e,t,n,r){return new(n||(n=Promise))((function(a,o){function s(e){try{l(r.next(e))}catch(t){o(t)}}function i(e){try{l(r.throw(e))}catch(t){o(t)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,i)}l((r=r.apply(e,t||[])).next())}))}function ec(e,t){var n,r,a,o,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(a=(a=s.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){s.label=o[1];break}if(6===o[0]&&s.label<a[1]){s.label=a[1],a=o;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(o);break}a[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(i){o=[6,i],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}}var tc=function(){function e(e){this.key=e,this.children={},this.end=!1}return e.prototype.getWord=function(){for(var e=[],t=this;null!=t;)null!=t.key&&e.unshift(t.key),t=t.parent;return[e,this.score,this.index]},e}(),nc=function(){function e(){this.root=new tc(null)}return e.prototype.insert=function(e,t,n){for(var r=this.root,a=[],o=0,s=e;o<s.length;o++){var i=s[o];a.push(i)}for(var l=0;l<a.length;l++)null==r.children[a[l]]&&(r.children[a[l]]=new tc(a[l]),r.children[a[l]].parent=r),r=r.children[a[l]],l===a.length-1&&(r.end=!0,r.score=t,r.index=n)},e.prototype.find=function(e){for(var t=this.root,n=0;n<e.length&&null!=t;)t=t.children[e[n]],n++;return t},e}();function rc(e){return/\s/.test(e)}function ac(e){return 0===e.charCodeAt(0)||65533===e.charCodeAt(0)}function oc(e){return-1!=="[~`!@#$%^&*(){}[];:\"'<,.>?/\\|-_+=".indexOf(e)}var sc=function(){function e(){}return e.prototype.load=function(){return Zu(this,void 0,void 0,(function(){var e,t,n;return ec(this,(function(r){switch(r.label){case 0:return e=this,[4,this.loadVocab()];case 1:for(e.vocab=r.sent(),this.trie=new nc,t=999;t<this.vocab.length;t++)n=this.vocab[t],this.trie.insert(n,1,t);return[2]}}))}))},e.prototype.loadVocab=function(){return Zu(this,void 0,void 0,(function(){return ec(this,(function(e){return[2,(t="https://tfhub.dev/tensorflow/tfjs-model/mobilebert/1/processed_vocab.json?tfjs-format=file",ie().platform.fetch(t,n)).then((function(e){return e.json()}))];var t,n}))}))},e.prototype.processInput=function(e){for(var t=this,n=[],r=this.cleanText(e,n).split(" "),a=0,o=r.map((function(e){e=e.toLowerCase();var r=t.runSplitOnPunc(e,a,n);return a+=e.length+1,r})),s=[],i=0;i<o.length;i++)s=s.concat(o[i]);return s},e.prototype.cleanText=function(e,t){for(var n=[],r=0,a=0,o=0,s=e;o<s.length;o++){var i=s[o];if(ac(i))r+=i.length;else{if(rc(i)){if(!(n.length>0&&" "!==n[n.length-1])){r+=i.length;continue}n.push(" "),t[a]=r,r+=i.length}else n.push(i),t[a]=r,r+=i.length;a++}}return n.join("")},e.prototype.runSplitOnPunc=function(e,t,n){for(var r=[],a=!0,o=0,s=e;o<s.length;o++){var i=s[o];oc(i)?(r.push({text:i,index:n[t]}),t+=i.length,a=!0):(a&&(r.push({text:"",index:n[t]}),a=!1),r[r.length-1].text+=i,t+=i.length)}return r},e.prototype.tokenize=function(e){var t=[],n=this.processInput(e);n.forEach((function(e){"[CLS]"!==e.text&&"[SEP]"!==e.text&&(e.text="".concat("\u2581").concat(e.text.normalize("NFKC")))}));for(var r=0;r<n.length;r++){for(var a=[],o=0,s=n[r].text;o<s.length;o++){var i=s[o];a.push(i)}for(var l=!1,u=0,c=[],d=a.length;u<d;){for(var p=d,h=void 0;u<p;){var f=a.slice(u,p).join(""),m=this.trie.find(f);if(null!=m&&null!=m.end){h=m.getWord()[2];break}p-=1}if(null==h){l=!0;break}c.push(h),u=p}l?t.push(100):t=t.concat(c)}return t},e}();function ic(){return Zu(this,void 0,void 0,(function(){var e;return ec(this,(function(t){switch(t.label){case 0:return[4,(e=new sc).load()];case 1:return t.sent(),[2,e]}}))}))}var lc=384,uc=function(){function e(e){this.modelConfig=e,null==this.modelConfig&&(this.modelConfig={modelUrl:"https://tfhub.dev/tensorflow/tfjs-model/mobilebert/1",fromTFHub:!0}),null==this.modelConfig.fromTFHub&&(this.modelConfig.fromTFHub=!1)}return e.prototype.process=function(e,t,n,r,a){void 0===a&&(a=128),e=(e=e.replace(/\?/g,"")).trim(),e+="?";var o=this.tokenizer.tokenize(e);if(o.length>n)throw new Error("The length of question token exceeds the limit (".concat(n,")."));for(var s=this.tokenizer.processInput(t.trim()),i=[],l=[],u=0;u<s.length;u++)for(var c=s[u].text,d=this.tokenizer.tokenize(c),p=0;p<d.length;p++){var h=d[p];i.push(u),l.push(h)}for(var f=r-o.length-3,m=[],g=0;g<l.length;){var y=l.length-g;if(y>f&&(y=f),m.push({start:g,length:y}),g+y===l.length)break;g+=Math.min(y,a)}var b=m.map((function(e){var t=[],n=[],a={};t.push(101),n.push(0);for(var u=0;u<o.length;u++){var c=o[u];t.push(c),n.push(0)}t.push(102),n.push(0);for(u=0;u<e.length;u++){var d=u+e.start,p=l[d];t.push(p),n.push(1),a[t.length]=i[d]}t.push(102),n.push(1);for(var h=t,f=h.map((function(e){return 1}));h.length<r;)h.push(0),f.push(0),n.push(0);return{inputIds:h,inputMask:f,segmentIds:n,origTokens:s,tokenToOrigMap:a}}));return b},e.prototype.load=function(){return Zu(this,void 0,void 0,(function(){var e,t,n,r,a;return ec(this,(function(o){switch(o.label){case 0:return e=this,[4,Xu(this.modelConfig.modelUrl,{fromTFHub:this.modelConfig.fromTFHub})];case 1:return e.model=o.sent(),1,t=Bo([1,lc],"int32"),n=Bo([1,lc],"int32"),r=Bo([1,lc],"int32"),this.model.execute({input_ids:t,segment_ids:n,input_mask:r,global_step:Xn(1,"int32")}),a=this,[4,ic()];case 2:return a.tokenizer=o.sent(),[2]}}))}))},e.prototype.findAnswers=function(e,t){return Zu(this,void 0,void 0,(function(){var n,r,a,o,s,i,l,u,c,d,p=this;return ec(this,(function(h){switch(h.label){case 0:if(null==e||null==t)throw new Error("The input to findAnswers call is null, please pass a string as input.");return n=this.process(e,t,64,384),r=n.map((function(e){return e.inputIds})),a=n.map((function(e){return e.segmentIds})),o=n.map((function(e){return e.inputMask})),s=Xn(1,"int32"),i=n.length,l=Rt((function(){var e=ei(r,[i,lc],"int32"),t=ei(a,[i,lc],"int32"),n=ei(o,[i,lc],"int32");return p.model.execute({input_ids:e,segment_ids:t,input_mask:n,global_step:s},["start_logits","end_logits"])})),[4,Promise.all([l[0].array(),l[1].array()])];case 1:for(u=h.sent(),s.dispose(),l[0].dispose(),l[1].dispose(),c=[],d=0;d<i;d++)c.push(this.getBestAnswers(u[0][d],u[1][d],n[d].origTokens,n[d].tokenToOrigMap,t,d));return[2,c.reduce((function(e,t){return e.concat(t)}),[]).sort((function(e,t){return t.score-e.score})).slice(0,5)]}}))}))},e.prototype.getBestAnswers=function(e,t,n,r,a,o){var s,i=this.getBestIndex(e),l=this.getBestIndex(t),u=[];i.forEach((function(n){l.forEach((function(a){r[n+1]&&r[a+1]&&a>=n&&(a-n+1<32&&u.push({start:n,end:a,score:e[n]+t[a]}))}))})),u.sort((function(e,t){return t.score-e.score}));for(var c=[],d=0;d<u.length&&!(d>=5||u[d].score<4.3980759382247925);d++){var p="",h=0,f=0;u[d].start>0?(p=(s=this.convertBack(n,r,u[d].start,u[d].end,a))[0],h=s[1],f=s[2]):p="",c.push({text:p,score:u[d].score,startIndex:h,endIndex:f})}return c},e.prototype.getBestIndex=function(e){for(var t=[],n=0;n<384;n++)t.push([n,n,e[n]]);t.sort((function(e,t){return t[2]-e[2]}));var r=[];for(n=0;n<5;n++)r.push(t[n][0]);return r},e.prototype.convertBack=function(e,t,n,r,a){var o=r+1,s=t[n+1],i=t[o],l=e[s].index,u=i<e.length-1?e[i+1].index-1:e[i].index+e[i].text.length;return[a.slice(l,u+1).trim(),l,u]},e}();const cc=function(e){let{userData:t,dataSet:n,actions:r}=e;const{querySubject:a,queryTopic:o}=t,s=n[a].QnA[o].questions.pop(),i=n[a].Para[o],[l,u]=(0,S.useState)(),[c,d]=(0,S.useState)(null),p=async()=>{console.log("loading!"),console.log("Question submitted.",s,i);const e=await function(e){return Zu(this,void 0,void 0,(function(){var t;return ec(this,(function(n){switch(n.label){case 0:return[4,(t=new uc(e)).load()];case 1:return n.sent(),[2,t]}}))}))}();d(e),console.log("Model loaded."),h()},h=async()=>{const e=i,t=s,n=await c.findAnswers(t,e);u(n),console.log(n)};return(0,S.useEffect)((()=>{p()}),[]),(0,I.jsxs)("div",{children:[(0,I.jsx)("p",{className:"startBtn btn btn-secondary text-dark",children:s}),null==c?(0,I.jsx)("div",{children:(0,I.jsx)("div",{className:"startBtn btn btn-secondary text-dark",children:"Model Loading..."})}):(0,I.jsxs)("div",{className:"startBtn btn",children:["Answers",l?l.map(((e,t)=>(0,I.jsxs)("p",{className:"startBtn btn btn-secondary text-dark",children:[(0,I.jsxs)("b",{children:["Answer ",t+1," - "]}),"  ",e]}))):""]})]})},dc="CourseExplorer",pc={botName:dc,lang:"no",initialMessages:[(0,T.createChatBotMessage)("Welcomne to the ".concat(dc,", I\u2019m here to help you with your queries regarding our online course system and provide answers of some most frequently asked questions. \ud83d\ude0e")),(0,T.createChatBotMessage)('Note: If anytime you want to: restart type -> ".restart" or goto menu section type -> ".menu"',{delay:500,widget:"GetStarted"})],state:{checker:null,userData:{name:"",querySubject:"",queryTopic:""},dataSet:_},customComponents:{botAvatar:e=>(0,I.jsx)(C,{...e}),userAvatar:e=>(0,I.jsx)(A,{...e})},widgets:[{widgetName:"GetStarted",widgetFunc:e=>(0,I.jsx)(M,{...e}),mapStateToProps:[]},{widgetName:"UserInterest",widgetFunc:e=>(0,I.jsx)(O,{...e}),mapStateToProps:[]},{widgetName:"QueryTopic",widgetFunc:e=>(0,I.jsx)(D,{...e}),mapStateToProps:["userData","dataSet"]},{widgetName:"CourseItem",widgetFunc:e=>(0,I.jsx)(R,{...e}),mapStateToProps:["userData","dataSet"]},{widgetName:"FAQitem",widgetFunc:e=>(0,I.jsx)(P,{...e}),mapStateToProps:["userData","dataSet"]},{widgetName:"UserQuery",widgetFunc:e=>(0,I.jsx)(cc,{...e}),mapStateToProps:["userData","dataSet"]}]},hc=e=>{let{createChatBotMessage:t,setState:n,children:r}=e;const a=r.props.children,o=function(){const e=t("Please, ".concat(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"answer correctly the above asked question!"," \ud83d\ude35"));f(e)},s=()=>{const e=t("Please enter your name to proceed! (just for conversation purpose)");f(e,"name")},i=()=>{const e=[t("Welcomne to the ".concat("courseExplorer",", I\u2019m here to help you with your queries regarding our online course system and provide answers of some most frequently asked questions. \ud83d\ude0e")),t('Note: If anytime you want to: restart type -> ".restart" or goto menu section type -> ".menu"',{widget:"GetStarted"})];n((t=>({...t,messages:e,checker:null})))},l=()=>{const e=t("HI, ".concat(a.props.state.userData.name,". What would you like to know about?"),{widget:"UserInterest",delay:500});f(e,"choice")},u=()=>{const e=t("".concat(a.props.state.userData.name,", pls select what in ").concat(a.props.state.userData.querySubject,", you would like to know about?"),{widget:"QueryTopic",delay:500});f(e,"topic")},c=()=>{console.log("handle courses here!");const e=t("The selected course details are: \u2193",{widget:"CourseItem",delay:500});f(e,"courseDisplay")},d=()=>{const e=t("The most frequently asked questions of ".concat(a.props.state.userData.queryTopic," are: \u2193"),{widget:"FAQitem",delay:500});f(e,"FAQdisplay")},p=()=>{const e=t("Pls write down a valid query related to ".concat(a.props.state.userData.queryTopic," below with a ? at last \ud83e\udd20"));f(e,"QueryDisplay")},h=()=>{const e=t("Let me see, \ud83e\udd14",{withAvatar:!0,delay:1e3,widget:"UserQuery"});f(e,"QueryResolved")},f=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";n((n=>({...n,messages:[...n.messages,e],checker:""!==t?t:n.checker})))};return(0,I.jsx)("div",{children:S.Children.map(r,(e=>S.cloneElement(e,{actions:{askName:s,askUserInterest:l,answerCorrectly:o,askQueryTopic:u,handleCourses:c,handleFAQs:d,handleQueries:p,resolveQueries:h,reStart:i}})))})},fc=e=>{let{children:t,actions:n}=e;const r=e=>{console.log(e);const r=t.props.state.checker;if(".restart"===e)n.reStart();else if(".end"==e)r="end";else{if("end"===r)return;if(".menu"===e);else if("name"===r){e=e.trim();/^[a-zA-Z ]{2,30}$/.test(e)?(t.props.state.userData.name=e,n.askUserInterest()):n.answerCorrectly("enter a valid name!")}else if("QueryDisplay"===r)if((e=e.trim())&&"?"===e[e.length-1]){const{querySubject:r,queryTopic:a}=t.props.state.userData;console.log(t.props.state.dataSet[r].QnA[a]),t.props.state.dataSet[r].QnA[a].questions.push(e),console.log(t.props.state.dataSet[r].QnA[a]),n.resolveQueries()}else n.answerCorrectly("enter a valid query!");else n.answerCorrectly()}};return(0,I.jsx)("div",{children:S.Children.map(t,(e=>S.cloneElement(e,{parse:r,actions:n})))})};const mc=function(){return(0,I.jsx)("div",{className:"App",children:(0,I.jsx)("div",{className:"bot",children:(0,I.jsx)(E(),{config:pc,messageParser:fc,actionProvider:hc})})})};N.createRoot(document.getElementById("root")).render((0,I.jsx)(S.StrictMode,{children:(0,I.jsx)(mc,{})}))})()})();
//# sourceMappingURL=main.10d75583.js.map